============================= test session starts =============================
platform win32 -- Python 3.11.9, pytest-9.0.2, pluggy-1.6.0 -- C:\Users\Jesse\AppData\Local\Programs\Python\Python311\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\Jesse\.gemini\antigravity\playground\radiant-ride\PYrte-Radio-Shack
configfile: pytest.ini
testpaths: tests
plugins: anyio-4.12.0, asyncio-1.3.0, cov-7.0.0
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 147 items

tests/services/test_udio_provider.py::TestUdioProvider::test_provider_type PASSED [  0%]
tests/services/test_udio_provider.py::TestUdioProvider::test_init_with_token PASSED [  1%]
tests/services/test_udio_provider.py::TestUdioProvider::test_generate_success PASSED [  2%]
tests/services/test_udio_provider.py::TestUdioProvider::test_generate_with_string_result PASSED [  2%]
tests/services/test_udio_provider.py::TestUdioProvider::test_generate_with_list_result PASSED [  3%]
tests/services/test_udio_provider.py::TestUdioProvider::test_generate_no_result PASSED [  4%]
tests/services/test_udio_provider.py::TestUdioProvider::test_generate_import_error PASSED [  4%]
tests/services/test_udio_provider.py::TestUdioProvider::test_generate_api_error PASSED [  5%]
tests/services/test_udio_provider.py::TestUdioProvider::test_get_status PASSED [  6%]
tests/services/test_udio_provider.py::TestUdioProvider::test_download_audio_success PASSED [  6%]
tests/services/test_udio_provider.py::TestUdioProvider::test_close PASSED [  7%]
tests/services/test_udio_provider.py::TestGenerationRequestUdioFormat::test_to_udio_format_basic PASSED [  8%]
tests/services/test_udio_provider.py::TestGenerationRequestUdioFormat::test_to_udio_format_with_style PASSED [  8%]
tests/test_api.py::TestHealthEndpoints::test_root_endpoint PASSED        [  9%]
tests/test_api.py::TestHealthEndpoints::test_health_endpoint PASSED      [ 10%]
tests/test_api.py::TestHealthEndpoints::test_health_api_endpoint PASSED  [ 10%]
tests/test_api.py::TestHealthEndpoints::test_health_live_endpoint PASSED [ 11%]
tests/test_api.py::TestQueueEndpoints::test_list_queue_empty PASSED      [ 12%]
tests/test_api.py::TestQueueEndpoints::test_create_queue_item PASSED     [ 12%]
tests/test_api.py::TestQueueEndpoints::test_create_queue_item_minimal PASSED [ 13%]
tests/test_api.py::TestQueueEndpoints::test_create_queue_item_invalid PASSED [ 14%]
tests/test_api.py::TestQueueEndpoints::test_get_queue_stats PASSED       [ 14%]
tests/test_api.py::TestQueueEndpoints::test_get_queue_item_not_found PASSED [ 15%]
tests/test_api.py::TestUserEndpoints::test_list_users_empty PASSED       [ 16%]
tests/test_api.py::TestUserEndpoints::test_create_user PASSED            [ 17%]
tests/test_api.py::TestUserEndpoints::test_create_user_existing PASSED   [ 17%]
tests/test_api.py::TestUserEndpoints::test_get_user_stats PASSED         [ 18%]
tests/test_api.py::TestUserEndpoints::test_get_leaderboard PASSED        [ 19%]
tests/test_api.py::TestUserEndpoints::test_get_user_by_telegram_not_found PASSED [ 19%]
tests/test_api.py::TestSongEndpoints::test_list_songs_empty PASSED       [ 20%]
tests/test_api.py::TestSongEndpoints::test_get_song_stats PASSED         [ 21%]
tests/test_api.py::TestSongEndpoints::test_get_genres PASSED             [ 21%]
tests/test_api.py::TestSongEndpoints::test_get_top_songs PASSED          [ 22%]
tests/test_api.py::TestSongEndpoints::test_get_song_not_found PASSED     [ 23%]
tests/test_api.py::TestVoteEndpoints::test_list_votes_empty PASSED       [ 23%]
tests/test_api.py::TestVoteEndpoints::test_list_votes_invalid_filter PASSED [ 24%]
tests/test_api.py::TestVoteEndpoints::test_get_vote_stats PASSED         [ 25%]
tests/test_api.py::TestVoteEndpoints::test_cast_vote_invalid_type PASSED [ 25%]
tests/test_api.py::TestVoteEndpoints::test_cast_vote_queue_not_found PASSED [ 26%]
tests/test_api.py::TestWebhookEndpoints::test_suno_webhook PASSED        [ 27%]
tests/test_api.py::TestWebhookEndpoints::test_n8n_trigger_webhook PASSED [ 27%]
tests/test_api.py::TestWebhookEndpoints::test_n8n_trigger_invalid_workflow PASSED [ 28%]
tests/test_chat_verification.py::test_chat_flow PASSED                   [ 29%]
tests/test_chat_verification.py::test_system_message PASSED              [ 29%]
tests/test_integration.py::TestUserQueueIntegration::test_user_creates_queue_item PASSED [ 30%]
tests/test_integration.py::TestUserQueueIntegration::test_user_votes_on_queue_item PASSED [ 31%]
tests/test_integration.py::TestUserQueueIntegration::test_vote_affects_queue_priority PASSED [ 31%]
tests/test_integration.py::TestUserQueueIntegration::test_user_reputation_affects_priority PASSED [ 32%]
tests/test_integration.py::TestQueueSongIntegration::test_queue_item_links_to_song PASSED [ 33%]
tests/test_integration.py::TestQueueSongIntegration::test_song_vote_aggregation PASSED [ 34%]
tests/test_integration.py::TestReputationSystem::test_successful_request_increases_reputation PASSED [ 34%]
tests/test_integration.py::TestReputationSystem::test_upvotes_increase_reputation PASSED [ 35%]
tests/test_integration.py::TestReputationSystem::test_downvotes_decrease_reputation PASSED [ 36%]
tests/test_integration.py::TestReputationSystem::test_tier_progression PASSED [ 36%]
tests/test_integration.py::TestQueueProcessingFlow::test_full_request_lifecycle PASSED [ 37%]
tests/test_integration.py::TestQueueProcessingFlow::test_failed_request_retry PASSED [ 38%]
tests/test_integration.py::TestMultiUserScenarios::test_queue_ordering_by_priority PASSED [ 38%]
tests/test_integration.py::TestMultiUserScenarios::test_unique_vote_per_user PASSED [ 39%]
tests/test_liquidsoap_client.py::test_get_queue_length PASSED            [ 40%]
tests/test_liquidsoap_client.py::test_push_song PASSED                   [ 40%]
tests/test_liquidsoap_client.py::test_skip_current PASSED                [ 41%]
tests/test_models.py::TestUserModel::test_user_creation PASSED           [ 42%]
tests/test_models.py::TestUserModel::test_user_display_name_with_username PASSED [ 42%]
tests/test_models.py::TestUserModel::test_user_display_name_without_username PASSED [ 43%]
tests/test_models.py::TestUserModel::test_user_tier_new PASSED           [ 44%]
tests/test_models.py::TestUserModel::test_user_tier_regular PASSED       [ 44%]
tests/test_models.py::TestUserModel::test_user_tier_trusted PASSED       [ 45%]
tests/test_models.py::TestUserModel::test_user_tier_vip PASSED           [ 46%]
tests/test_models.py::TestUserModel::test_user_tier_elite PASSED         [ 46%]
tests/test_models.py::TestUserModel::test_user_priority_multiplier PASSED [ 47%]
tests/test_models.py::TestUserModel::test_user_max_daily_requests FAILED [ 48%]
tests/test_models.py::TestUserModel::test_user_success_rate PASSED       [ 48%]
tests/test_models.py::TestUserModel::test_user_success_rate_no_requests PASSED [ 49%]
tests/test_models.py::TestUserModel::test_user_vote_ratio PASSED         [ 50%]
tests/test_models.py::TestUserModel::test_user_calculate_reputation PASSED [ 51%]
tests/test_models.py::TestSongModel::test_song_creation PASSED           [ 51%]
tests/test_models.py::TestSongModel::test_song_duration_formatted PASSED [ 52%]
tests/test_models.py::TestSongModel::test_song_duration_formatted_zero PASSED [ 53%]
tests/test_models.py::TestSongModel::test_song_vote_score PASSED         [ 53%]
tests/test_models.py::TestSongModel::test_song_vote_ratio PASSED         [ 54%]
tests/test_models.py::TestSongModel::test_song_is_ready_for_broadcast PASSED [ 55%]
tests/test_models.py::TestSongModel::test_song_not_ready_unapproved PASSED [ 55%]
tests/test_models.py::TestRadioQueueModel::test_queue_creation PASSED    [ 56%]
tests/test_models.py::TestRadioQueueModel::test_queue_vote_score PASSED  [ 57%]
tests/test_models.py::TestRadioQueueModel::test_queue_can_retry_failed PASSED [ 57%]
tests/test_models.py::TestRadioQueueModel::test_queue_cannot_retry_max_reached PASSED [ 58%]
tests/test_models.py::TestRadioQueueModel::test_queue_is_active PASSED   [ 59%]
tests/test_models.py::TestRadioQueueModel::test_queue_is_not_active_completed PASSED [ 59%]
tests/test_models.py::TestRadioQueueModel::test_queue_calculate_priority PASSED [ 60%]
tests/test_models.py::TestVoteModel::test_vote_creation PASSED           [ 61%]
tests/test_models.py::TestVoteModel::test_vote_value PASSED              [ 61%]
tests/test_models.py::TestVoteModel::test_vote_flip PASSED               [ 62%]
tests/test_models.py::TestRadioHistoryModel::test_history_creation PASSED [ 63%]
tests/test_models.py::TestRadioHistoryModel::test_history_engagement_score PASSED [ 63%]
tests/test_models.py::TestRadioHistoryModel::test_history_play_duration_formatted PASSED [ 64%]
tests/test_priority.py::TestPriorityCalculation::test_calculate_priority_base_only PASSED [ 65%]
tests/test_priority.py::TestPriorityCalculation::test_calculate_priority_with_base_variations PASSED [ 65%]
tests/test_priority.py::TestPriorityCalculation::test_upvotes_increase_priority PASSED [ 66%]
tests/test_priority.py::TestPriorityCalculation::test_multiple_upvotes_linear_increase PASSED [ 67%]
tests/test_priority.py::TestPriorityCalculation::test_downvotes_decrease_priority PASSED [ 68%]
tests/test_priority.py::TestPriorityCalculation::test_multiple_downvotes_linear_decrease PASSED [ 68%]
tests/test_priority.py::TestPriorityCalculation::test_priority_cannot_go_negative PASSED [ 69%]
tests/test_priority.py::TestPriorityCalculation::test_upvotes_and_downvotes_combined PASSED [ 70%]
tests/test_priority.py::TestPriorityCalculation::test_reputation_affects_priority PASSED [ 70%]
tests/test_priority.py::TestPriorityCalculation::test_various_reputation_levels PASSED [ 71%]
tests/test_priority.py::TestPriorityCalculation::test_priority_boost_adds_100 PASSED [ 72%]
tests/test_priority.py::TestPriorityCalculation::test_priority_boost_with_all_factors PASSED [ 72%]
tests/test_priority.py::TestPriorityCalculation::test_no_decay_within_first_hour PASSED [ 73%]
tests/test_priority.py::TestPriorityCalculation::test_decay_after_one_hour PASSED [ 74%]
tests/test_priority.py::TestPriorityCalculation::test_decay_multiple_hours PASSED [ 74%]
tests/test_priority.py::TestPriorityCalculation::test_update_priority_method PASSED [ 75%]
tests/test_priority.py::TestPriorityCalculation::test_update_priority_idempotent PASSED [ 76%]
tests/test_priority.py::TestPriorityCalculation::test_maximum_priority_scenario PASSED [ 76%]
tests/test_priority.py::TestPriorityCalculation::test_minimum_priority_clamped_at_zero PASSED [ 77%]
tests/test_priority.py::TestPriorityCalculation::test_all_factors_combined PASSED [ 78%]
tests/test_priority.py::TestPriorityFormula::test_upvote_weight_is_10 PASSED [ 78%]
tests/test_priority.py::TestPriorityFormula::test_downvote_weight_is_5 PASSED [ 79%]
tests/test_priority.py::TestPriorityFormula::test_reputation_multiplier_is_half PASSED [ 80%]
tests/test_priority.py::TestPriorityFormula::test_priority_boost_is_100 PASSED [ 80%]
tests/test_priority.py::TestQueueItemProperties::test_vote_score_property PASSED [ 81%]
tests/test_priority.py::TestQueueItemProperties::test_is_active_property PASSED [ 82%]
tests/test_priority.py::TestQueueItemProperties::test_can_retry_property PASSED [ 82%]
tests/test_queue_serialization.py::test_queue_user_serialization PASSED  [ 83%]
tests/test_queue_serialization.py::test_queue_user_serialization_no_user PASSED [ 84%]
tests/test_queue_stats.py::test_get_queue_stats_average_wait PASSED      [ 85%]
tests/test_services.py::TestContentModerator::test_safe_content_passes PASSED [ 85%]
tests/test_services.py::TestContentModerator::test_empty_content_fails PASSED [ 86%]
tests/test_services.py::TestContentModerator::test_short_content_fails PASSED [ 87%]
tests/test_services.py::TestContentModerator::test_prompt_injection_detected PASSED [ 87%]
tests/test_services.py::TestContentModerator::test_violence_detected PASSED [ 88%]
tests/test_services.py::TestContentModerator::test_sanitize_removes_injection PASSED [ 89%]
tests/test_services.py::TestContentModerator::test_get_safe_prompt_sanitizes PASSED [ 89%]
tests/test_services.py::TestCostTracker::test_record_usage PASSED        [ 90%]
tests/test_services.py::TestCostTracker::test_cost_calculation PASSED    [ 91%]
tests/test_services.py::TestCostTracker::test_free_tier_no_cost PASSED   [ 91%]
tests/test_services.py::TestCostTracker::test_usage_summary PASSED       [ 92%]
tests/test_services.py::TestCostTracker::test_monthly_report PASSED      [ 93%]
tests/test_services.py::TestCostTracker::test_budget_tracking PASSED     [ 93%]
tests/test_services.py::TestCostTracker::test_estimate_monthly_cost PASSED [ 94%]
tests/test_services.py::TestCostTracker::test_clear_old_records PASSED   [ 95%]
tests/test_services.py::TestModeratorSingleton::test_get_moderator_returns_same_instance PASSED [ 95%]
tests/test_services.py::TestModeratorSingleton::test_different_modes_different_instances PASSED [ 96%]
tests/test_services.py::TestCostTrackerSingleton::test_get_cost_tracker_returns_same_instance PASSED [ 97%]
tests/test_webhooks_broadcast.py::test_broadcast_status_start_song FAILED [ 97%]
tests/test_webhooks_broadcast.py::test_broadcast_status_end_song FAILED  [ 98%]
tests/test_webhooks_broadcast.py::test_broadcast_unknown_song FAILED     [ 99%]
tests/test_webhooks_broadcast.py::test_broadcast_invalid_secret PASSED   [100%]

================================== FAILURES ===================================
_________________ TestUserModel.test_user_max_daily_requests __________________
tests\test_models.py:77: in test_user_max_daily_requests
    assert sample_user.max_daily_requests == 3
E   assert 5 == 3
E    +  where 5 = <User 1: @testuser (rep=0.0)>.max_daily_requests
---------------------------- Captured stdout setup ----------------------------
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | BEGIN (implicit)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("chat_messages")
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("chat_messages")
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("radio_history")
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("radio_history")
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("banned_words")
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("banned_words")
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("radio_queue")
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("radio_queue")
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("songs")
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("songs")
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("users")
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("users")
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("votes")
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("votes")
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE banned_words (
	id INTEGER NOT NULL, 
	word VARCHAR(100) NOT NULL, 
	category VARCHAR(50) NOT NULL, 
	reason TEXT, 
	is_active BOOLEAN NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_banned_words PRIMARY KEY (id)
)


2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00009s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE UNIQUE INDEX ix_banned_words_word ON banned_words (word)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00019s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE songs (
	id INTEGER NOT NULL, 
	suno_job_id VARCHAR(255), 
	suno_status VARCHAR(50) NOT NULL, 
	title VARCHAR(500), 
	artist VARCHAR(255) NOT NULL, 
	original_prompt TEXT, 
	enhanced_prompt TEXT, 
	style_prompt TEXT, 
	lyrics TEXT, 
	genre VARCHAR(100), 
	subgenre VARCHAR(100), 
	mood VARCHAR(100), 
	energy VARCHAR(50), 
	duration_seconds FLOAT, 
	bpm INTEGER, 
	"key" VARCHAR(10), 
	is_instrumental BOOLEAN NOT NULL, 
	audio_url VARCHAR(1000), 
	local_file_path VARCHAR(500), 
	file_size_bytes INTEGER, 
	audio_format VARCHAR(10) NOT NULL, 
	lufs_level FLOAT, 
	peak_db FLOAT, 
	is_normalized BOOLEAN NOT NULL, 
	generation_started_at DATETIME, 
	generation_completed_at DATETIME, 
	downloaded_at DATETIME, 
	play_count INTEGER NOT NULL, 
	total_upvotes INTEGER NOT NULL, 
	total_downvotes INTEGER NOT NULL, 
	is_approved BOOLEAN NOT NULL, 
	moderation_notes TEXT, 
	flagged_at DATETIME, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_songs PRIMARY KEY (id)
)


2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00013s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE UNIQUE INDEX ix_songs_suno_job_id ON songs (suno_job_id)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00016s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	email VARCHAR(255), 
	password_hash VARCHAR(255), 
	google_id VARCHAR(255), 
	telegram_id BIGINT, 
	telegram_username VARCHAR(255), 
	telegram_first_name VARCHAR(255), 
	telegram_last_name VARCHAR(255), 
	reputation_score FLOAT NOT NULL, 
	total_requests INTEGER NOT NULL, 
	successful_requests INTEGER NOT NULL, 
	failed_requests INTEGER NOT NULL, 
	total_upvotes_received INTEGER NOT NULL, 
	total_downvotes_received INTEGER NOT NULL, 
	total_upvotes_given INTEGER NOT NULL, 
	total_downvotes_given INTEGER NOT NULL, 
	is_banned BOOLEAN NOT NULL, 
	is_premium BOOLEAN NOT NULL, 
	ban_reason TEXT, 
	banned_at DATETIME, 
	banned_until DATETIME, 
	last_request_at DATETIME, 
	last_vote_at DATETIME, 
	last_active_at DATETIME, 
	avatar_url VARCHAR(500), 
	username_last_changed_at DATETIME, 
	password_reset_token VARCHAR(255), 
	password_reset_expires_at DATETIME, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_users PRIMARY KEY (id)
)


2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00010s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE UNIQUE INDEX ix_users_google_id ON users (google_id)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00018s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00017s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE UNIQUE INDEX ix_users_email ON users (email)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00012s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_users_password_reset_token ON users (password_reset_token)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00011s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE chat_messages (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	content TEXT NOT NULL, 
	message_type VARCHAR(20) NOT NULL, 
	is_deleted BOOLEAN NOT NULL, 
	deleted_by_id INTEGER, 
	deleted_at DATETIME, 
	delete_reason VARCHAR(255), 
	reply_to_id INTEGER, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_chat_messages PRIMARY KEY (id), 
	CONSTRAINT fk_chat_messages_user_id_users FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE SET NULL, 
	CONSTRAINT fk_chat_messages_reply_to_id_chat_messages FOREIGN KEY(reply_to_id) REFERENCES chat_messages (id) ON DELETE SET NULL
)


2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00019s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE radio_history (
	id INTEGER NOT NULL, 
	song_id INTEGER NOT NULL, 
	queue_id INTEGER, 
	played_at DATETIME NOT NULL, 
	ended_at DATETIME, 
	duration_played_seconds FLOAT, 
	broadcast_file_path VARCHAR(500), 
	stream_mount VARCHAR(100), 
	requester_telegram_id BIGINT, 
	requester_username VARCHAR(255), 
	song_title VARCHAR(500), 
	song_artist VARCHAR(255), 
	song_genre VARCHAR(100), 
	had_dj_intro BOOLEAN NOT NULL, 
	dj_intro_text TEXT, 
	listener_count INTEGER, 
	upvotes_during_play INTEGER NOT NULL, 
	downvotes_during_play INTEGER NOT NULL, 
	skips_requested INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_radio_history PRIMARY KEY (id), 
	CONSTRAINT fk_radio_history_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)
)


2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00020s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_history_played_at ON radio_history (played_at)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00022s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_history_song_id ON radio_history (song_id)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00017s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_history_queue_id ON radio_history (queue_id)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00019s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE radio_queue (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	telegram_user_id BIGINT, 
	telegram_message_id BIGINT, 
	song_id INTEGER, 
	original_prompt TEXT NOT NULL, 
	enhanced_prompt TEXT, 
	genre_hint VARCHAR(100), 
	is_instrumental BOOLEAN NOT NULL, 
	status VARCHAR(50) NOT NULL, 
	suno_job_id VARCHAR(255), 
	error_message TEXT, 
	retry_count INTEGER NOT NULL, 
	max_retries INTEGER NOT NULL, 
	base_priority FLOAT NOT NULL, 
	priority_score FLOAT NOT NULL, 
	is_priority_boost BOOLEAN NOT NULL, 
	priority_boost_reason VARCHAR(255), 
	upvotes INTEGER NOT NULL, 
	downvotes INTEGER NOT NULL, 
	requested_at DATETIME NOT NULL, 
	queued_at DATETIME, 
	generation_started_at DATETIME, 
	generation_completed_at DATETIME, 
	broadcast_started_at DATETIME, 
	completed_at DATETIME, 
	is_moderated BOOLEAN NOT NULL, 
	moderation_passed BOOLEAN, 
	moderation_reason TEXT, 
	has_dj_intro BOOLEAN NOT NULL, 
	dj_intro_path VARCHAR(500), 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_radio_queue PRIMARY KEY (id), 
	CONSTRAINT fk_radio_queue_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), 
	CONSTRAINT fk_radio_queue_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)
)


2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00017s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_queue_status ON radio_queue (status)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00019s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_queue_priority_score ON radio_queue (priority_score)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00019s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_queue_user_id ON radio_queue (user_id)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00010s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_queue_song_id ON radio_queue (song_id)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00017s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_queue_telegram_user_id ON radio_queue (telegram_user_id)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00022s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE votes (
	id INTEGER NOT NULL, 
	user_id INTEGER NOT NULL, 
	telegram_user_id BIGINT, 
	queue_item_id INTEGER NOT NULL, 
	vote_type VARCHAR(20) NOT NULL, 
	voted_at DATETIME NOT NULL, 
	previous_vote_type VARCHAR(20), 
	changed_at DATETIME, 
	source VARCHAR(50) NOT NULL, 
	telegram_callback_id VARCHAR(255), 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_votes PRIMARY KEY (id), 
	CONSTRAINT uq_votes_user_queue UNIQUE (user_id, queue_item_id), 
	CONSTRAINT fk_votes_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), 
	CONSTRAINT fk_votes_queue_item_id_radio_queue FOREIGN KEY(queue_item_id) REFERENCES radio_queue (id)
)


2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00024s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_votes_telegram_user_id ON votes (telegram_user_id)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00021s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_votes_user_id ON votes (user_id)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00034s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_votes_queue_item_id ON votes (queue_item_id)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00024s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | COMMIT
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | BEGIN (implicit)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | INSERT INTO users (email, password_hash, google_id, telegram_id, telegram_username, telegram_first_name, telegram_last_name, reputation_score, total_requests, successful_requests, failed_requests, total_upvotes_received, total_downvotes_received, total_upvotes_given, total_downvotes_given, is_banned, is_premium, ban_reason, banned_at, banned_until, last_request_at, last_vote_at, last_active_at, avatar_url, username_last_changed_at, password_reset_token, password_reset_expires_at, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [generated in 0.00024s] (None, None, None, 123456789, 'testuser', 'Test', 'User', 0.0, 0, 0, 0, 0, 0, 0, 0, 0, 0, None, None, None, None, None, None, None, None, None, None, '2026-01-04 08:58:47.238104', '2026-01-04 08:58:47.238104')
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | COMMIT
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | BEGIN (implicit)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | SELECT users.id, users.email, users.password_hash, users.google_id, users.telegram_id, users.telegram_username, users.telegram_first_name, users.telegram_last_name, users.reputation_score, users.total_requests, users.successful_requests, users.failed_requests, users.total_upvotes_received, users.total_downvotes_received, users.total_upvotes_given, users.total_downvotes_given, users.is_banned, users.is_premium, users.ban_reason, users.banned_at, users.banned_until, users.last_request_at, users.last_vote_at, users.last_active_at, users.avatar_url, users.username_last_changed_at, users.password_reset_token, users.password_reset_expires_at, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [generated in 0.00016s] (1,)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('id', 'email', 'password_hash', 'google_id', 'telegram_id', 'telegram_username', 'telegram_first_name', 'telegram_last_name', 'reputation_score', 'total_requests', 'successful_requests', 'failed_requests', 'total_upvotes_received', 'total_downvotes_received', 'total_upvotes_given', 'total_downvotes_given', 'is_banned', 'is_premium', 'ban_reason', 'banned_at', 'banned_until', 'last_request_at', 'last_vote_at', 'last_active_at', 'avatar_url', 'username_last_changed_at', 'password_reset_token', 'password_reset_expires_at', 'created_at', 'updated_at')
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, None, None, None, 123456789, 'testuser', 'Test', 'User', 0.0, 0, 0, 0, 0, 0, 0, 0, False, False, None, None, None, None, None, None, None, None, None, None, datetime.datetime(2026, 1, 4, 8, 58, 47, 238104), datetime.datetime(2026, 1, 4, 8, 58, 47, 238104))
----------------------------- Captured log setup ------------------------------
INFO     sqlalchemy.engine.Engine:base.py:2710 BEGIN (implicit)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("chat_messages")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("chat_messages")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("radio_history")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("radio_history")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("banned_words")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("banned_words")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("radio_queue")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("radio_queue")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("songs")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("songs")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("users")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("users")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("votes")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("votes")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE banned_words (
	id INTEGER NOT NULL, 
	word VARCHAR(100) NOT NULL, 
	category VARCHAR(50) NOT NULL, 
	reason TEXT, 
	is_active BOOLEAN NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_banned_words PRIMARY KEY (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00009s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE UNIQUE INDEX ix_banned_words_word ON banned_words (word)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00019s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE songs (
	id INTEGER NOT NULL, 
	suno_job_id VARCHAR(255), 
	suno_status VARCHAR(50) NOT NULL, 
	title VARCHAR(500), 
	artist VARCHAR(255) NOT NULL, 
	original_prompt TEXT, 
	enhanced_prompt TEXT, 
	style_prompt TEXT, 
	lyrics TEXT, 
	genre VARCHAR(100), 
	subgenre VARCHAR(100), 
	mood VARCHAR(100), 
	energy VARCHAR(50), 
	duration_seconds FLOAT, 
	bpm INTEGER, 
	"key" VARCHAR(10), 
	is_instrumental BOOLEAN NOT NULL, 
	audio_url VARCHAR(1000), 
	local_file_path VARCHAR(500), 
	file_size_bytes INTEGER, 
	audio_format VARCHAR(10) NOT NULL, 
	lufs_level FLOAT, 
	peak_db FLOAT, 
	is_normalized BOOLEAN NOT NULL, 
	generation_started_at DATETIME, 
	generation_completed_at DATETIME, 
	downloaded_at DATETIME, 
	play_count INTEGER NOT NULL, 
	total_upvotes INTEGER NOT NULL, 
	total_downvotes INTEGER NOT NULL, 
	is_approved BOOLEAN NOT NULL, 
	moderation_notes TEXT, 
	flagged_at DATETIME, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_songs PRIMARY KEY (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00013s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE UNIQUE INDEX ix_songs_suno_job_id ON songs (suno_job_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00016s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	email VARCHAR(255), 
	password_hash VARCHAR(255), 
	google_id VARCHAR(255), 
	telegram_id BIGINT, 
	telegram_username VARCHAR(255), 
	telegram_first_name VARCHAR(255), 
	telegram_last_name VARCHAR(255), 
	reputation_score FLOAT NOT NULL, 
	total_requests INTEGER NOT NULL, 
	successful_requests INTEGER NOT NULL, 
	failed_requests INTEGER NOT NULL, 
	total_upvotes_received INTEGER NOT NULL, 
	total_downvotes_received INTEGER NOT NULL, 
	total_upvotes_given INTEGER NOT NULL, 
	total_downvotes_given INTEGER NOT NULL, 
	is_banned BOOLEAN NOT NULL, 
	is_premium BOOLEAN NOT NULL, 
	ban_reason TEXT, 
	banned_at DATETIME, 
	banned_until DATETIME, 
	last_request_at DATETIME, 
	last_vote_at DATETIME, 
	last_active_at DATETIME, 
	avatar_url VARCHAR(500), 
	username_last_changed_at DATETIME, 
	password_reset_token VARCHAR(255), 
	password_reset_expires_at DATETIME, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_users PRIMARY KEY (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00010s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE UNIQUE INDEX ix_users_google_id ON users (google_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00018s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00017s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE UNIQUE INDEX ix_users_email ON users (email)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00012s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_users_password_reset_token ON users (password_reset_token)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00011s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE chat_messages (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	content TEXT NOT NULL, 
	message_type VARCHAR(20) NOT NULL, 
	is_deleted BOOLEAN NOT NULL, 
	deleted_by_id INTEGER, 
	deleted_at DATETIME, 
	delete_reason VARCHAR(255), 
	reply_to_id INTEGER, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_chat_messages PRIMARY KEY (id), 
	CONSTRAINT fk_chat_messages_user_id_users FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE SET NULL, 
	CONSTRAINT fk_chat_messages_reply_to_id_chat_messages FOREIGN KEY(reply_to_id) REFERENCES chat_messages (id) ON DELETE SET NULL
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00019s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE radio_history (
	id INTEGER NOT NULL, 
	song_id INTEGER NOT NULL, 
	queue_id INTEGER, 
	played_at DATETIME NOT NULL, 
	ended_at DATETIME, 
	duration_played_seconds FLOAT, 
	broadcast_file_path VARCHAR(500), 
	stream_mount VARCHAR(100), 
	requester_telegram_id BIGINT, 
	requester_username VARCHAR(255), 
	song_title VARCHAR(500), 
	song_artist VARCHAR(255), 
	song_genre VARCHAR(100), 
	had_dj_intro BOOLEAN NOT NULL, 
	dj_intro_text TEXT, 
	listener_count INTEGER, 
	upvotes_during_play INTEGER NOT NULL, 
	downvotes_during_play INTEGER NOT NULL, 
	skips_requested INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_radio_history PRIMARY KEY (id), 
	CONSTRAINT fk_radio_history_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00020s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_history_played_at ON radio_history (played_at)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00022s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_history_song_id ON radio_history (song_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00017s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_history_queue_id ON radio_history (queue_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00019s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE radio_queue (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	telegram_user_id BIGINT, 
	telegram_message_id BIGINT, 
	song_id INTEGER, 
	original_prompt TEXT NOT NULL, 
	enhanced_prompt TEXT, 
	genre_hint VARCHAR(100), 
	is_instrumental BOOLEAN NOT NULL, 
	status VARCHAR(50) NOT NULL, 
	suno_job_id VARCHAR(255), 
	error_message TEXT, 
	retry_count INTEGER NOT NULL, 
	max_retries INTEGER NOT NULL, 
	base_priority FLOAT NOT NULL, 
	priority_score FLOAT NOT NULL, 
	is_priority_boost BOOLEAN NOT NULL, 
	priority_boost_reason VARCHAR(255), 
	upvotes INTEGER NOT NULL, 
	downvotes INTEGER NOT NULL, 
	requested_at DATETIME NOT NULL, 
	queued_at DATETIME, 
	generation_started_at DATETIME, 
	generation_completed_at DATETIME, 
	broadcast_started_at DATETIME, 
	completed_at DATETIME, 
	is_moderated BOOLEAN NOT NULL, 
	moderation_passed BOOLEAN, 
	moderation_reason TEXT, 
	has_dj_intro BOOLEAN NOT NULL, 
	dj_intro_path VARCHAR(500), 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_radio_queue PRIMARY KEY (id), 
	CONSTRAINT fk_radio_queue_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), 
	CONSTRAINT fk_radio_queue_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00017s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_queue_status ON radio_queue (status)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00019s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_queue_priority_score ON radio_queue (priority_score)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00019s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_queue_user_id ON radio_queue (user_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00010s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_queue_song_id ON radio_queue (song_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00017s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_queue_telegram_user_id ON radio_queue (telegram_user_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00022s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE votes (
	id INTEGER NOT NULL, 
	user_id INTEGER NOT NULL, 
	telegram_user_id BIGINT, 
	queue_item_id INTEGER NOT NULL, 
	vote_type VARCHAR(20) NOT NULL, 
	voted_at DATETIME NOT NULL, 
	previous_vote_type VARCHAR(20), 
	changed_at DATETIME, 
	source VARCHAR(50) NOT NULL, 
	telegram_callback_id VARCHAR(255), 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_votes PRIMARY KEY (id), 
	CONSTRAINT uq_votes_user_queue UNIQUE (user_id, queue_item_id), 
	CONSTRAINT fk_votes_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), 
	CONSTRAINT fk_votes_queue_item_id_radio_queue FOREIGN KEY(queue_item_id) REFERENCES radio_queue (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00024s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_votes_telegram_user_id ON votes (telegram_user_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00021s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_votes_user_id ON votes (user_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00034s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_votes_queue_item_id ON votes (queue_item_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00024s] ()
INFO     sqlalchemy.engine.Engine:base.py:2716 COMMIT
INFO     sqlalchemy.engine.Engine:base.py:2710 BEGIN (implicit)
INFO     sqlalchemy.engine.Engine:base.py:1846 INSERT INTO users (email, password_hash, google_id, telegram_id, telegram_username, telegram_first_name, telegram_last_name, reputation_score, total_requests, successful_requests, failed_requests, total_upvotes_received, total_downvotes_received, total_upvotes_given, total_downvotes_given, is_banned, is_premium, ban_reason, banned_at, banned_until, last_request_at, last_vote_at, last_active_at, avatar_url, username_last_changed_at, password_reset_token, password_reset_expires_at, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
INFO     sqlalchemy.engine.Engine:base.py:1846 [generated in 0.00024s] (None, None, None, 123456789, 'testuser', 'Test', 'User', 0.0, 0, 0, 0, 0, 0, 0, 0, 0, 0, None, None, None, None, None, None, None, None, None, None, '2026-01-04 08:58:47.238104', '2026-01-04 08:58:47.238104')
INFO     sqlalchemy.engine.Engine:base.py:2716 COMMIT
INFO     sqlalchemy.engine.Engine:base.py:2710 BEGIN (implicit)
INFO     sqlalchemy.engine.Engine:base.py:1846 SELECT users.id, users.email, users.password_hash, users.google_id, users.telegram_id, users.telegram_username, users.telegram_first_name, users.telegram_last_name, users.reputation_score, users.total_requests, users.successful_requests, users.failed_requests, users.total_upvotes_received, users.total_downvotes_received, users.total_upvotes_given, users.total_downvotes_given, users.is_banned, users.is_premium, users.ban_reason, users.banned_at, users.banned_until, users.last_request_at, users.last_vote_at, users.last_active_at, users.avatar_url, users.username_last_changed_at, users.password_reset_token, users.password_reset_expires_at, users.created_at, users.updated_at 
FROM users 
WHERE users.id = ?
INFO     sqlalchemy.engine.Engine:base.py:1846 [generated in 0.00016s] (1,)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('id', 'email', 'password_hash', 'google_id', 'telegram_id', 'telegram_username', 'telegram_first_name', 'telegram_last_name', 'reputation_score', 'total_requests', 'successful_requests', 'failed_requests', 'total_upvotes_received', 'total_downvotes_received', 'total_upvotes_given', 'total_downvotes_given', 'is_banned', 'is_premium', 'ban_reason', 'banned_at', 'banned_until', 'last_request_at', 'last_vote_at', 'last_active_at', 'avatar_url', 'username_last_changed_at', 'password_reset_token', 'password_reset_expires_at', 'created_at', 'updated_at')
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, None, None, None, 123456789, 'testuser', 'Test', 'User', 0.0, 0, 0, 0, 0, 0, 0, 0, False, False, None, None, None, None, None, None, None, None, None, None, datetime.datetime(2026, 1, 4, 8, 58, 47, 238104), datetime.datetime(2026, 1, 4, 8, 58, 47, 238104))
-------------------------- Captured stdout teardown ---------------------------
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | ROLLBACK
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | BEGIN (implicit)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("chat_messages")
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'user_id', 'INTEGER', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'content', 'TEXT', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'message_type', 'VARCHAR(20)', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'is_deleted', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'deleted_by_id', 'INTEGER', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'deleted_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (7, 'delete_reason', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (8, 'reply_to_id', 'INTEGER', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (9, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (10, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("radio_history")
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'song_id', 'INTEGER', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'queue_id', 'INTEGER', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'played_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'ended_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'duration_played_seconds', 'FLOAT', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'broadcast_file_path', 'VARCHAR(500)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (7, 'stream_mount', 'VARCHAR(100)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (8, 'requester_telegram_id', 'BIGINT', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (9, 'requester_username', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (10, 'song_title', 'VARCHAR(500)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (11, 'song_artist', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (12, 'song_genre', 'VARCHAR(100)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (13, 'had_dj_intro', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (14, 'dj_intro_text', 'TEXT', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (15, 'listener_count', 'INTEGER', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (16, 'upvotes_during_play', 'INTEGER', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (17, 'downvotes_during_play', 'INTEGER', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (18, 'skips_requested', 'INTEGER', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (19, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (20, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("banned_words")
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'word', 'VARCHAR(100)', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'category', 'VARCHAR(50)', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'reason', 'TEXT', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'is_active', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("radio_queue")
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'user_id', 'INTEGER', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'telegram_user_id', 'BIGINT', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'telegram_message_id', 'BIGINT', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'song_id', 'INTEGER', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'original_prompt', 'TEXT', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'enhanced_prompt', 'TEXT', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (7, 'genre_hint', 'VARCHAR(100)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (8, 'is_instrumental', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (9, 'status', 'VARCHAR(50)', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (10, 'suno_job_id', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (11, 'error_message', 'TEXT', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (12, 'retry_count', 'INTEGER', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (13, 'max_retries', 'INTEGER', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (14, 'base_priority', 'FLOAT', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (15, 'priority_score', 'FLOAT', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (16, 'is_priority_boost', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (17, 'priority_boost_reason', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (18, 'upvotes', 'INTEGER', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (19, 'downvotes', 'INTEGER', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (20, 'requested_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (21, 'queued_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (22, 'generation_started_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (23, 'generation_completed_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (24, 'broadcast_started_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (25, 'completed_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (26, 'is_moderated', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (27, 'moderation_passed', 'BOOLEAN', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (28, 'moderation_reason', 'TEXT', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (29, 'has_dj_intro', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (30, 'dj_intro_path', 'VARCHAR(500)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (31, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (32, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("songs")
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'suno_job_id', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'suno_status', 'VARCHAR(50)', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'title', 'VARCHAR(500)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'artist', 'VARCHAR(255)', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'original_prompt', 'TEXT', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'enhanced_prompt', 'TEXT', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (7, 'style_prompt', 'TEXT', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (8, 'lyrics', 'TEXT', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (9, 'genre', 'VARCHAR(100)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (10, 'subgenre', 'VARCHAR(100)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (11, 'mood', 'VARCHAR(100)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (12, 'energy', 'VARCHAR(50)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (13, 'duration_seconds', 'FLOAT', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (14, 'bpm', 'INTEGER', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (15, 'key', 'VARCHAR(10)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (16, 'is_instrumental', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (17, 'audio_url', 'VARCHAR(1000)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (18, 'local_file_path', 'VARCHAR(500)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (19, 'file_size_bytes', 'INTEGER', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (20, 'audio_format', 'VARCHAR(10)', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (21, 'lufs_level', 'FLOAT', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (22, 'peak_db', 'FLOAT', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (23, 'is_normalized', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (24, 'generation_started_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (25, 'generation_completed_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (26, 'downloaded_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (27, 'play_count', 'INTEGER', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (28, 'total_upvotes', 'INTEGER', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (29, 'total_downvotes', 'INTEGER', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (30, 'is_approved', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (31, 'moderation_notes', 'TEXT', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (32, 'flagged_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (33, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (34, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("users")
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'email', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'password_hash', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'google_id', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'telegram_id', 'BIGINT', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'telegram_username', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'telegram_first_name', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (7, 'telegram_last_name', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (8, 'reputation_score', 'FLOAT', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (9, 'total_requests', 'INTEGER', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (10, 'successful_requests', 'INTEGER', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (11, 'failed_requests', 'INTEGER', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (12, 'total_upvotes_received', 'INTEGER', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (13, 'total_downvotes_received', 'INTEGER', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (14, 'total_upvotes_given', 'INTEGER', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (15, 'total_downvotes_given', 'INTEGER', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (16, 'is_banned', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (17, 'is_premium', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (18, 'ban_reason', 'TEXT', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (19, 'banned_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (20, 'banned_until', 'DATETIME', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (21, 'last_request_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (22, 'last_vote_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (23, 'last_active_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (24, 'avatar_url', 'VARCHAR(500)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (25, 'username_last_changed_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (26, 'password_reset_token', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (27, 'password_reset_expires_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (28, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (29, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("votes")
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'user_id', 'INTEGER', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'telegram_user_id', 'BIGINT', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'queue_item_id', 'INTEGER', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'vote_type', 'VARCHAR(20)', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'voted_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'previous_vote_type', 'VARCHAR(20)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (7, 'changed_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (8, 'source', 'VARCHAR(50)', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (9, 'telegram_callback_id', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (10, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:47 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (11, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE votes
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00007s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE radio_queue
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00034s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE radio_history
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00029s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE chat_messages
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00020s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE users
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00019s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE songs
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00022s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE banned_words
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00018s] ()
2026-01-04 08:58:47 | [32mINFO[0m | sqlalchemy.engine.Engine | COMMIT
---------------------------- Captured log teardown ----------------------------
INFO     sqlalchemy.engine.Engine:base.py:2713 ROLLBACK
INFO     sqlalchemy.engine.Engine:base.py:2710 BEGIN (implicit)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("chat_messages")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'user_id', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'content', 'TEXT', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'message_type', 'VARCHAR(20)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'is_deleted', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'deleted_by_id', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'deleted_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (7, 'delete_reason', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (8, 'reply_to_id', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (9, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (10, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("radio_history")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'song_id', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'queue_id', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'played_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'ended_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'duration_played_seconds', 'FLOAT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'broadcast_file_path', 'VARCHAR(500)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (7, 'stream_mount', 'VARCHAR(100)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (8, 'requester_telegram_id', 'BIGINT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (9, 'requester_username', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (10, 'song_title', 'VARCHAR(500)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (11, 'song_artist', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (12, 'song_genre', 'VARCHAR(100)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (13, 'had_dj_intro', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (14, 'dj_intro_text', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (15, 'listener_count', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (16, 'upvotes_during_play', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (17, 'downvotes_during_play', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (18, 'skips_requested', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (19, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (20, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("banned_words")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'word', 'VARCHAR(100)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'category', 'VARCHAR(50)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'reason', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'is_active', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("radio_queue")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'user_id', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'telegram_user_id', 'BIGINT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'telegram_message_id', 'BIGINT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'song_id', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'original_prompt', 'TEXT', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'enhanced_prompt', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (7, 'genre_hint', 'VARCHAR(100)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (8, 'is_instrumental', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (9, 'status', 'VARCHAR(50)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (10, 'suno_job_id', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (11, 'error_message', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (12, 'retry_count', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (13, 'max_retries', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (14, 'base_priority', 'FLOAT', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (15, 'priority_score', 'FLOAT', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (16, 'is_priority_boost', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (17, 'priority_boost_reason', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (18, 'upvotes', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (19, 'downvotes', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (20, 'requested_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (21, 'queued_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (22, 'generation_started_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (23, 'generation_completed_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (24, 'broadcast_started_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (25, 'completed_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (26, 'is_moderated', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (27, 'moderation_passed', 'BOOLEAN', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (28, 'moderation_reason', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (29, 'has_dj_intro', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (30, 'dj_intro_path', 'VARCHAR(500)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (31, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (32, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("songs")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'suno_job_id', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'suno_status', 'VARCHAR(50)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'title', 'VARCHAR(500)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'artist', 'VARCHAR(255)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'original_prompt', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'enhanced_prompt', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (7, 'style_prompt', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (8, 'lyrics', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (9, 'genre', 'VARCHAR(100)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (10, 'subgenre', 'VARCHAR(100)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (11, 'mood', 'VARCHAR(100)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (12, 'energy', 'VARCHAR(50)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (13, 'duration_seconds', 'FLOAT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (14, 'bpm', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (15, 'key', 'VARCHAR(10)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (16, 'is_instrumental', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (17, 'audio_url', 'VARCHAR(1000)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (18, 'local_file_path', 'VARCHAR(500)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (19, 'file_size_bytes', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (20, 'audio_format', 'VARCHAR(10)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (21, 'lufs_level', 'FLOAT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (22, 'peak_db', 'FLOAT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (23, 'is_normalized', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (24, 'generation_started_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (25, 'generation_completed_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (26, 'downloaded_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (27, 'play_count', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (28, 'total_upvotes', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (29, 'total_downvotes', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (30, 'is_approved', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (31, 'moderation_notes', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (32, 'flagged_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (33, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (34, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("users")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'email', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'password_hash', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'google_id', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'telegram_id', 'BIGINT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'telegram_username', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'telegram_first_name', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (7, 'telegram_last_name', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (8, 'reputation_score', 'FLOAT', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (9, 'total_requests', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (10, 'successful_requests', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (11, 'failed_requests', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (12, 'total_upvotes_received', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (13, 'total_downvotes_received', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (14, 'total_upvotes_given', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (15, 'total_downvotes_given', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (16, 'is_banned', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (17, 'is_premium', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (18, 'ban_reason', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (19, 'banned_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (20, 'banned_until', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (21, 'last_request_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (22, 'last_vote_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (23, 'last_active_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (24, 'avatar_url', 'VARCHAR(500)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (25, 'username_last_changed_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (26, 'password_reset_token', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (27, 'password_reset_expires_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (28, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (29, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("votes")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'user_id', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'telegram_user_id', 'BIGINT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'queue_item_id', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'vote_type', 'VARCHAR(20)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'voted_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'previous_vote_type', 'VARCHAR(20)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (7, 'changed_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (8, 'source', 'VARCHAR(50)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (9, 'telegram_callback_id', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (10, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (11, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE votes
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE radio_queue
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00034s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE radio_history
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00029s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE chat_messages
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00020s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE users
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00019s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE songs
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00022s] ()
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE banned_words
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00018s] ()
INFO     sqlalchemy.engine.Engine:base.py:2716 COMMIT
______________________ test_broadcast_status_start_song _______________________
tests\test_webhooks_broadcast.py:43: in test_broadcast_status_start_song
    assert response.status_code == 200
E   assert 401 == 200
E    +  where 401 = <Response [401 Unauthorized]>.status_code
---------------------------- Captured stdout setup ----------------------------
2026-01-04 08:58:54 | [36mDEBUG[0m | asyncio | Using proactor: IocpProactor
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing <function connect.<locals>.connector at 0x0000014E07BA65C0>
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation <function connect.<locals>.connector at 0x0000014E07BA65C0> completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014E0622EA70>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000014E07BA6160>, deterministic=True)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014E0622EA70>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000014E07BA6160>, deterministic=True) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014E0622EA70>, 'floor', 1, <built-in function floor>, deterministic=True)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014E0622EA70>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06089D40>, 'PRAGMA read_uncommitted', [])
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06089D40>, 'PRAGMA read_uncommitted', []) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E06089D40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E06089D40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06089D40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06089D40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | BEGIN (implicit)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("chat_messages")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B16C0>, 'PRAGMA main.table_info("chat_messages")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B16C0>, 'PRAGMA main.table_info("chat_messages")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E060B16C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E060B16C0>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B16C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B16C0>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("chat_messages")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075730C0>, 'PRAGMA temp.table_info("chat_messages")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075730C0>, 'PRAGMA temp.table_info("chat_messages")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E075730C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E075730C0>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075730C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075730C0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("radio_history")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07572FC0>, 'PRAGMA main.table_info("radio_history")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07572FC0>, 'PRAGMA main.table_info("radio_history")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07572FC0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07572FC0>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07572FC0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07572FC0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("radio_history")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07638340>, 'PRAGMA temp.table_info("radio_history")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07638340>, 'PRAGMA temp.table_info("radio_history")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07638340>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07638340>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07638340>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07638340>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("banned_words")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B00C0>, 'PRAGMA main.table_info("banned_words")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B00C0>, 'PRAGMA main.table_info("banned_words")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E060B00C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E060B00C0>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B00C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B00C0>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("banned_words")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075713C0>, 'PRAGMA temp.table_info("banned_words")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075713C0>, 'PRAGMA temp.table_info("banned_words")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E075713C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E075713C0>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075713C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075713C0>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("radio_queue")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0763ACC0>, 'PRAGMA main.table_info("radio_queue")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0763ACC0>, 'PRAGMA main.table_info("radio_queue")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E0763ACC0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E0763ACC0>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0763ACC0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0763ACC0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("radio_queue")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075736C0>, 'PRAGMA temp.table_info("radio_queue")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075736C0>, 'PRAGMA temp.table_info("radio_queue")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E075736C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E075736C0>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075736C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075736C0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("songs")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07570CC0>, 'PRAGMA main.table_info("songs")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07570CC0>, 'PRAGMA main.table_info("songs")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07570CC0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07570CC0>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07570CC0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07570CC0>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("songs")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076873C0>, 'PRAGMA temp.table_info("songs")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076873C0>, 'PRAGMA temp.table_info("songs")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076873C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076873C0>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076873C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076873C0>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("users")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07570640>, 'PRAGMA main.table_info("users")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07570640>, 'PRAGMA main.table_info("users")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07570640>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07570640>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07570640>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07570640>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("users")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076842C0>, 'PRAGMA temp.table_info("users")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076842C0>, 'PRAGMA temp.table_info("users")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076842C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076842C0>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076842C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076842C0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("votes")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07573040>, 'PRAGMA main.table_info("votes")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07573040>, 'PRAGMA main.table_info("votes")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07573040>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07573040>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07573040>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07573040>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("votes")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07773240>, 'PRAGMA temp.table_info("votes")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07773240>, 'PRAGMA temp.table_info("votes")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07773240>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07773240>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07773240>)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07773240>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE banned_words (
	id INTEGER NOT NULL, 
	word VARCHAR(100) NOT NULL, 
	category VARCHAR(50) NOT NULL, 
	reason TEXT, 
	is_active BOOLEAN NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_banned_words PRIMARY KEY (id)
)


2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00030s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07687B40>, '\nCREATE TABLE banned_words (\n\tid INTEGER NOT NULL, \n\tword VARCHAR(100) NOT NULL, \n\tcategory VARCHAR(50) NOT NULL, \n\treason TEXT, \n\tis_active BOOLEAN NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_banned_words PRIMARY KEY (id)\n)\n\n', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07687B40>, '\nCREATE TABLE banned_words (\n\tid INTEGER NOT NULL, \n\tword VARCHAR(100) NOT NULL, \n\tcategory VARCHAR(50) NOT NULL, \n\treason TEXT, \n\tis_active BOOLEAN NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_banned_words PRIMARY KEY (id)\n)\n\n', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07687B40>)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE UNIQUE INDEX ix_banned_words_word ON banned_words (word)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07687B40>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00019s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07684140>, 'CREATE UNIQUE INDEX ix_banned_words_word ON banned_words (word)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07684140>, 'CREATE UNIQUE INDEX ix_banned_words_word ON banned_words (word)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07684140>)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE songs (
	id INTEGER NOT NULL, 
	suno_job_id VARCHAR(255), 
	suno_status VARCHAR(50) NOT NULL, 
	title VARCHAR(500), 
	artist VARCHAR(255) NOT NULL, 
	original_prompt TEXT, 
	enhanced_prompt TEXT, 
	style_prompt TEXT, 
	lyrics TEXT, 
	genre VARCHAR(100), 
	subgenre VARCHAR(100), 
	mood VARCHAR(100), 
	energy VARCHAR(50), 
	duration_seconds FLOAT, 
	bpm INTEGER, 
	"key" VARCHAR(10), 
	is_instrumental BOOLEAN NOT NULL, 
	audio_url VARCHAR(1000), 
	local_file_path VARCHAR(500), 
	file_size_bytes INTEGER, 
	audio_format VARCHAR(10) NOT NULL, 
	lufs_level FLOAT, 
	peak_db FLOAT, 
	is_normalized BOOLEAN NOT NULL, 
	generation_started_at DATETIME, 
	generation_completed_at DATETIME, 
	downloaded_at DATETIME, 
	play_count INTEGER NOT NULL, 
	total_upvotes INTEGER NOT NULL, 
	total_downvotes INTEGER NOT NULL, 
	is_approved BOOLEAN NOT NULL, 
	moderation_notes TEXT, 
	flagged_at DATETIME, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_songs PRIMARY KEY (id)
)


2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07684140>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00023s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07570440>, '\nCREATE TABLE songs (\n\tid INTEGER NOT NULL, \n\tsuno_job_id VARCHAR(255), \n\tsuno_status VARCHAR(50) NOT NULL, \n\ttitle VARCHAR(500), \n\tartist VARCHAR(255) NOT NULL, \n\toriginal_prompt TEXT, \n\tenhanced_prompt TEXT, \n\tstyle_prompt TEXT, \n\tlyrics TEXT, \n\tgenre VARCHAR(100), \n\tsubgenre VARCHAR(100), \n\tmood VARCHAR(100), \n\tenergy VARCHAR(50), \n\tduration_seconds FLOAT, \n\tbpm INTEGER, \n\t"key" VARCHAR(10), \n\tis_instrumental BOOLEAN NOT NULL, \n\taudio_url VARCHAR(1000), \n\tlocal_file_path VARCHAR(500), \n\tfile_size_bytes INTEGER, \n\taudio_format VARCHAR(10) NOT NULL, \n\tlufs_level FLOAT, \n\tpeak_db FLOAT, \n\tis_normalized BOOLEAN NOT NULL, \n\tgeneration_started_at DATETIME, \n\tgeneration_completed_at DATETIME, \n\tdownloaded_at DATETIME, \n\tplay_count INTEGER NOT NULL, \n\ttotal_upvotes INTEGER NOT NULL, \n\ttotal_downvotes INTEGER NOT NULL, \n\tis_approved BOOLEAN NOT NULL, \n\tmoderation_notes TEXT, \n\tflagged_at DATETIME, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_songs PRIMARY KEY (id)\n)\n\n', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07570440>, '\nCREATE TABLE songs (\n\tid INTEGER NOT NULL, \n\tsuno_job_id VARCHAR(255), \n\tsuno_status VARCHAR(50) NOT NULL, \n\ttitle VARCHAR(500), \n\tartist VARCHAR(255) NOT NULL, \n\toriginal_prompt TEXT, \n\tenhanced_prompt TEXT, \n\tstyle_prompt TEXT, \n\tlyrics TEXT, \n\tgenre VARCHAR(100), \n\tsubgenre VARCHAR(100), \n\tmood VARCHAR(100), \n\tenergy VARCHAR(50), \n\tduration_seconds FLOAT, \n\tbpm INTEGER, \n\t"key" VARCHAR(10), \n\tis_instrumental BOOLEAN NOT NULL, \n\taudio_url VARCHAR(1000), \n\tlocal_file_path VARCHAR(500), \n\tfile_size_bytes INTEGER, \n\taudio_format VARCHAR(10) NOT NULL, \n\tlufs_level FLOAT, \n\tpeak_db FLOAT, \n\tis_normalized BOOLEAN NOT NULL, \n\tgeneration_started_at DATETIME, \n\tgeneration_completed_at DATETIME, \n\tdownloaded_at DATETIME, \n\tplay_count INTEGER NOT NULL, \n\ttotal_upvotes INTEGER NOT NULL, \n\ttotal_downvotes INTEGER NOT NULL, \n\tis_approved BOOLEAN NOT NULL, \n\tmoderation_notes TEXT, \n\tflagged_at DATETIME, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_songs PRIMARY KEY (id)\n)\n\n', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07570440>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07570440>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE UNIQUE INDEX ix_songs_suno_job_id ON songs (suno_job_id)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00016s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07730DC0>, 'CREATE UNIQUE INDEX ix_songs_suno_job_id ON songs (suno_job_id)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07730DC0>, 'CREATE UNIQUE INDEX ix_songs_suno_job_id ON songs (suno_job_id)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07730DC0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07730DC0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	email VARCHAR(255), 
	password_hash VARCHAR(255), 
	google_id VARCHAR(255), 
	telegram_id BIGINT, 
	telegram_username VARCHAR(255), 
	telegram_first_name VARCHAR(255), 
	telegram_last_name VARCHAR(255), 
	reputation_score FLOAT NOT NULL, 
	total_requests INTEGER NOT NULL, 
	successful_requests INTEGER NOT NULL, 
	failed_requests INTEGER NOT NULL, 
	total_upvotes_received INTEGER NOT NULL, 
	total_downvotes_received INTEGER NOT NULL, 
	total_upvotes_given INTEGER NOT NULL, 
	total_downvotes_given INTEGER NOT NULL, 
	is_banned BOOLEAN NOT NULL, 
	is_premium BOOLEAN NOT NULL, 
	ban_reason TEXT, 
	banned_at DATETIME, 
	banned_until DATETIME, 
	last_request_at DATETIME, 
	last_vote_at DATETIME, 
	last_active_at DATETIME, 
	avatar_url VARCHAR(500), 
	username_last_changed_at DATETIME, 
	password_reset_token VARCHAR(255), 
	password_reset_expires_at DATETIME, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_users PRIMARY KEY (id)
)


2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00013s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07514240>, '\nCREATE TABLE users (\n\tid INTEGER NOT NULL, \n\temail VARCHAR(255), \n\tpassword_hash VARCHAR(255), \n\tgoogle_id VARCHAR(255), \n\ttelegram_id BIGINT, \n\ttelegram_username VARCHAR(255), \n\ttelegram_first_name VARCHAR(255), \n\ttelegram_last_name VARCHAR(255), \n\treputation_score FLOAT NOT NULL, \n\ttotal_requests INTEGER NOT NULL, \n\tsuccessful_requests INTEGER NOT NULL, \n\tfailed_requests INTEGER NOT NULL, \n\ttotal_upvotes_received INTEGER NOT NULL, \n\ttotal_downvotes_received INTEGER NOT NULL, \n\ttotal_upvotes_given INTEGER NOT NULL, \n\ttotal_downvotes_given INTEGER NOT NULL, \n\tis_banned BOOLEAN NOT NULL, \n\tis_premium BOOLEAN NOT NULL, \n\tban_reason TEXT, \n\tbanned_at DATETIME, \n\tbanned_until DATETIME, \n\tlast_request_at DATETIME, \n\tlast_vote_at DATETIME, \n\tlast_active_at DATETIME, \n\tavatar_url VARCHAR(500), \n\tusername_last_changed_at DATETIME, \n\tpassword_reset_token VARCHAR(255), \n\tpassword_reset_expires_at DATETIME, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_users PRIMARY KEY (id)\n)\n\n', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07514240>, '\nCREATE TABLE users (\n\tid INTEGER NOT NULL, \n\temail VARCHAR(255), \n\tpassword_hash VARCHAR(255), \n\tgoogle_id VARCHAR(255), \n\ttelegram_id BIGINT, \n\ttelegram_username VARCHAR(255), \n\ttelegram_first_name VARCHAR(255), \n\ttelegram_last_name VARCHAR(255), \n\treputation_score FLOAT NOT NULL, \n\ttotal_requests INTEGER NOT NULL, \n\tsuccessful_requests INTEGER NOT NULL, \n\tfailed_requests INTEGER NOT NULL, \n\ttotal_upvotes_received INTEGER NOT NULL, \n\ttotal_downvotes_received INTEGER NOT NULL, \n\ttotal_upvotes_given INTEGER NOT NULL, \n\ttotal_downvotes_given INTEGER NOT NULL, \n\tis_banned BOOLEAN NOT NULL, \n\tis_premium BOOLEAN NOT NULL, \n\tban_reason TEXT, \n\tbanned_at DATETIME, \n\tbanned_until DATETIME, \n\tlast_request_at DATETIME, \n\tlast_vote_at DATETIME, \n\tlast_active_at DATETIME, \n\tavatar_url VARCHAR(500), \n\tusername_last_changed_at DATETIME, \n\tpassword_reset_token VARCHAR(255), \n\tpassword_reset_expires_at DATETIME, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_users PRIMARY KEY (id)\n)\n\n', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07514240>)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE UNIQUE INDEX ix_users_google_id ON users (google_id)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07514240>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00016s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06379FC0>, 'CREATE UNIQUE INDEX ix_users_google_id ON users (google_id)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06379FC0>, 'CREATE UNIQUE INDEX ix_users_google_id ON users (google_id)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06379FC0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06379FC0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00017s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E061C2DC0>, 'CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E061C2DC0>, 'CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E061C2DC0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E061C2DC0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE UNIQUE INDEX ix_users_email ON users (email)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00016s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E074D32C0>, 'CREATE UNIQUE INDEX ix_users_email ON users (email)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E074D32C0>, 'CREATE UNIQUE INDEX ix_users_email ON users (email)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E074D32C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E074D32C0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_users_password_reset_token ON users (password_reset_token)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00018s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07770EC0>, 'CREATE INDEX ix_users_password_reset_token ON users (password_reset_token)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07770EC0>, 'CREATE INDEX ix_users_password_reset_token ON users (password_reset_token)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07770EC0>)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE chat_messages (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	content TEXT NOT NULL, 
	message_type VARCHAR(20) NOT NULL, 
	is_deleted BOOLEAN NOT NULL, 
	deleted_by_id INTEGER, 
	deleted_at DATETIME, 
	delete_reason VARCHAR(255), 
	reply_to_id INTEGER, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_chat_messages PRIMARY KEY (id), 
	CONSTRAINT fk_chat_messages_user_id_users FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE SET NULL, 
	CONSTRAINT fk_chat_messages_reply_to_id_chat_messages FOREIGN KEY(reply_to_id) REFERENCES chat_messages (id) ON DELETE SET NULL
)


2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07770EC0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00020s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06466540>, '\nCREATE TABLE chat_messages (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER, \n\tcontent TEXT NOT NULL, \n\tmessage_type VARCHAR(20) NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_by_id INTEGER, \n\tdeleted_at DATETIME, \n\tdelete_reason VARCHAR(255), \n\treply_to_id INTEGER, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_chat_messages PRIMARY KEY (id), \n\tCONSTRAINT fk_chat_messages_user_id_users FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE SET NULL, \n\tCONSTRAINT fk_chat_messages_reply_to_id_chat_messages FOREIGN KEY(reply_to_id) REFERENCES chat_messages (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06466540>, '\nCREATE TABLE chat_messages (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER, \n\tcontent TEXT NOT NULL, \n\tmessage_type VARCHAR(20) NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_by_id INTEGER, \n\tdeleted_at DATETIME, \n\tdelete_reason VARCHAR(255), \n\treply_to_id INTEGER, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_chat_messages PRIMARY KEY (id), \n\tCONSTRAINT fk_chat_messages_user_id_users FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE SET NULL, \n\tCONSTRAINT fk_chat_messages_reply_to_id_chat_messages FOREIGN KEY(reply_to_id) REFERENCES chat_messages (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06466540>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06466540>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE radio_history (
	id INTEGER NOT NULL, 
	song_id INTEGER NOT NULL, 
	queue_id INTEGER, 
	played_at DATETIME NOT NULL, 
	ended_at DATETIME, 
	duration_played_seconds FLOAT, 
	broadcast_file_path VARCHAR(500), 
	stream_mount VARCHAR(100), 
	requester_telegram_id BIGINT, 
	requester_username VARCHAR(255), 
	song_title VARCHAR(500), 
	song_artist VARCHAR(255), 
	song_genre VARCHAR(100), 
	had_dj_intro BOOLEAN NOT NULL, 
	dj_intro_text TEXT, 
	listener_count INTEGER, 
	upvotes_during_play INTEGER NOT NULL, 
	downvotes_during_play INTEGER NOT NULL, 
	skips_requested INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_radio_history PRIMARY KEY (id), 
	CONSTRAINT fk_radio_history_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)
)


2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00019s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07773CC0>, '\nCREATE TABLE radio_history (\n\tid INTEGER NOT NULL, \n\tsong_id INTEGER NOT NULL, \n\tqueue_id INTEGER, \n\tplayed_at DATETIME NOT NULL, \n\tended_at DATETIME, \n\tduration_played_seconds FLOAT, \n\tbroadcast_file_path VARCHAR(500), \n\tstream_mount VARCHAR(100), \n\trequester_telegram_id BIGINT, \n\trequester_username VARCHAR(255), \n\tsong_title VARCHAR(500), \n\tsong_artist VARCHAR(255), \n\tsong_genre VARCHAR(100), \n\thad_dj_intro BOOLEAN NOT NULL, \n\tdj_intro_text TEXT, \n\tlistener_count INTEGER, \n\tupvotes_during_play INTEGER NOT NULL, \n\tdownvotes_during_play INTEGER NOT NULL, \n\tskips_requested INTEGER NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_radio_history PRIMARY KEY (id), \n\tCONSTRAINT fk_radio_history_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)\n)\n\n', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07773CC0>, '\nCREATE TABLE radio_history (\n\tid INTEGER NOT NULL, \n\tsong_id INTEGER NOT NULL, \n\tqueue_id INTEGER, \n\tplayed_at DATETIME NOT NULL, \n\tended_at DATETIME, \n\tduration_played_seconds FLOAT, \n\tbroadcast_file_path VARCHAR(500), \n\tstream_mount VARCHAR(100), \n\trequester_telegram_id BIGINT, \n\trequester_username VARCHAR(255), \n\tsong_title VARCHAR(500), \n\tsong_artist VARCHAR(255), \n\tsong_genre VARCHAR(100), \n\thad_dj_intro BOOLEAN NOT NULL, \n\tdj_intro_text TEXT, \n\tlistener_count INTEGER, \n\tupvotes_during_play INTEGER NOT NULL, \n\tdownvotes_during_play INTEGER NOT NULL, \n\tskips_requested INTEGER NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_radio_history PRIMARY KEY (id), \n\tCONSTRAINT fk_radio_history_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)\n)\n\n', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07773CC0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07773CC0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_history_played_at ON radio_history (played_at)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00016s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E061C26C0>, 'CREATE INDEX ix_radio_history_played_at ON radio_history (played_at)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E061C26C0>, 'CREATE INDEX ix_radio_history_played_at ON radio_history (played_at)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E061C26C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E061C26C0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_history_song_id ON radio_history (song_id)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00022s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0754BCC0>, 'CREATE INDEX ix_radio_history_song_id ON radio_history (song_id)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0754BCC0>, 'CREATE INDEX ix_radio_history_song_id ON radio_history (song_id)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0754BCC0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0754BCC0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_history_queue_id ON radio_history (queue_id)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00019s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06436C40>, 'CREATE INDEX ix_radio_history_queue_id ON radio_history (queue_id)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06436C40>, 'CREATE INDEX ix_radio_history_queue_id ON radio_history (queue_id)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06436C40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06436C40>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE radio_queue (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	telegram_user_id BIGINT, 
	telegram_message_id BIGINT, 
	song_id INTEGER, 
	original_prompt TEXT NOT NULL, 
	enhanced_prompt TEXT, 
	genre_hint VARCHAR(100), 
	is_instrumental BOOLEAN NOT NULL, 
	status VARCHAR(50) NOT NULL, 
	suno_job_id VARCHAR(255), 
	error_message TEXT, 
	retry_count INTEGER NOT NULL, 
	max_retries INTEGER NOT NULL, 
	base_priority FLOAT NOT NULL, 
	priority_score FLOAT NOT NULL, 
	is_priority_boost BOOLEAN NOT NULL, 
	priority_boost_reason VARCHAR(255), 
	upvotes INTEGER NOT NULL, 
	downvotes INTEGER NOT NULL, 
	requested_at DATETIME NOT NULL, 
	queued_at DATETIME, 
	generation_started_at DATETIME, 
	generation_completed_at DATETIME, 
	broadcast_started_at DATETIME, 
	completed_at DATETIME, 
	is_moderated BOOLEAN NOT NULL, 
	moderation_passed BOOLEAN, 
	moderation_reason TEXT, 
	has_dj_intro BOOLEAN NOT NULL, 
	dj_intro_path VARCHAR(500), 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_radio_queue PRIMARY KEY (id), 
	CONSTRAINT fk_radio_queue_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), 
	CONSTRAINT fk_radio_queue_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)
)


2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00030s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07A7BBC0>, '\nCREATE TABLE radio_queue (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER, \n\ttelegram_user_id BIGINT, \n\ttelegram_message_id BIGINT, \n\tsong_id INTEGER, \n\toriginal_prompt TEXT NOT NULL, \n\tenhanced_prompt TEXT, \n\tgenre_hint VARCHAR(100), \n\tis_instrumental BOOLEAN NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tsuno_job_id VARCHAR(255), \n\terror_message TEXT, \n\tretry_count INTEGER NOT NULL, \n\tmax_retries INTEGER NOT NULL, \n\tbase_priority FLOAT NOT NULL, \n\tpriority_score FLOAT NOT NULL, \n\tis_priority_boost BOOLEAN NOT NULL, \n\tpriority_boost_reason VARCHAR(255), \n\tupvotes INTEGER NOT NULL, \n\tdownvotes INTEGER NOT NULL, \n\trequested_at DATETIME NOT NULL, \n\tqueued_at DATETIME, \n\tgeneration_started_at DATETIME, \n\tgeneration_completed_at DATETIME, \n\tbroadcast_started_at DATETIME, \n\tcompleted_at DATETIME, \n\tis_moderated BOOLEAN NOT NULL, \n\tmoderation_passed BOOLEAN, \n\tmoderation_reason TEXT, \n\thas_dj_intro BOOLEAN NOT NULL, \n\tdj_intro_path VARCHAR(500), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_radio_queue PRIMARY KEY (id), \n\tCONSTRAINT fk_radio_queue_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), \n\tCONSTRAINT fk_radio_queue_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)\n)\n\n', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07A7BBC0>, '\nCREATE TABLE radio_queue (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER, \n\ttelegram_user_id BIGINT, \n\ttelegram_message_id BIGINT, \n\tsong_id INTEGER, \n\toriginal_prompt TEXT NOT NULL, \n\tenhanced_prompt TEXT, \n\tgenre_hint VARCHAR(100), \n\tis_instrumental BOOLEAN NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tsuno_job_id VARCHAR(255), \n\terror_message TEXT, \n\tretry_count INTEGER NOT NULL, \n\tmax_retries INTEGER NOT NULL, \n\tbase_priority FLOAT NOT NULL, \n\tpriority_score FLOAT NOT NULL, \n\tis_priority_boost BOOLEAN NOT NULL, \n\tpriority_boost_reason VARCHAR(255), \n\tupvotes INTEGER NOT NULL, \n\tdownvotes INTEGER NOT NULL, \n\trequested_at DATETIME NOT NULL, \n\tqueued_at DATETIME, \n\tgeneration_started_at DATETIME, \n\tgeneration_completed_at DATETIME, \n\tbroadcast_started_at DATETIME, \n\tcompleted_at DATETIME, \n\tis_moderated BOOLEAN NOT NULL, \n\tmoderation_passed BOOLEAN, \n\tmoderation_reason TEXT, \n\thas_dj_intro BOOLEAN NOT NULL, \n\tdj_intro_path VARCHAR(500), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_radio_queue PRIMARY KEY (id), \n\tCONSTRAINT fk_radio_queue_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), \n\tCONSTRAINT fk_radio_queue_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)\n)\n\n', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07A7BBC0>)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_queue_status ON radio_queue (status)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07A7BBC0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00017s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C055C0>, 'CREATE INDEX ix_radio_queue_status ON radio_queue (status)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C055C0>, 'CREATE INDEX ix_radio_queue_status ON radio_queue (status)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C055C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C055C0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_queue_priority_score ON radio_queue (priority_score)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00021s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06317A40>, 'CREATE INDEX ix_radio_queue_priority_score ON radio_queue (priority_score)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06317A40>, 'CREATE INDEX ix_radio_queue_priority_score ON radio_queue (priority_score)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06317A40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06317A40>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_queue_user_id ON radio_queue (user_id)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00017s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E4D40>, 'CREATE INDEX ix_radio_queue_user_id ON radio_queue (user_id)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E4D40>, 'CREATE INDEX ix_radio_queue_user_id ON radio_queue (user_id)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E4D40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E4D40>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_queue_song_id ON radio_queue (song_id)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00010s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C06940>, 'CREATE INDEX ix_radio_queue_song_id ON radio_queue (song_id)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C06940>, 'CREATE INDEX ix_radio_queue_song_id ON radio_queue (song_id)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C06940>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C06940>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_queue_telegram_user_id ON radio_queue (telegram_user_id)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00017s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06379440>, 'CREATE INDEX ix_radio_queue_telegram_user_id ON radio_queue (telegram_user_id)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06379440>, 'CREATE INDEX ix_radio_queue_telegram_user_id ON radio_queue (telegram_user_id)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06379440>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06379440>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE votes (
	id INTEGER NOT NULL, 
	user_id INTEGER NOT NULL, 
	telegram_user_id BIGINT, 
	queue_item_id INTEGER NOT NULL, 
	vote_type VARCHAR(20) NOT NULL, 
	voted_at DATETIME NOT NULL, 
	previous_vote_type VARCHAR(20), 
	changed_at DATETIME, 
	source VARCHAR(50) NOT NULL, 
	telegram_callback_id VARCHAR(255), 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_votes PRIMARY KEY (id), 
	CONSTRAINT uq_votes_user_queue UNIQUE (user_id, queue_item_id), 
	CONSTRAINT fk_votes_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), 
	CONSTRAINT fk_votes_queue_item_id_radio_queue FOREIGN KEY(queue_item_id) REFERENCES radio_queue (id)
)


2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00018s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06378E40>, '\nCREATE TABLE votes (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER NOT NULL, \n\ttelegram_user_id BIGINT, \n\tqueue_item_id INTEGER NOT NULL, \n\tvote_type VARCHAR(20) NOT NULL, \n\tvoted_at DATETIME NOT NULL, \n\tprevious_vote_type VARCHAR(20), \n\tchanged_at DATETIME, \n\tsource VARCHAR(50) NOT NULL, \n\ttelegram_callback_id VARCHAR(255), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_votes PRIMARY KEY (id), \n\tCONSTRAINT uq_votes_user_queue UNIQUE (user_id, queue_item_id), \n\tCONSTRAINT fk_votes_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), \n\tCONSTRAINT fk_votes_queue_item_id_radio_queue FOREIGN KEY(queue_item_id) REFERENCES radio_queue (id)\n)\n\n', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06378E40>, '\nCREATE TABLE votes (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER NOT NULL, \n\ttelegram_user_id BIGINT, \n\tqueue_item_id INTEGER NOT NULL, \n\tvote_type VARCHAR(20) NOT NULL, \n\tvoted_at DATETIME NOT NULL, \n\tprevious_vote_type VARCHAR(20), \n\tchanged_at DATETIME, \n\tsource VARCHAR(50) NOT NULL, \n\ttelegram_callback_id VARCHAR(255), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_votes PRIMARY KEY (id), \n\tCONSTRAINT uq_votes_user_queue UNIQUE (user_id, queue_item_id), \n\tCONSTRAINT fk_votes_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), \n\tCONSTRAINT fk_votes_queue_item_id_radio_queue FOREIGN KEY(queue_item_id) REFERENCES radio_queue (id)\n)\n\n', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06378E40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06378E40>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_votes_telegram_user_id ON votes (telegram_user_id)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00023s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06436940>, 'CREATE INDEX ix_votes_telegram_user_id ON votes (telegram_user_id)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06436940>, 'CREATE INDEX ix_votes_telegram_user_id ON votes (telegram_user_id)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06436940>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06436940>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_votes_user_id ON votes (user_id)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00013s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C06440>, 'CREATE INDEX ix_votes_user_id ON votes (user_id)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C06440>, 'CREATE INDEX ix_votes_user_id ON votes (user_id)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C06440>)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_votes_queue_item_id ON votes (queue_item_id)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C06440>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00016s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0748A040>, 'CREATE INDEX ix_votes_queue_item_id ON votes (queue_item_id)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0748A040>, 'CREATE INDEX ix_votes_queue_item_id ON votes (queue_item_id)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0748A040>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0748A040>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | COMMIT
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E0622EA70>) completed
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
DEBUG    aiosqlite:core.py:62 executing <function connect.<locals>.connector at 0x0000014E07BA65C0>
DEBUG    aiosqlite:core.py:67 operation <function connect.<locals>.connector at 0x0000014E07BA65C0> completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014E0622EA70>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000014E07BA6160>, deterministic=True)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014E0622EA70>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000014E07BA6160>, deterministic=True) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014E0622EA70>, 'floor', 1, <built-in function floor>, deterministic=True)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014E0622EA70>, 'floor', 1, <built-in function floor>, deterministic=True) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06089D40>, 'PRAGMA read_uncommitted', [])
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06089D40>, 'PRAGMA read_uncommitted', []) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E06089D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E06089D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06089D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06089D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E0622EA70>)
INFO     sqlalchemy.engine.Engine:base.py:2710 BEGIN (implicit)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E0622EA70>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("chat_messages")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B16C0>, 'PRAGMA main.table_info("chat_messages")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B16C0>, 'PRAGMA main.table_info("chat_messages")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E060B16C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E060B16C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B16C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B16C0>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("chat_messages")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075730C0>, 'PRAGMA temp.table_info("chat_messages")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075730C0>, 'PRAGMA temp.table_info("chat_messages")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E075730C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E075730C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075730C0>)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075730C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("radio_history")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07572FC0>, 'PRAGMA main.table_info("radio_history")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07572FC0>, 'PRAGMA main.table_info("radio_history")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07572FC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07572FC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07572FC0>)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07572FC0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("radio_history")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07638340>, 'PRAGMA temp.table_info("radio_history")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07638340>, 'PRAGMA temp.table_info("radio_history")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07638340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07638340>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07638340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07638340>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("banned_words")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B00C0>, 'PRAGMA main.table_info("banned_words")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B00C0>, 'PRAGMA main.table_info("banned_words")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E060B00C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E060B00C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B00C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B00C0>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("banned_words")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075713C0>, 'PRAGMA temp.table_info("banned_words")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075713C0>, 'PRAGMA temp.table_info("banned_words")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E075713C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E075713C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075713C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075713C0>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("radio_queue")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0763ACC0>, 'PRAGMA main.table_info("radio_queue")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0763ACC0>, 'PRAGMA main.table_info("radio_queue")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E0763ACC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E0763ACC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0763ACC0>)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0763ACC0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("radio_queue")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075736C0>, 'PRAGMA temp.table_info("radio_queue")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075736C0>, 'PRAGMA temp.table_info("radio_queue")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E075736C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E075736C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075736C0>)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075736C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("songs")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07570CC0>, 'PRAGMA main.table_info("songs")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07570CC0>, 'PRAGMA main.table_info("songs")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07570CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07570CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07570CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07570CC0>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("songs")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076873C0>, 'PRAGMA temp.table_info("songs")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076873C0>, 'PRAGMA temp.table_info("songs")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076873C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076873C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076873C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076873C0>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("users")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07570640>, 'PRAGMA main.table_info("users")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07570640>, 'PRAGMA main.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07570640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07570640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07570640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07570640>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("users")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076842C0>, 'PRAGMA temp.table_info("users")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076842C0>, 'PRAGMA temp.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076842C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076842C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076842C0>)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076842C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("votes")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07573040>, 'PRAGMA main.table_info("votes")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07573040>, 'PRAGMA main.table_info("votes")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07573040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07573040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07573040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07573040>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("votes")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07773240>, 'PRAGMA temp.table_info("votes")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07773240>, 'PRAGMA temp.table_info("votes")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07773240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07773240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07773240>)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07773240>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE banned_words (
	id INTEGER NOT NULL, 
	word VARCHAR(100) NOT NULL, 
	category VARCHAR(50) NOT NULL, 
	reason TEXT, 
	is_active BOOLEAN NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_banned_words PRIMARY KEY (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00030s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07687B40>, '\nCREATE TABLE banned_words (\n\tid INTEGER NOT NULL, \n\tword VARCHAR(100) NOT NULL, \n\tcategory VARCHAR(50) NOT NULL, \n\treason TEXT, \n\tis_active BOOLEAN NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_banned_words PRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07687B40>, '\nCREATE TABLE banned_words (\n\tid INTEGER NOT NULL, \n\tword VARCHAR(100) NOT NULL, \n\tcategory VARCHAR(50) NOT NULL, \n\treason TEXT, \n\tis_active BOOLEAN NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_banned_words PRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07687B40>)
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE UNIQUE INDEX ix_banned_words_word ON banned_words (word)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07687B40>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00019s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07684140>, 'CREATE UNIQUE INDEX ix_banned_words_word ON banned_words (word)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07684140>, 'CREATE UNIQUE INDEX ix_banned_words_word ON banned_words (word)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07684140>)
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE songs (
	id INTEGER NOT NULL, 
	suno_job_id VARCHAR(255), 
	suno_status VARCHAR(50) NOT NULL, 
	title VARCHAR(500), 
	artist VARCHAR(255) NOT NULL, 
	original_prompt TEXT, 
	enhanced_prompt TEXT, 
	style_prompt TEXT, 
	lyrics TEXT, 
	genre VARCHAR(100), 
	subgenre VARCHAR(100), 
	mood VARCHAR(100), 
	energy VARCHAR(50), 
	duration_seconds FLOAT, 
	bpm INTEGER, 
	"key" VARCHAR(10), 
	is_instrumental BOOLEAN NOT NULL, 
	audio_url VARCHAR(1000), 
	local_file_path VARCHAR(500), 
	file_size_bytes INTEGER, 
	audio_format VARCHAR(10) NOT NULL, 
	lufs_level FLOAT, 
	peak_db FLOAT, 
	is_normalized BOOLEAN NOT NULL, 
	generation_started_at DATETIME, 
	generation_completed_at DATETIME, 
	downloaded_at DATETIME, 
	play_count INTEGER NOT NULL, 
	total_upvotes INTEGER NOT NULL, 
	total_downvotes INTEGER NOT NULL, 
	is_approved BOOLEAN NOT NULL, 
	moderation_notes TEXT, 
	flagged_at DATETIME, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_songs PRIMARY KEY (id)
)


DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07684140>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00023s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07570440>, '\nCREATE TABLE songs (\n\tid INTEGER NOT NULL, \n\tsuno_job_id VARCHAR(255), \n\tsuno_status VARCHAR(50) NOT NULL, \n\ttitle VARCHAR(500), \n\tartist VARCHAR(255) NOT NULL, \n\toriginal_prompt TEXT, \n\tenhanced_prompt TEXT, \n\tstyle_prompt TEXT, \n\tlyrics TEXT, \n\tgenre VARCHAR(100), \n\tsubgenre VARCHAR(100), \n\tmood VARCHAR(100), \n\tenergy VARCHAR(50), \n\tduration_seconds FLOAT, \n\tbpm INTEGER, \n\t"key" VARCHAR(10), \n\tis_instrumental BOOLEAN NOT NULL, \n\taudio_url VARCHAR(1000), \n\tlocal_file_path VARCHAR(500), \n\tfile_size_bytes INTEGER, \n\taudio_format VARCHAR(10) NOT NULL, \n\tlufs_level FLOAT, \n\tpeak_db FLOAT, \n\tis_normalized BOOLEAN NOT NULL, \n\tgeneration_started_at DATETIME, \n\tgeneration_completed_at DATETIME, \n\tdownloaded_at DATETIME, \n\tplay_count INTEGER NOT NULL, \n\ttotal_upvotes INTEGER NOT NULL, \n\ttotal_downvotes INTEGER NOT NULL, \n\tis_approved BOOLEAN NOT NULL, \n\tmoderation_notes TEXT, \n\tflagged_at DATETIME, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_songs PRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07570440>, '\nCREATE TABLE songs (\n\tid INTEGER NOT NULL, \n\tsuno_job_id VARCHAR(255), \n\tsuno_status VARCHAR(50) NOT NULL, \n\ttitle VARCHAR(500), \n\tartist VARCHAR(255) NOT NULL, \n\toriginal_prompt TEXT, \n\tenhanced_prompt TEXT, \n\tstyle_prompt TEXT, \n\tlyrics TEXT, \n\tgenre VARCHAR(100), \n\tsubgenre VARCHAR(100), \n\tmood VARCHAR(100), \n\tenergy VARCHAR(50), \n\tduration_seconds FLOAT, \n\tbpm INTEGER, \n\t"key" VARCHAR(10), \n\tis_instrumental BOOLEAN NOT NULL, \n\taudio_url VARCHAR(1000), \n\tlocal_file_path VARCHAR(500), \n\tfile_size_bytes INTEGER, \n\taudio_format VARCHAR(10) NOT NULL, \n\tlufs_level FLOAT, \n\tpeak_db FLOAT, \n\tis_normalized BOOLEAN NOT NULL, \n\tgeneration_started_at DATETIME, \n\tgeneration_completed_at DATETIME, \n\tdownloaded_at DATETIME, \n\tplay_count INTEGER NOT NULL, \n\ttotal_upvotes INTEGER NOT NULL, \n\ttotal_downvotes INTEGER NOT NULL, \n\tis_approved BOOLEAN NOT NULL, \n\tmoderation_notes TEXT, \n\tflagged_at DATETIME, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_songs PRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07570440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07570440>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE UNIQUE INDEX ix_songs_suno_job_id ON songs (suno_job_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00016s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07730DC0>, 'CREATE UNIQUE INDEX ix_songs_suno_job_id ON songs (suno_job_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07730DC0>, 'CREATE UNIQUE INDEX ix_songs_suno_job_id ON songs (suno_job_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07730DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07730DC0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	email VARCHAR(255), 
	password_hash VARCHAR(255), 
	google_id VARCHAR(255), 
	telegram_id BIGINT, 
	telegram_username VARCHAR(255), 
	telegram_first_name VARCHAR(255), 
	telegram_last_name VARCHAR(255), 
	reputation_score FLOAT NOT NULL, 
	total_requests INTEGER NOT NULL, 
	successful_requests INTEGER NOT NULL, 
	failed_requests INTEGER NOT NULL, 
	total_upvotes_received INTEGER NOT NULL, 
	total_downvotes_received INTEGER NOT NULL, 
	total_upvotes_given INTEGER NOT NULL, 
	total_downvotes_given INTEGER NOT NULL, 
	is_banned BOOLEAN NOT NULL, 
	is_premium BOOLEAN NOT NULL, 
	ban_reason TEXT, 
	banned_at DATETIME, 
	banned_until DATETIME, 
	last_request_at DATETIME, 
	last_vote_at DATETIME, 
	last_active_at DATETIME, 
	avatar_url VARCHAR(500), 
	username_last_changed_at DATETIME, 
	password_reset_token VARCHAR(255), 
	password_reset_expires_at DATETIME, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_users PRIMARY KEY (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00013s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07514240>, '\nCREATE TABLE users (\n\tid INTEGER NOT NULL, \n\temail VARCHAR(255), \n\tpassword_hash VARCHAR(255), \n\tgoogle_id VARCHAR(255), \n\ttelegram_id BIGINT, \n\ttelegram_username VARCHAR(255), \n\ttelegram_first_name VARCHAR(255), \n\ttelegram_last_name VARCHAR(255), \n\treputation_score FLOAT NOT NULL, \n\ttotal_requests INTEGER NOT NULL, \n\tsuccessful_requests INTEGER NOT NULL, \n\tfailed_requests INTEGER NOT NULL, \n\ttotal_upvotes_received INTEGER NOT NULL, \n\ttotal_downvotes_received INTEGER NOT NULL, \n\ttotal_upvotes_given INTEGER NOT NULL, \n\ttotal_downvotes_given INTEGER NOT NULL, \n\tis_banned BOOLEAN NOT NULL, \n\tis_premium BOOLEAN NOT NULL, \n\tban_reason TEXT, \n\tbanned_at DATETIME, \n\tbanned_until DATETIME, \n\tlast_request_at DATETIME, \n\tlast_vote_at DATETIME, \n\tlast_active_at DATETIME, \n\tavatar_url VARCHAR(500), \n\tusername_last_changed_at DATETIME, \n\tpassword_reset_token VARCHAR(255), \n\tpassword_reset_expires_at DATETIME, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_users PRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07514240>, '\nCREATE TABLE users (\n\tid INTEGER NOT NULL, \n\temail VARCHAR(255), \n\tpassword_hash VARCHAR(255), \n\tgoogle_id VARCHAR(255), \n\ttelegram_id BIGINT, \n\ttelegram_username VARCHAR(255), \n\ttelegram_first_name VARCHAR(255), \n\ttelegram_last_name VARCHAR(255), \n\treputation_score FLOAT NOT NULL, \n\ttotal_requests INTEGER NOT NULL, \n\tsuccessful_requests INTEGER NOT NULL, \n\tfailed_requests INTEGER NOT NULL, \n\ttotal_upvotes_received INTEGER NOT NULL, \n\ttotal_downvotes_received INTEGER NOT NULL, \n\ttotal_upvotes_given INTEGER NOT NULL, \n\ttotal_downvotes_given INTEGER NOT NULL, \n\tis_banned BOOLEAN NOT NULL, \n\tis_premium BOOLEAN NOT NULL, \n\tban_reason TEXT, \n\tbanned_at DATETIME, \n\tbanned_until DATETIME, \n\tlast_request_at DATETIME, \n\tlast_vote_at DATETIME, \n\tlast_active_at DATETIME, \n\tavatar_url VARCHAR(500), \n\tusername_last_changed_at DATETIME, \n\tpassword_reset_token VARCHAR(255), \n\tpassword_reset_expires_at DATETIME, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_users PRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07514240>)
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE UNIQUE INDEX ix_users_google_id ON users (google_id)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07514240>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00016s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06379FC0>, 'CREATE UNIQUE INDEX ix_users_google_id ON users (google_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06379FC0>, 'CREATE UNIQUE INDEX ix_users_google_id ON users (google_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06379FC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06379FC0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00017s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E061C2DC0>, 'CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E061C2DC0>, 'CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E061C2DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E061C2DC0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE UNIQUE INDEX ix_users_email ON users (email)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00016s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E074D32C0>, 'CREATE UNIQUE INDEX ix_users_email ON users (email)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E074D32C0>, 'CREATE UNIQUE INDEX ix_users_email ON users (email)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E074D32C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E074D32C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_users_password_reset_token ON users (password_reset_token)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00018s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07770EC0>, 'CREATE INDEX ix_users_password_reset_token ON users (password_reset_token)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07770EC0>, 'CREATE INDEX ix_users_password_reset_token ON users (password_reset_token)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07770EC0>)
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE chat_messages (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	content TEXT NOT NULL, 
	message_type VARCHAR(20) NOT NULL, 
	is_deleted BOOLEAN NOT NULL, 
	deleted_by_id INTEGER, 
	deleted_at DATETIME, 
	delete_reason VARCHAR(255), 
	reply_to_id INTEGER, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_chat_messages PRIMARY KEY (id), 
	CONSTRAINT fk_chat_messages_user_id_users FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE SET NULL, 
	CONSTRAINT fk_chat_messages_reply_to_id_chat_messages FOREIGN KEY(reply_to_id) REFERENCES chat_messages (id) ON DELETE SET NULL
)


DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07770EC0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00020s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06466540>, '\nCREATE TABLE chat_messages (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER, \n\tcontent TEXT NOT NULL, \n\tmessage_type VARCHAR(20) NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_by_id INTEGER, \n\tdeleted_at DATETIME, \n\tdelete_reason VARCHAR(255), \n\treply_to_id INTEGER, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_chat_messages PRIMARY KEY (id), \n\tCONSTRAINT fk_chat_messages_user_id_users FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE SET NULL, \n\tCONSTRAINT fk_chat_messages_reply_to_id_chat_messages FOREIGN KEY(reply_to_id) REFERENCES chat_messages (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06466540>, '\nCREATE TABLE chat_messages (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER, \n\tcontent TEXT NOT NULL, \n\tmessage_type VARCHAR(20) NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_by_id INTEGER, \n\tdeleted_at DATETIME, \n\tdelete_reason VARCHAR(255), \n\treply_to_id INTEGER, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_chat_messages PRIMARY KEY (id), \n\tCONSTRAINT fk_chat_messages_user_id_users FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE SET NULL, \n\tCONSTRAINT fk_chat_messages_reply_to_id_chat_messages FOREIGN KEY(reply_to_id) REFERENCES chat_messages (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06466540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06466540>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE radio_history (
	id INTEGER NOT NULL, 
	song_id INTEGER NOT NULL, 
	queue_id INTEGER, 
	played_at DATETIME NOT NULL, 
	ended_at DATETIME, 
	duration_played_seconds FLOAT, 
	broadcast_file_path VARCHAR(500), 
	stream_mount VARCHAR(100), 
	requester_telegram_id BIGINT, 
	requester_username VARCHAR(255), 
	song_title VARCHAR(500), 
	song_artist VARCHAR(255), 
	song_genre VARCHAR(100), 
	had_dj_intro BOOLEAN NOT NULL, 
	dj_intro_text TEXT, 
	listener_count INTEGER, 
	upvotes_during_play INTEGER NOT NULL, 
	downvotes_during_play INTEGER NOT NULL, 
	skips_requested INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_radio_history PRIMARY KEY (id), 
	CONSTRAINT fk_radio_history_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00019s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07773CC0>, '\nCREATE TABLE radio_history (\n\tid INTEGER NOT NULL, \n\tsong_id INTEGER NOT NULL, \n\tqueue_id INTEGER, \n\tplayed_at DATETIME NOT NULL, \n\tended_at DATETIME, \n\tduration_played_seconds FLOAT, \n\tbroadcast_file_path VARCHAR(500), \n\tstream_mount VARCHAR(100), \n\trequester_telegram_id BIGINT, \n\trequester_username VARCHAR(255), \n\tsong_title VARCHAR(500), \n\tsong_artist VARCHAR(255), \n\tsong_genre VARCHAR(100), \n\thad_dj_intro BOOLEAN NOT NULL, \n\tdj_intro_text TEXT, \n\tlistener_count INTEGER, \n\tupvotes_during_play INTEGER NOT NULL, \n\tdownvotes_during_play INTEGER NOT NULL, \n\tskips_requested INTEGER NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_radio_history PRIMARY KEY (id), \n\tCONSTRAINT fk_radio_history_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07773CC0>, '\nCREATE TABLE radio_history (\n\tid INTEGER NOT NULL, \n\tsong_id INTEGER NOT NULL, \n\tqueue_id INTEGER, \n\tplayed_at DATETIME NOT NULL, \n\tended_at DATETIME, \n\tduration_played_seconds FLOAT, \n\tbroadcast_file_path VARCHAR(500), \n\tstream_mount VARCHAR(100), \n\trequester_telegram_id BIGINT, \n\trequester_username VARCHAR(255), \n\tsong_title VARCHAR(500), \n\tsong_artist VARCHAR(255), \n\tsong_genre VARCHAR(100), \n\thad_dj_intro BOOLEAN NOT NULL, \n\tdj_intro_text TEXT, \n\tlistener_count INTEGER, \n\tupvotes_during_play INTEGER NOT NULL, \n\tdownvotes_during_play INTEGER NOT NULL, \n\tskips_requested INTEGER NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_radio_history PRIMARY KEY (id), \n\tCONSTRAINT fk_radio_history_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07773CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07773CC0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_history_played_at ON radio_history (played_at)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00016s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E061C26C0>, 'CREATE INDEX ix_radio_history_played_at ON radio_history (played_at)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E061C26C0>, 'CREATE INDEX ix_radio_history_played_at ON radio_history (played_at)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E061C26C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E061C26C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_history_song_id ON radio_history (song_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00022s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0754BCC0>, 'CREATE INDEX ix_radio_history_song_id ON radio_history (song_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0754BCC0>, 'CREATE INDEX ix_radio_history_song_id ON radio_history (song_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0754BCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0754BCC0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_history_queue_id ON radio_history (queue_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00019s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06436C40>, 'CREATE INDEX ix_radio_history_queue_id ON radio_history (queue_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06436C40>, 'CREATE INDEX ix_radio_history_queue_id ON radio_history (queue_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06436C40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06436C40>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE radio_queue (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	telegram_user_id BIGINT, 
	telegram_message_id BIGINT, 
	song_id INTEGER, 
	original_prompt TEXT NOT NULL, 
	enhanced_prompt TEXT, 
	genre_hint VARCHAR(100), 
	is_instrumental BOOLEAN NOT NULL, 
	status VARCHAR(50) NOT NULL, 
	suno_job_id VARCHAR(255), 
	error_message TEXT, 
	retry_count INTEGER NOT NULL, 
	max_retries INTEGER NOT NULL, 
	base_priority FLOAT NOT NULL, 
	priority_score FLOAT NOT NULL, 
	is_priority_boost BOOLEAN NOT NULL, 
	priority_boost_reason VARCHAR(255), 
	upvotes INTEGER NOT NULL, 
	downvotes INTEGER NOT NULL, 
	requested_at DATETIME NOT NULL, 
	queued_at DATETIME, 
	generation_started_at DATETIME, 
	generation_completed_at DATETIME, 
	broadcast_started_at DATETIME, 
	completed_at DATETIME, 
	is_moderated BOOLEAN NOT NULL, 
	moderation_passed BOOLEAN, 
	moderation_reason TEXT, 
	has_dj_intro BOOLEAN NOT NULL, 
	dj_intro_path VARCHAR(500), 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_radio_queue PRIMARY KEY (id), 
	CONSTRAINT fk_radio_queue_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), 
	CONSTRAINT fk_radio_queue_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00030s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07A7BBC0>, '\nCREATE TABLE radio_queue (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER, \n\ttelegram_user_id BIGINT, \n\ttelegram_message_id BIGINT, \n\tsong_id INTEGER, \n\toriginal_prompt TEXT NOT NULL, \n\tenhanced_prompt TEXT, \n\tgenre_hint VARCHAR(100), \n\tis_instrumental BOOLEAN NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tsuno_job_id VARCHAR(255), \n\terror_message TEXT, \n\tretry_count INTEGER NOT NULL, \n\tmax_retries INTEGER NOT NULL, \n\tbase_priority FLOAT NOT NULL, \n\tpriority_score FLOAT NOT NULL, \n\tis_priority_boost BOOLEAN NOT NULL, \n\tpriority_boost_reason VARCHAR(255), \n\tupvotes INTEGER NOT NULL, \n\tdownvotes INTEGER NOT NULL, \n\trequested_at DATETIME NOT NULL, \n\tqueued_at DATETIME, \n\tgeneration_started_at DATETIME, \n\tgeneration_completed_at DATETIME, \n\tbroadcast_started_at DATETIME, \n\tcompleted_at DATETIME, \n\tis_moderated BOOLEAN NOT NULL, \n\tmoderation_passed BOOLEAN, \n\tmoderation_reason TEXT, \n\thas_dj_intro BOOLEAN NOT NULL, \n\tdj_intro_path VARCHAR(500), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_radio_queue PRIMARY KEY (id), \n\tCONSTRAINT fk_radio_queue_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), \n\tCONSTRAINT fk_radio_queue_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07A7BBC0>, '\nCREATE TABLE radio_queue (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER, \n\ttelegram_user_id BIGINT, \n\ttelegram_message_id BIGINT, \n\tsong_id INTEGER, \n\toriginal_prompt TEXT NOT NULL, \n\tenhanced_prompt TEXT, \n\tgenre_hint VARCHAR(100), \n\tis_instrumental BOOLEAN NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tsuno_job_id VARCHAR(255), \n\terror_message TEXT, \n\tretry_count INTEGER NOT NULL, \n\tmax_retries INTEGER NOT NULL, \n\tbase_priority FLOAT NOT NULL, \n\tpriority_score FLOAT NOT NULL, \n\tis_priority_boost BOOLEAN NOT NULL, \n\tpriority_boost_reason VARCHAR(255), \n\tupvotes INTEGER NOT NULL, \n\tdownvotes INTEGER NOT NULL, \n\trequested_at DATETIME NOT NULL, \n\tqueued_at DATETIME, \n\tgeneration_started_at DATETIME, \n\tgeneration_completed_at DATETIME, \n\tbroadcast_started_at DATETIME, \n\tcompleted_at DATETIME, \n\tis_moderated BOOLEAN NOT NULL, \n\tmoderation_passed BOOLEAN, \n\tmoderation_reason TEXT, \n\thas_dj_intro BOOLEAN NOT NULL, \n\tdj_intro_path VARCHAR(500), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_radio_queue PRIMARY KEY (id), \n\tCONSTRAINT fk_radio_queue_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), \n\tCONSTRAINT fk_radio_queue_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07A7BBC0>)
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_queue_status ON radio_queue (status)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07A7BBC0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00017s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C055C0>, 'CREATE INDEX ix_radio_queue_status ON radio_queue (status)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C055C0>, 'CREATE INDEX ix_radio_queue_status ON radio_queue (status)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C055C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C055C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_queue_priority_score ON radio_queue (priority_score)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00021s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06317A40>, 'CREATE INDEX ix_radio_queue_priority_score ON radio_queue (priority_score)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06317A40>, 'CREATE INDEX ix_radio_queue_priority_score ON radio_queue (priority_score)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06317A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06317A40>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_queue_user_id ON radio_queue (user_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00017s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E4D40>, 'CREATE INDEX ix_radio_queue_user_id ON radio_queue (user_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E4D40>, 'CREATE INDEX ix_radio_queue_user_id ON radio_queue (user_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E4D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E4D40>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_queue_song_id ON radio_queue (song_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00010s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C06940>, 'CREATE INDEX ix_radio_queue_song_id ON radio_queue (song_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C06940>, 'CREATE INDEX ix_radio_queue_song_id ON radio_queue (song_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C06940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C06940>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_queue_telegram_user_id ON radio_queue (telegram_user_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00017s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06379440>, 'CREATE INDEX ix_radio_queue_telegram_user_id ON radio_queue (telegram_user_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06379440>, 'CREATE INDEX ix_radio_queue_telegram_user_id ON radio_queue (telegram_user_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06379440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06379440>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE votes (
	id INTEGER NOT NULL, 
	user_id INTEGER NOT NULL, 
	telegram_user_id BIGINT, 
	queue_item_id INTEGER NOT NULL, 
	vote_type VARCHAR(20) NOT NULL, 
	voted_at DATETIME NOT NULL, 
	previous_vote_type VARCHAR(20), 
	changed_at DATETIME, 
	source VARCHAR(50) NOT NULL, 
	telegram_callback_id VARCHAR(255), 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_votes PRIMARY KEY (id), 
	CONSTRAINT uq_votes_user_queue UNIQUE (user_id, queue_item_id), 
	CONSTRAINT fk_votes_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), 
	CONSTRAINT fk_votes_queue_item_id_radio_queue FOREIGN KEY(queue_item_id) REFERENCES radio_queue (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00018s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06378E40>, '\nCREATE TABLE votes (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER NOT NULL, \n\ttelegram_user_id BIGINT, \n\tqueue_item_id INTEGER NOT NULL, \n\tvote_type VARCHAR(20) NOT NULL, \n\tvoted_at DATETIME NOT NULL, \n\tprevious_vote_type VARCHAR(20), \n\tchanged_at DATETIME, \n\tsource VARCHAR(50) NOT NULL, \n\ttelegram_callback_id VARCHAR(255), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_votes PRIMARY KEY (id), \n\tCONSTRAINT uq_votes_user_queue UNIQUE (user_id, queue_item_id), \n\tCONSTRAINT fk_votes_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), \n\tCONSTRAINT fk_votes_queue_item_id_radio_queue FOREIGN KEY(queue_item_id) REFERENCES radio_queue (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06378E40>, '\nCREATE TABLE votes (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER NOT NULL, \n\ttelegram_user_id BIGINT, \n\tqueue_item_id INTEGER NOT NULL, \n\tvote_type VARCHAR(20) NOT NULL, \n\tvoted_at DATETIME NOT NULL, \n\tprevious_vote_type VARCHAR(20), \n\tchanged_at DATETIME, \n\tsource VARCHAR(50) NOT NULL, \n\ttelegram_callback_id VARCHAR(255), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_votes PRIMARY KEY (id), \n\tCONSTRAINT uq_votes_user_queue UNIQUE (user_id, queue_item_id), \n\tCONSTRAINT fk_votes_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), \n\tCONSTRAINT fk_votes_queue_item_id_radio_queue FOREIGN KEY(queue_item_id) REFERENCES radio_queue (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06378E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06378E40>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_votes_telegram_user_id ON votes (telegram_user_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00023s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06436940>, 'CREATE INDEX ix_votes_telegram_user_id ON votes (telegram_user_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06436940>, 'CREATE INDEX ix_votes_telegram_user_id ON votes (telegram_user_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06436940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06436940>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_votes_user_id ON votes (user_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00013s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C06440>, 'CREATE INDEX ix_votes_user_id ON votes (user_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C06440>, 'CREATE INDEX ix_votes_user_id ON votes (user_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C06440>)
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_votes_queue_item_id ON votes (queue_item_id)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C06440>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00016s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0748A040>, 'CREATE INDEX ix_votes_queue_item_id ON votes (queue_item_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0748A040>, 'CREATE INDEX ix_votes_queue_item_id ON votes (queue_item_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0748A040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0748A040>) completed
INFO     sqlalchemy.engine.Engine:base.py:2716 COMMIT
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E0622EA70>) completed
---------------------------- Captured stdout call -----------------------------
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | BEGIN (implicit)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | INSERT INTO songs (suno_job_id, suno_status, title, artist, original_prompt, enhanced_prompt, style_prompt, lyrics, genre, subgenre, mood, energy, duration_seconds, bpm, "key", is_instrumental, audio_url, local_file_path, file_size_bytes, audio_format, lufs_level, peak_db, is_normalized, generation_started_at, generation_completed_at, downloaded_at, play_count, total_upvotes, total_downvotes, is_approved, moderation_notes, flagged_at, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [generated in 0.00028s] (None, 'complete', 'My Cool Song', 'AI Radio', None, None, None, None, None, None, None, None, 180.0, None, None, 0, None, None, None, 'mp3', None, None, 0, None, None, None, 0, 0, 0, 1, None, None, '2026-01-04 08:58:54.708963', '2026-01-04 08:58:54.708963')
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075F1EC0>, 'INSERT INTO songs (suno_job_id, suno_status, title, artist, original_prompt, enhanced_prompt, style_prompt, lyrics, genre, subgenre, mood, energy, duration_seconds, bpm, "key", is_instrumental, audio_url, local_file_path, file_size_bytes, audio_format, lufs_level, peak_db, is_normalized, generation_started_at, generation_completed_at, downloaded_at, play_count, total_upvotes, total_downvotes, is_approved, moderation_notes, flagged_at, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, 'complete', 'My Cool Song', 'AI Radio', None, None, None, None, None, None, None, None, 180.0, None, None, 0, None, None, None, 'mp3', None, None, 0, None, None, None, 0, 0, 0, 1, None, None, '2026-01-04 08:58:54.708963', '2026-01-04 08:58:54.708963'))
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075F1EC0>, 'INSERT INTO songs (suno_job_id, suno_status, title, artist, original_prompt, enhanced_prompt, style_prompt, lyrics, genre, subgenre, mood, energy, duration_seconds, bpm, "key", is_instrumental, audio_url, local_file_path, file_size_bytes, audio_format, lufs_level, peak_db, is_normalized, generation_started_at, generation_completed_at, downloaded_at, play_count, total_upvotes, total_downvotes, is_approved, moderation_notes, flagged_at, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, 'complete', 'My Cool Song', 'AI Radio', None, None, None, None, None, None, None, None, 180.0, None, None, 0, None, None, None, 'mp3', None, None, 0, None, None, None, 0, 0, 0, 1, None, None, '2026-01-04 08:58:54.708963', '2026-01-04 08:58:54.708963')) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075F1EC0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075F1EC0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | INSERT INTO radio_queue (user_id, telegram_user_id, telegram_message_id, song_id, original_prompt, enhanced_prompt, genre_hint, is_instrumental, status, suno_job_id, error_message, retry_count, max_retries, base_priority, priority_score, is_priority_boost, priority_boost_reason, upvotes, downvotes, requested_at, queued_at, generation_started_at, generation_completed_at, broadcast_started_at, completed_at, is_moderated, moderation_passed, moderation_reason, has_dj_intro, dj_intro_path, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [generated in 0.00044s] (None, None, None, 1, 'test prompt', None, None, 0, 'generated', None, None, 0, 3, 100.0, 100.0, 0, None, 0, 0, '2026-01-04 08:58:54.714368', None, None, None, None, None, 0, None, None, 0, None, '2026-01-04 08:58:54.714368', '2026-01-04 08:58:54.714368')
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E6740>, 'INSERT INTO radio_queue (user_id, telegram_user_id, telegram_message_id, song_id, original_prompt, enhanced_prompt, genre_hint, is_instrumental, status, suno_job_id, error_message, retry_count, max_retries, base_priority, priority_score, is_priority_boost, priority_boost_reason, upvotes, downvotes, requested_at, queued_at, generation_started_at, generation_completed_at, broadcast_started_at, completed_at, is_moderated, moderation_passed, moderation_reason, has_dj_intro, dj_intro_path, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, 1, 'test prompt', None, None, 0, 'generated', None, None, 0, 3, 100.0, 100.0, 0, None, 0, 0, '2026-01-04 08:58:54.714368', None, None, None, None, None, 0, None, None, 0, None, '2026-01-04 08:58:54.714368', '2026-01-04 08:58:54.714368'))
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E6740>, 'INSERT INTO radio_queue (user_id, telegram_user_id, telegram_message_id, song_id, original_prompt, enhanced_prompt, genre_hint, is_instrumental, status, suno_job_id, error_message, retry_count, max_retries, base_priority, priority_score, is_priority_boost, priority_boost_reason, upvotes, downvotes, requested_at, queued_at, generation_started_at, generation_completed_at, broadcast_started_at, completed_at, is_moderated, moderation_passed, moderation_reason, has_dj_intro, dj_intro_path, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, 1, 'test prompt', None, None, 0, 'generated', None, None, 0, 3, 100.0, 100.0, 0, None, 0, 0, '2026-01-04 08:58:54.714368', None, None, None, None, None, 0, None, None, 0, None, '2026-01-04 08:58:54.714368', '2026-01-04 08:58:54.714368')) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E6740>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E6740>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | COMMIT
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E0622EA70>) completed
------------------------------ Captured log call ------------------------------
INFO     sqlalchemy.engine.Engine:base.py:2710 BEGIN (implicit)
INFO     sqlalchemy.engine.Engine:base.py:1846 INSERT INTO songs (suno_job_id, suno_status, title, artist, original_prompt, enhanced_prompt, style_prompt, lyrics, genre, subgenre, mood, energy, duration_seconds, bpm, "key", is_instrumental, audio_url, local_file_path, file_size_bytes, audio_format, lufs_level, peak_db, is_normalized, generation_started_at, generation_completed_at, downloaded_at, play_count, total_upvotes, total_downvotes, is_approved, moderation_notes, flagged_at, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
INFO     sqlalchemy.engine.Engine:base.py:1846 [generated in 0.00028s] (None, 'complete', 'My Cool Song', 'AI Radio', None, None, None, None, None, None, None, None, 180.0, None, None, 0, None, None, None, 'mp3', None, None, 0, None, None, None, 0, 0, 0, 1, None, None, '2026-01-04 08:58:54.708963', '2026-01-04 08:58:54.708963')
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075F1EC0>, 'INSERT INTO songs (suno_job_id, suno_status, title, artist, original_prompt, enhanced_prompt, style_prompt, lyrics, genre, subgenre, mood, energy, duration_seconds, bpm, "key", is_instrumental, audio_url, local_file_path, file_size_bytes, audio_format, lufs_level, peak_db, is_normalized, generation_started_at, generation_completed_at, downloaded_at, play_count, total_upvotes, total_downvotes, is_approved, moderation_notes, flagged_at, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, 'complete', 'My Cool Song', 'AI Radio', None, None, None, None, None, None, None, None, 180.0, None, None, 0, None, None, None, 'mp3', None, None, 0, None, None, None, 0, 0, 0, 1, None, None, '2026-01-04 08:58:54.708963', '2026-01-04 08:58:54.708963'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075F1EC0>, 'INSERT INTO songs (suno_job_id, suno_status, title, artist, original_prompt, enhanced_prompt, style_prompt, lyrics, genre, subgenre, mood, energy, duration_seconds, bpm, "key", is_instrumental, audio_url, local_file_path, file_size_bytes, audio_format, lufs_level, peak_db, is_normalized, generation_started_at, generation_completed_at, downloaded_at, play_count, total_upvotes, total_downvotes, is_approved, moderation_notes, flagged_at, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, 'complete', 'My Cool Song', 'AI Radio', None, None, None, None, None, None, None, None, 180.0, None, None, 0, None, None, None, 'mp3', None, None, 0, None, None, None, 0, 0, 0, 1, None, None, '2026-01-04 08:58:54.708963', '2026-01-04 08:58:54.708963')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075F1EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075F1EC0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 INSERT INTO radio_queue (user_id, telegram_user_id, telegram_message_id, song_id, original_prompt, enhanced_prompt, genre_hint, is_instrumental, status, suno_job_id, error_message, retry_count, max_retries, base_priority, priority_score, is_priority_boost, priority_boost_reason, upvotes, downvotes, requested_at, queued_at, generation_started_at, generation_completed_at, broadcast_started_at, completed_at, is_moderated, moderation_passed, moderation_reason, has_dj_intro, dj_intro_path, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
INFO     sqlalchemy.engine.Engine:base.py:1846 [generated in 0.00044s] (None, None, None, 1, 'test prompt', None, None, 0, 'generated', None, None, 0, 3, 100.0, 100.0, 0, None, 0, 0, '2026-01-04 08:58:54.714368', None, None, None, None, None, 0, None, None, 0, None, '2026-01-04 08:58:54.714368', '2026-01-04 08:58:54.714368')
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E6740>, 'INSERT INTO radio_queue (user_id, telegram_user_id, telegram_message_id, song_id, original_prompt, enhanced_prompt, genre_hint, is_instrumental, status, suno_job_id, error_message, retry_count, max_retries, base_priority, priority_score, is_priority_boost, priority_boost_reason, upvotes, downvotes, requested_at, queued_at, generation_started_at, generation_completed_at, broadcast_started_at, completed_at, is_moderated, moderation_passed, moderation_reason, has_dj_intro, dj_intro_path, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, 1, 'test prompt', None, None, 0, 'generated', None, None, 0, 3, 100.0, 100.0, 0, None, 0, 0, '2026-01-04 08:58:54.714368', None, None, None, None, None, 0, None, None, 0, None, '2026-01-04 08:58:54.714368', '2026-01-04 08:58:54.714368'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E6740>, 'INSERT INTO radio_queue (user_id, telegram_user_id, telegram_message_id, song_id, original_prompt, enhanced_prompt, genre_hint, is_instrumental, status, suno_job_id, error_message, retry_count, max_retries, base_priority, priority_score, is_priority_boost, priority_boost_reason, upvotes, downvotes, requested_at, queued_at, generation_started_at, generation_completed_at, broadcast_started_at, completed_at, is_moderated, moderation_passed, moderation_reason, has_dj_intro, dj_intro_path, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, 1, 'test prompt', None, None, 0, 'generated', None, None, 0, 3, 100.0, 100.0, 0, None, 0, 0, '2026-01-04 08:58:54.714368', None, None, None, None, None, 0, None, None, 0, None, '2026-01-04 08:58:54.714368', '2026-01-04 08:58:54.714368')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E6740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E6740>) completed
INFO     sqlalchemy.engine.Engine:base.py:2716 COMMIT
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E0622EA70>) completed
-------------------------- Captured stdout teardown ---------------------------
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | BEGIN (implicit)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("chat_messages")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075F2640>, 'PRAGMA main.table_info("chat_messages")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075F2640>, 'PRAGMA main.table_info("chat_messages")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E075F2640>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E075F2640>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075F2640>)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'user_id', 'INTEGER', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'content', 'TEXT', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'message_type', 'VARCHAR(20)', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075F2640>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'is_deleted', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'deleted_by_id', 'INTEGER', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'deleted_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (7, 'delete_reason', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (8, 'reply_to_id', 'INTEGER', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (9, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (10, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("radio_history")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07A53640>, 'PRAGMA main.table_info("radio_history")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07A53640>, 'PRAGMA main.table_info("radio_history")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07A53640>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07A53640>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07A53640>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07A53640>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'song_id', 'INTEGER', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'queue_id', 'INTEGER', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'played_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'ended_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'duration_played_seconds', 'FLOAT', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'broadcast_file_path', 'VARCHAR(500)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (7, 'stream_mount', 'VARCHAR(100)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (8, 'requester_telegram_id', 'BIGINT', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (9, 'requester_username', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (10, 'song_title', 'VARCHAR(500)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (11, 'song_artist', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (12, 'song_genre', 'VARCHAR(100)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (13, 'had_dj_intro', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (14, 'dj_intro_text', 'TEXT', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (15, 'listener_count', 'INTEGER', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (16, 'upvotes_during_play', 'INTEGER', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (17, 'downvotes_during_play', 'INTEGER', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (18, 'skips_requested', 'INTEGER', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (19, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (20, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("banned_words")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07824C40>, 'PRAGMA main.table_info("banned_words")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07824C40>, 'PRAGMA main.table_info("banned_words")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07824C40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07824C40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07824C40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07824C40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'word', 'VARCHAR(100)', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'category', 'VARCHAR(50)', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'reason', 'TEXT', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'is_active', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("radio_queue")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07A51C40>, 'PRAGMA main.table_info("radio_queue")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07A51C40>, 'PRAGMA main.table_info("radio_queue")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07A51C40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07A51C40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07A51C40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07A51C40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'user_id', 'INTEGER', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'telegram_user_id', 'BIGINT', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'telegram_message_id', 'BIGINT', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'song_id', 'INTEGER', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'original_prompt', 'TEXT', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'enhanced_prompt', 'TEXT', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (7, 'genre_hint', 'VARCHAR(100)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (8, 'is_instrumental', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (9, 'status', 'VARCHAR(50)', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (10, 'suno_job_id', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (11, 'error_message', 'TEXT', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (12, 'retry_count', 'INTEGER', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (13, 'max_retries', 'INTEGER', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (14, 'base_priority', 'FLOAT', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (15, 'priority_score', 'FLOAT', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (16, 'is_priority_boost', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (17, 'priority_boost_reason', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (18, 'upvotes', 'INTEGER', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (19, 'downvotes', 'INTEGER', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (20, 'requested_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (21, 'queued_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (22, 'generation_started_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (23, 'generation_completed_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (24, 'broadcast_started_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (25, 'completed_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (26, 'is_moderated', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (27, 'moderation_passed', 'BOOLEAN', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (28, 'moderation_reason', 'TEXT', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (29, 'has_dj_intro', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (30, 'dj_intro_path', 'VARCHAR(500)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (31, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (32, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("songs")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E079C27C0>, 'PRAGMA main.table_info("songs")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E079C27C0>, 'PRAGMA main.table_info("songs")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E079C27C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E079C27C0>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E079C27C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E079C27C0>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'suno_job_id', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'suno_status', 'VARCHAR(50)', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'title', 'VARCHAR(500)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'artist', 'VARCHAR(255)', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'original_prompt', 'TEXT', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'enhanced_prompt', 'TEXT', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (7, 'style_prompt', 'TEXT', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (8, 'lyrics', 'TEXT', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (9, 'genre', 'VARCHAR(100)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (10, 'subgenre', 'VARCHAR(100)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (11, 'mood', 'VARCHAR(100)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (12, 'energy', 'VARCHAR(50)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (13, 'duration_seconds', 'FLOAT', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (14, 'bpm', 'INTEGER', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (15, 'key', 'VARCHAR(10)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (16, 'is_instrumental', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (17, 'audio_url', 'VARCHAR(1000)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (18, 'local_file_path', 'VARCHAR(500)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (19, 'file_size_bytes', 'INTEGER', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (20, 'audio_format', 'VARCHAR(10)', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (21, 'lufs_level', 'FLOAT', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (22, 'peak_db', 'FLOAT', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (23, 'is_normalized', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (24, 'generation_started_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (25, 'generation_completed_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (26, 'downloaded_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (27, 'play_count', 'INTEGER', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (28, 'total_upvotes', 'INTEGER', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (29, 'total_downvotes', 'INTEGER', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (30, 'is_approved', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (31, 'moderation_notes', 'TEXT', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (32, 'flagged_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (33, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (34, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("users")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E6F40>, 'PRAGMA main.table_info("users")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E6F40>, 'PRAGMA main.table_info("users")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E077E6F40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E077E6F40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E6F40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E6F40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'email', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'password_hash', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'google_id', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'telegram_id', 'BIGINT', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'telegram_username', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'telegram_first_name', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (7, 'telegram_last_name', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (8, 'reputation_score', 'FLOAT', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (9, 'total_requests', 'INTEGER', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (10, 'successful_requests', 'INTEGER', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (11, 'failed_requests', 'INTEGER', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (12, 'total_upvotes_received', 'INTEGER', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (13, 'total_downvotes_received', 'INTEGER', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (14, 'total_upvotes_given', 'INTEGER', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (15, 'total_downvotes_given', 'INTEGER', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (16, 'is_banned', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (17, 'is_premium', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (18, 'ban_reason', 'TEXT', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (19, 'banned_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (20, 'banned_until', 'DATETIME', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (21, 'last_request_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (22, 'last_vote_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (23, 'last_active_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (24, 'avatar_url', 'VARCHAR(500)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (25, 'username_last_changed_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (26, 'password_reset_token', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (27, 'password_reset_expires_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (28, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (29, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("votes")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E079C3540>, 'PRAGMA main.table_info("votes")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E079C3540>, 'PRAGMA main.table_info("votes")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E079C3540>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E079C3540>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E079C3540>)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E079C3540>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'user_id', 'INTEGER', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'telegram_user_id', 'BIGINT', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'queue_item_id', 'INTEGER', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'vote_type', 'VARCHAR(20)', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'voted_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'previous_vote_type', 'VARCHAR(20)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (7, 'changed_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (8, 'source', 'VARCHAR(50)', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (9, 'telegram_callback_id', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (10, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (11, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE votes
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00011s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E078C2B40>, '\nDROP TABLE votes', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E078C2B40>, '\nDROP TABLE votes', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E078C2B40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E078C2B40>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE radio_queue
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00018s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B3E40>, '\nDROP TABLE radio_queue', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B3E40>, '\nDROP TABLE radio_queue', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B3E40>)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE radio_history
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B3E40>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00015s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E078244C0>, '\nDROP TABLE radio_history', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E078244C0>, '\nDROP TABLE radio_history', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E078244C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E078244C0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE chat_messages
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00016s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077125C0>, '\nDROP TABLE chat_messages', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077125C0>, '\nDROP TABLE chat_messages', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077125C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077125C0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE users
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00019s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07710440>, '\nDROP TABLE users', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07710440>, '\nDROP TABLE users', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07710440>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07710440>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE songs
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00016s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B12C0>, '\nDROP TABLE songs', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B12C0>, '\nDROP TABLE songs', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B12C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B12C0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE banned_words
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00012s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07537440>, '\nDROP TABLE banned_words', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07537440>, '\nDROP TABLE banned_words', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07537440>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07537440>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | COMMIT
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000014E0622EA70>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000014E0622EA70>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing <function Connection.stop.<locals>.close_and_stop at 0x0000014E077B77E0>
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation <function Connection.stop.<locals>.close_and_stop at 0x0000014E077B77E0> completed
---------------------------- Captured log teardown ----------------------------
INFO     sqlalchemy.engine.Engine:base.py:2710 BEGIN (implicit)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("chat_messages")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075F2640>, 'PRAGMA main.table_info("chat_messages")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075F2640>, 'PRAGMA main.table_info("chat_messages")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E075F2640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E075F2640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075F2640>)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'user_id', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'content', 'TEXT', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'message_type', 'VARCHAR(20)', 1, None, 0)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075F2640>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'is_deleted', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'deleted_by_id', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'deleted_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (7, 'delete_reason', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (8, 'reply_to_id', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (9, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (10, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("radio_history")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07A53640>, 'PRAGMA main.table_info("radio_history")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07A53640>, 'PRAGMA main.table_info("radio_history")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07A53640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07A53640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07A53640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07A53640>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'song_id', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'queue_id', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'played_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'ended_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'duration_played_seconds', 'FLOAT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'broadcast_file_path', 'VARCHAR(500)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (7, 'stream_mount', 'VARCHAR(100)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (8, 'requester_telegram_id', 'BIGINT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (9, 'requester_username', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (10, 'song_title', 'VARCHAR(500)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (11, 'song_artist', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (12, 'song_genre', 'VARCHAR(100)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (13, 'had_dj_intro', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (14, 'dj_intro_text', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (15, 'listener_count', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (16, 'upvotes_during_play', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (17, 'downvotes_during_play', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (18, 'skips_requested', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (19, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (20, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("banned_words")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07824C40>, 'PRAGMA main.table_info("banned_words")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07824C40>, 'PRAGMA main.table_info("banned_words")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07824C40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07824C40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07824C40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07824C40>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'word', 'VARCHAR(100)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'category', 'VARCHAR(50)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'reason', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'is_active', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("radio_queue")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07A51C40>, 'PRAGMA main.table_info("radio_queue")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07A51C40>, 'PRAGMA main.table_info("radio_queue")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07A51C40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07A51C40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07A51C40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07A51C40>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'user_id', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'telegram_user_id', 'BIGINT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'telegram_message_id', 'BIGINT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'song_id', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'original_prompt', 'TEXT', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'enhanced_prompt', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (7, 'genre_hint', 'VARCHAR(100)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (8, 'is_instrumental', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (9, 'status', 'VARCHAR(50)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (10, 'suno_job_id', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (11, 'error_message', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (12, 'retry_count', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (13, 'max_retries', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (14, 'base_priority', 'FLOAT', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (15, 'priority_score', 'FLOAT', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (16, 'is_priority_boost', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (17, 'priority_boost_reason', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (18, 'upvotes', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (19, 'downvotes', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (20, 'requested_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (21, 'queued_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (22, 'generation_started_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (23, 'generation_completed_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (24, 'broadcast_started_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (25, 'completed_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (26, 'is_moderated', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (27, 'moderation_passed', 'BOOLEAN', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (28, 'moderation_reason', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (29, 'has_dj_intro', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (30, 'dj_intro_path', 'VARCHAR(500)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (31, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (32, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("songs")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E079C27C0>, 'PRAGMA main.table_info("songs")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E079C27C0>, 'PRAGMA main.table_info("songs")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E079C27C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E079C27C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E079C27C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E079C27C0>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'suno_job_id', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'suno_status', 'VARCHAR(50)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'title', 'VARCHAR(500)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'artist', 'VARCHAR(255)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'original_prompt', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'enhanced_prompt', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (7, 'style_prompt', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (8, 'lyrics', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (9, 'genre', 'VARCHAR(100)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (10, 'subgenre', 'VARCHAR(100)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (11, 'mood', 'VARCHAR(100)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (12, 'energy', 'VARCHAR(50)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (13, 'duration_seconds', 'FLOAT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (14, 'bpm', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (15, 'key', 'VARCHAR(10)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (16, 'is_instrumental', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (17, 'audio_url', 'VARCHAR(1000)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (18, 'local_file_path', 'VARCHAR(500)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (19, 'file_size_bytes', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (20, 'audio_format', 'VARCHAR(10)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (21, 'lufs_level', 'FLOAT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (22, 'peak_db', 'FLOAT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (23, 'is_normalized', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (24, 'generation_started_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (25, 'generation_completed_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (26, 'downloaded_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (27, 'play_count', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (28, 'total_upvotes', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (29, 'total_downvotes', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (30, 'is_approved', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (31, 'moderation_notes', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (32, 'flagged_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (33, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (34, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("users")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E6F40>, 'PRAGMA main.table_info("users")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E6F40>, 'PRAGMA main.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E077E6F40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E077E6F40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E6F40>)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E6F40>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'email', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'password_hash', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'google_id', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'telegram_id', 'BIGINT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'telegram_username', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'telegram_first_name', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (7, 'telegram_last_name', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (8, 'reputation_score', 'FLOAT', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (9, 'total_requests', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (10, 'successful_requests', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (11, 'failed_requests', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (12, 'total_upvotes_received', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (13, 'total_downvotes_received', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (14, 'total_upvotes_given', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (15, 'total_downvotes_given', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (16, 'is_banned', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (17, 'is_premium', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (18, 'ban_reason', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (19, 'banned_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (20, 'banned_until', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (21, 'last_request_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (22, 'last_vote_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (23, 'last_active_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (24, 'avatar_url', 'VARCHAR(500)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (25, 'username_last_changed_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (26, 'password_reset_token', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (27, 'password_reset_expires_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (28, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (29, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("votes")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E079C3540>, 'PRAGMA main.table_info("votes")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E079C3540>, 'PRAGMA main.table_info("votes")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E079C3540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E079C3540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E079C3540>)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E079C3540>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'user_id', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'telegram_user_id', 'BIGINT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'queue_item_id', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'vote_type', 'VARCHAR(20)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'voted_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'previous_vote_type', 'VARCHAR(20)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (7, 'changed_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (8, 'source', 'VARCHAR(50)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (9, 'telegram_callback_id', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (10, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (11, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE votes
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00011s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E078C2B40>, '\nDROP TABLE votes', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E078C2B40>, '\nDROP TABLE votes', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E078C2B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E078C2B40>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE radio_queue
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00018s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B3E40>, '\nDROP TABLE radio_queue', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B3E40>, '\nDROP TABLE radio_queue', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B3E40>)
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE radio_history
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B3E40>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00015s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E078244C0>, '\nDROP TABLE radio_history', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E078244C0>, '\nDROP TABLE radio_history', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E078244C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E078244C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE chat_messages
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00016s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077125C0>, '\nDROP TABLE chat_messages', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077125C0>, '\nDROP TABLE chat_messages', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077125C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077125C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE users
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00019s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07710440>, '\nDROP TABLE users', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07710440>, '\nDROP TABLE users', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07710440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07710440>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE songs
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00016s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B12C0>, '\nDROP TABLE songs', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B12C0>, '\nDROP TABLE songs', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B12C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B12C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE banned_words
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00012s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07537440>, '\nDROP TABLE banned_words', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07537440>, '\nDROP TABLE banned_words', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07537440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07537440>) completed
INFO     sqlalchemy.engine.Engine:base.py:2716 COMMIT
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000014E0622EA70>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000014E0622EA70>) completed
DEBUG    aiosqlite:core.py:62 executing <function Connection.stop.<locals>.close_and_stop at 0x0000014E077B77E0>
DEBUG    aiosqlite:core.py:67 operation <function Connection.stop.<locals>.close_and_stop at 0x0000014E077B77E0> completed
_______________________ test_broadcast_status_end_song ________________________
tests\test_webhooks_broadcast.py:108: in test_broadcast_status_end_song
    assert response.status_code == 200
E   assert 401 == 200
E    +  where 401 = <Response [401 Unauthorized]>.status_code
---------------------------- Captured stdout setup ----------------------------
2026-01-04 08:58:54 | [36mDEBUG[0m | asyncio | Using proactor: IocpProactor
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing <function connect.<locals>.connector at 0x0000014E079FB380>
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation <function connect.<locals>.connector at 0x0000014E079FB380> completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014E062DBC40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000014E079F8900>, deterministic=True)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014E062DBC40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000014E079F8900>, deterministic=True) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014E062DBC40>, 'floor', 1, <built-in function floor>, deterministic=True)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014E062DBC40>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075736C0>, 'PRAGMA read_uncommitted', [])
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075736C0>, 'PRAGMA read_uncommitted', []) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E075736C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E075736C0>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075736C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075736C0>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | BEGIN (implicit)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("chat_messages")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076EC040>, 'PRAGMA main.table_info("chat_messages")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076EC040>, 'PRAGMA main.table_info("chat_messages")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076EC040>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076EC040>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076EC040>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076EC040>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("chat_messages")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E4D40>, 'PRAGMA temp.table_info("chat_messages")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E4D40>, 'PRAGMA temp.table_info("chat_messages")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E077E4D40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E077E4D40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E4D40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E4D40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("radio_history")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076EDC40>, 'PRAGMA main.table_info("radio_history")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076EDC40>, 'PRAGMA main.table_info("radio_history")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076EDC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076EDC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076EDC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076EDC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("radio_history")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0754BCC0>, 'PRAGMA temp.table_info("radio_history")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0754BCC0>, 'PRAGMA temp.table_info("radio_history")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E0754BCC0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E0754BCC0>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0754BCC0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0754BCC0>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("banned_words")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07730DC0>, 'PRAGMA main.table_info("banned_words")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07730DC0>, 'PRAGMA main.table_info("banned_words")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07730DC0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07730DC0>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07730DC0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07730DC0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("banned_words")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E6F40>, 'PRAGMA temp.table_info("banned_words")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E6F40>, 'PRAGMA temp.table_info("banned_words")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E077E6F40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E077E6F40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E6F40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E6F40>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("radio_queue")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E061C2DC0>, 'PRAGMA main.table_info("radio_queue")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E061C2DC0>, 'PRAGMA main.table_info("radio_queue")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E061C2DC0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E061C2DC0>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E061C2DC0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E061C2DC0>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("radio_queue")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07858040>, 'PRAGMA temp.table_info("radio_queue")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07858040>, 'PRAGMA temp.table_info("radio_queue")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07858040>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07858040>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07858040>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07858040>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("songs")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E079C3540>, 'PRAGMA main.table_info("songs")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E079C3540>, 'PRAGMA main.table_info("songs")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E079C3540>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E079C3540>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E079C3540>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E079C3540>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("songs")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E079C2F40>, 'PRAGMA temp.table_info("songs")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E079C2F40>, 'PRAGMA temp.table_info("songs")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E079C2F40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E079C2F40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E079C2F40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E079C2F40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("users")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06379440>, 'PRAGMA main.table_info("users")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06379440>, 'PRAGMA main.table_info("users")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E06379440>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E06379440>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06379440>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06379440>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("users")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06436C40>, 'PRAGMA temp.table_info("users")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06436C40>, 'PRAGMA temp.table_info("users")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E06436C40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E06436C40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06436C40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06436C40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("votes")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06378E40>, 'PRAGMA main.table_info("votes")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06378E40>, 'PRAGMA main.table_info("votes")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E06378E40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E06378E40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06378E40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06378E40>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("votes")
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06379FC0>, 'PRAGMA temp.table_info("votes")', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06379FC0>, 'PRAGMA temp.table_info("votes")', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E06379FC0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E06379FC0>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06379FC0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06379FC0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE banned_words (
	id INTEGER NOT NULL, 
	word VARCHAR(100) NOT NULL, 
	category VARCHAR(50) NOT NULL, 
	reason TEXT, 
	is_active BOOLEAN NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_banned_words PRIMARY KEY (id)
)


2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00017s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B3E40>, '\nCREATE TABLE banned_words (\n\tid INTEGER NOT NULL, \n\tword VARCHAR(100) NOT NULL, \n\tcategory VARCHAR(50) NOT NULL, \n\treason TEXT, \n\tis_active BOOLEAN NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_banned_words PRIMARY KEY (id)\n)\n\n', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B3E40>, '\nCREATE TABLE banned_words (\n\tid INTEGER NOT NULL, \n\tword VARCHAR(100) NOT NULL, \n\tcategory VARCHAR(50) NOT NULL, \n\treason TEXT, \n\tis_active BOOLEAN NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_banned_words PRIMARY KEY (id)\n)\n\n', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B3E40>)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE UNIQUE INDEX ix_banned_words_word ON banned_words (word)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B3E40>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00017s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E079C35C0>, 'CREATE UNIQUE INDEX ix_banned_words_word ON banned_words (word)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E079C35C0>, 'CREATE UNIQUE INDEX ix_banned_words_word ON banned_words (word)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E079C35C0>)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE songs (
	id INTEGER NOT NULL, 
	suno_job_id VARCHAR(255), 
	suno_status VARCHAR(50) NOT NULL, 
	title VARCHAR(500), 
	artist VARCHAR(255) NOT NULL, 
	original_prompt TEXT, 
	enhanced_prompt TEXT, 
	style_prompt TEXT, 
	lyrics TEXT, 
	genre VARCHAR(100), 
	subgenre VARCHAR(100), 
	mood VARCHAR(100), 
	energy VARCHAR(50), 
	duration_seconds FLOAT, 
	bpm INTEGER, 
	"key" VARCHAR(10), 
	is_instrumental BOOLEAN NOT NULL, 
	audio_url VARCHAR(1000), 
	local_file_path VARCHAR(500), 
	file_size_bytes INTEGER, 
	audio_format VARCHAR(10) NOT NULL, 
	lufs_level FLOAT, 
	peak_db FLOAT, 
	is_normalized BOOLEAN NOT NULL, 
	generation_started_at DATETIME, 
	generation_completed_at DATETIME, 
	downloaded_at DATETIME, 
	play_count INTEGER NOT NULL, 
	total_upvotes INTEGER NOT NULL, 
	total_downvotes INTEGER NOT NULL, 
	is_approved BOOLEAN NOT NULL, 
	moderation_notes TEXT, 
	flagged_at DATETIME, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_songs PRIMARY KEY (id)
)


2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E079C35C0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00024s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07773240>, '\nCREATE TABLE songs (\n\tid INTEGER NOT NULL, \n\tsuno_job_id VARCHAR(255), \n\tsuno_status VARCHAR(50) NOT NULL, \n\ttitle VARCHAR(500), \n\tartist VARCHAR(255) NOT NULL, \n\toriginal_prompt TEXT, \n\tenhanced_prompt TEXT, \n\tstyle_prompt TEXT, \n\tlyrics TEXT, \n\tgenre VARCHAR(100), \n\tsubgenre VARCHAR(100), \n\tmood VARCHAR(100), \n\tenergy VARCHAR(50), \n\tduration_seconds FLOAT, \n\tbpm INTEGER, \n\t"key" VARCHAR(10), \n\tis_instrumental BOOLEAN NOT NULL, \n\taudio_url VARCHAR(1000), \n\tlocal_file_path VARCHAR(500), \n\tfile_size_bytes INTEGER, \n\taudio_format VARCHAR(10) NOT NULL, \n\tlufs_level FLOAT, \n\tpeak_db FLOAT, \n\tis_normalized BOOLEAN NOT NULL, \n\tgeneration_started_at DATETIME, \n\tgeneration_completed_at DATETIME, \n\tdownloaded_at DATETIME, \n\tplay_count INTEGER NOT NULL, \n\ttotal_upvotes INTEGER NOT NULL, \n\ttotal_downvotes INTEGER NOT NULL, \n\tis_approved BOOLEAN NOT NULL, \n\tmoderation_notes TEXT, \n\tflagged_at DATETIME, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_songs PRIMARY KEY (id)\n)\n\n', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07773240>, '\nCREATE TABLE songs (\n\tid INTEGER NOT NULL, \n\tsuno_job_id VARCHAR(255), \n\tsuno_status VARCHAR(50) NOT NULL, \n\ttitle VARCHAR(500), \n\tartist VARCHAR(255) NOT NULL, \n\toriginal_prompt TEXT, \n\tenhanced_prompt TEXT, \n\tstyle_prompt TEXT, \n\tlyrics TEXT, \n\tgenre VARCHAR(100), \n\tsubgenre VARCHAR(100), \n\tmood VARCHAR(100), \n\tenergy VARCHAR(50), \n\tduration_seconds FLOAT, \n\tbpm INTEGER, \n\t"key" VARCHAR(10), \n\tis_instrumental BOOLEAN NOT NULL, \n\taudio_url VARCHAR(1000), \n\tlocal_file_path VARCHAR(500), \n\tfile_size_bytes INTEGER, \n\taudio_format VARCHAR(10) NOT NULL, \n\tlufs_level FLOAT, \n\tpeak_db FLOAT, \n\tis_normalized BOOLEAN NOT NULL, \n\tgeneration_started_at DATETIME, \n\tgeneration_completed_at DATETIME, \n\tdownloaded_at DATETIME, \n\tplay_count INTEGER NOT NULL, \n\ttotal_upvotes INTEGER NOT NULL, \n\ttotal_downvotes INTEGER NOT NULL, \n\tis_approved BOOLEAN NOT NULL, \n\tmoderation_notes TEXT, \n\tflagged_at DATETIME, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_songs PRIMARY KEY (id)\n)\n\n', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07773240>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07773240>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE UNIQUE INDEX ix_songs_suno_job_id ON songs (suno_job_id)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00017s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07BAEE40>, 'CREATE UNIQUE INDEX ix_songs_suno_job_id ON songs (suno_job_id)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07BAEE40>, 'CREATE UNIQUE INDEX ix_songs_suno_job_id ON songs (suno_job_id)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07BAEE40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07BAEE40>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	email VARCHAR(255), 
	password_hash VARCHAR(255), 
	google_id VARCHAR(255), 
	telegram_id BIGINT, 
	telegram_username VARCHAR(255), 
	telegram_first_name VARCHAR(255), 
	telegram_last_name VARCHAR(255), 
	reputation_score FLOAT NOT NULL, 
	total_requests INTEGER NOT NULL, 
	successful_requests INTEGER NOT NULL, 
	failed_requests INTEGER NOT NULL, 
	total_upvotes_received INTEGER NOT NULL, 
	total_downvotes_received INTEGER NOT NULL, 
	total_upvotes_given INTEGER NOT NULL, 
	total_downvotes_given INTEGER NOT NULL, 
	is_banned BOOLEAN NOT NULL, 
	is_premium BOOLEAN NOT NULL, 
	ban_reason TEXT, 
	banned_at DATETIME, 
	banned_until DATETIME, 
	last_request_at DATETIME, 
	last_vote_at DATETIME, 
	last_active_at DATETIME, 
	avatar_url VARCHAR(500), 
	username_last_changed_at DATETIME, 
	password_reset_token VARCHAR(255), 
	password_reset_expires_at DATETIME, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_users PRIMARY KEY (id)
)


2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00022s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076EFD40>, '\nCREATE TABLE users (\n\tid INTEGER NOT NULL, \n\temail VARCHAR(255), \n\tpassword_hash VARCHAR(255), \n\tgoogle_id VARCHAR(255), \n\ttelegram_id BIGINT, \n\ttelegram_username VARCHAR(255), \n\ttelegram_first_name VARCHAR(255), \n\ttelegram_last_name VARCHAR(255), \n\treputation_score FLOAT NOT NULL, \n\ttotal_requests INTEGER NOT NULL, \n\tsuccessful_requests INTEGER NOT NULL, \n\tfailed_requests INTEGER NOT NULL, \n\ttotal_upvotes_received INTEGER NOT NULL, \n\ttotal_downvotes_received INTEGER NOT NULL, \n\ttotal_upvotes_given INTEGER NOT NULL, \n\ttotal_downvotes_given INTEGER NOT NULL, \n\tis_banned BOOLEAN NOT NULL, \n\tis_premium BOOLEAN NOT NULL, \n\tban_reason TEXT, \n\tbanned_at DATETIME, \n\tbanned_until DATETIME, \n\tlast_request_at DATETIME, \n\tlast_vote_at DATETIME, \n\tlast_active_at DATETIME, \n\tavatar_url VARCHAR(500), \n\tusername_last_changed_at DATETIME, \n\tpassword_reset_token VARCHAR(255), \n\tpassword_reset_expires_at DATETIME, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_users PRIMARY KEY (id)\n)\n\n', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076EFD40>, '\nCREATE TABLE users (\n\tid INTEGER NOT NULL, \n\temail VARCHAR(255), \n\tpassword_hash VARCHAR(255), \n\tgoogle_id VARCHAR(255), \n\ttelegram_id BIGINT, \n\ttelegram_username VARCHAR(255), \n\ttelegram_first_name VARCHAR(255), \n\ttelegram_last_name VARCHAR(255), \n\treputation_score FLOAT NOT NULL, \n\ttotal_requests INTEGER NOT NULL, \n\tsuccessful_requests INTEGER NOT NULL, \n\tfailed_requests INTEGER NOT NULL, \n\ttotal_upvotes_received INTEGER NOT NULL, \n\ttotal_downvotes_received INTEGER NOT NULL, \n\ttotal_upvotes_given INTEGER NOT NULL, \n\ttotal_downvotes_given INTEGER NOT NULL, \n\tis_banned BOOLEAN NOT NULL, \n\tis_premium BOOLEAN NOT NULL, \n\tban_reason TEXT, \n\tbanned_at DATETIME, \n\tbanned_until DATETIME, \n\tlast_request_at DATETIME, \n\tlast_vote_at DATETIME, \n\tlast_active_at DATETIME, \n\tavatar_url VARCHAR(500), \n\tusername_last_changed_at DATETIME, \n\tpassword_reset_token VARCHAR(255), \n\tpassword_reset_expires_at DATETIME, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_users PRIMARY KEY (id)\n)\n\n', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076EFD40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076EFD40>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE UNIQUE INDEX ix_users_google_id ON users (google_id)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00017s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07A52640>, 'CREATE UNIQUE INDEX ix_users_google_id ON users (google_id)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07A52640>, 'CREATE UNIQUE INDEX ix_users_google_id ON users (google_id)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07A52640>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07A52640>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00015s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0637A6C0>, 'CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0637A6C0>, 'CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0637A6C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0637A6C0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE UNIQUE INDEX ix_users_email ON users (email)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00012s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0748BEC0>, 'CREATE UNIQUE INDEX ix_users_email ON users (email)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0748BEC0>, 'CREATE UNIQUE INDEX ix_users_email ON users (email)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0748BEC0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0748BEC0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_users_password_reset_token ON users (password_reset_token)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00020s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076853C0>, 'CREATE INDEX ix_users_password_reset_token ON users (password_reset_token)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076853C0>, 'CREATE INDEX ix_users_password_reset_token ON users (password_reset_token)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076853C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076853C0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE chat_messages (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	content TEXT NOT NULL, 
	message_type VARCHAR(20) NOT NULL, 
	is_deleted BOOLEAN NOT NULL, 
	deleted_by_id INTEGER, 
	deleted_at DATETIME, 
	delete_reason VARCHAR(255), 
	reply_to_id INTEGER, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_chat_messages PRIMARY KEY (id), 
	CONSTRAINT fk_chat_messages_user_id_users FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE SET NULL, 
	CONSTRAINT fk_chat_messages_reply_to_id_chat_messages FOREIGN KEY(reply_to_id) REFERENCES chat_messages (id) ON DELETE SET NULL
)


2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00019s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07570640>, '\nCREATE TABLE chat_messages (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER, \n\tcontent TEXT NOT NULL, \n\tmessage_type VARCHAR(20) NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_by_id INTEGER, \n\tdeleted_at DATETIME, \n\tdelete_reason VARCHAR(255), \n\treply_to_id INTEGER, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_chat_messages PRIMARY KEY (id), \n\tCONSTRAINT fk_chat_messages_user_id_users FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE SET NULL, \n\tCONSTRAINT fk_chat_messages_reply_to_id_chat_messages FOREIGN KEY(reply_to_id) REFERENCES chat_messages (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07570640>, '\nCREATE TABLE chat_messages (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER, \n\tcontent TEXT NOT NULL, \n\tmessage_type VARCHAR(20) NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_by_id INTEGER, \n\tdeleted_at DATETIME, \n\tdelete_reason VARCHAR(255), \n\treply_to_id INTEGER, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_chat_messages PRIMARY KEY (id), \n\tCONSTRAINT fk_chat_messages_user_id_users FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE SET NULL, \n\tCONSTRAINT fk_chat_messages_reply_to_id_chat_messages FOREIGN KEY(reply_to_id) REFERENCES chat_messages (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07570640>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07570640>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE radio_history (
	id INTEGER NOT NULL, 
	song_id INTEGER NOT NULL, 
	queue_id INTEGER, 
	played_at DATETIME NOT NULL, 
	ended_at DATETIME, 
	duration_played_seconds FLOAT, 
	broadcast_file_path VARCHAR(500), 
	stream_mount VARCHAR(100), 
	requester_telegram_id BIGINT, 
	requester_username VARCHAR(255), 
	song_title VARCHAR(500), 
	song_artist VARCHAR(255), 
	song_genre VARCHAR(100), 
	had_dj_intro BOOLEAN NOT NULL, 
	dj_intro_text TEXT, 
	listener_count INTEGER, 
	upvotes_during_play INTEGER NOT NULL, 
	downvotes_during_play INTEGER NOT NULL, 
	skips_requested INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_radio_history PRIMARY KEY (id), 
	CONSTRAINT fk_radio_history_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)
)


2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00011s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07770EC0>, '\nCREATE TABLE radio_history (\n\tid INTEGER NOT NULL, \n\tsong_id INTEGER NOT NULL, \n\tqueue_id INTEGER, \n\tplayed_at DATETIME NOT NULL, \n\tended_at DATETIME, \n\tduration_played_seconds FLOAT, \n\tbroadcast_file_path VARCHAR(500), \n\tstream_mount VARCHAR(100), \n\trequester_telegram_id BIGINT, \n\trequester_username VARCHAR(255), \n\tsong_title VARCHAR(500), \n\tsong_artist VARCHAR(255), \n\tsong_genre VARCHAR(100), \n\thad_dj_intro BOOLEAN NOT NULL, \n\tdj_intro_text TEXT, \n\tlistener_count INTEGER, \n\tupvotes_during_play INTEGER NOT NULL, \n\tdownvotes_during_play INTEGER NOT NULL, \n\tskips_requested INTEGER NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_radio_history PRIMARY KEY (id), \n\tCONSTRAINT fk_radio_history_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)\n)\n\n', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07770EC0>, '\nCREATE TABLE radio_history (\n\tid INTEGER NOT NULL, \n\tsong_id INTEGER NOT NULL, \n\tqueue_id INTEGER, \n\tplayed_at DATETIME NOT NULL, \n\tended_at DATETIME, \n\tduration_played_seconds FLOAT, \n\tbroadcast_file_path VARCHAR(500), \n\tstream_mount VARCHAR(100), \n\trequester_telegram_id BIGINT, \n\trequester_username VARCHAR(255), \n\tsong_title VARCHAR(500), \n\tsong_artist VARCHAR(255), \n\tsong_genre VARCHAR(100), \n\thad_dj_intro BOOLEAN NOT NULL, \n\tdj_intro_text TEXT, \n\tlistener_count INTEGER, \n\tupvotes_during_play INTEGER NOT NULL, \n\tdownvotes_during_play INTEGER NOT NULL, \n\tskips_requested INTEGER NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_radio_history PRIMARY KEY (id), \n\tCONSTRAINT fk_radio_history_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)\n)\n\n', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07770EC0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07770EC0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_history_played_at ON radio_history (played_at)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00020s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075366C0>, 'CREATE INDEX ix_radio_history_played_at ON radio_history (played_at)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075366C0>, 'CREATE INDEX ix_radio_history_played_at ON radio_history (played_at)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075366C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075366C0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_history_song_id ON radio_history (song_id)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00011s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076873C0>, 'CREATE INDEX ix_radio_history_song_id ON radio_history (song_id)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076873C0>, 'CREATE INDEX ix_radio_history_song_id ON radio_history (song_id)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076873C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076873C0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_history_queue_id ON radio_history (queue_id)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00010s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07534940>, 'CREATE INDEX ix_radio_history_queue_id ON radio_history (queue_id)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07534940>, 'CREATE INDEX ix_radio_history_queue_id ON radio_history (queue_id)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07534940>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07534940>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE radio_queue (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	telegram_user_id BIGINT, 
	telegram_message_id BIGINT, 
	song_id INTEGER, 
	original_prompt TEXT NOT NULL, 
	enhanced_prompt TEXT, 
	genre_hint VARCHAR(100), 
	is_instrumental BOOLEAN NOT NULL, 
	status VARCHAR(50) NOT NULL, 
	suno_job_id VARCHAR(255), 
	error_message TEXT, 
	retry_count INTEGER NOT NULL, 
	max_retries INTEGER NOT NULL, 
	base_priority FLOAT NOT NULL, 
	priority_score FLOAT NOT NULL, 
	is_priority_boost BOOLEAN NOT NULL, 
	priority_boost_reason VARCHAR(255), 
	upvotes INTEGER NOT NULL, 
	downvotes INTEGER NOT NULL, 
	requested_at DATETIME NOT NULL, 
	queued_at DATETIME, 
	generation_started_at DATETIME, 
	generation_completed_at DATETIME, 
	broadcast_started_at DATETIME, 
	completed_at DATETIME, 
	is_moderated BOOLEAN NOT NULL, 
	moderation_passed BOOLEAN, 
	moderation_reason TEXT, 
	has_dj_intro BOOLEAN NOT NULL, 
	dj_intro_path VARCHAR(500), 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_radio_queue PRIMARY KEY (id), 
	CONSTRAINT fk_radio_queue_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), 
	CONSTRAINT fk_radio_queue_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)
)


2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00019s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07534AC0>, '\nCREATE TABLE radio_queue (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER, \n\ttelegram_user_id BIGINT, \n\ttelegram_message_id BIGINT, \n\tsong_id INTEGER, \n\toriginal_prompt TEXT NOT NULL, \n\tenhanced_prompt TEXT, \n\tgenre_hint VARCHAR(100), \n\tis_instrumental BOOLEAN NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tsuno_job_id VARCHAR(255), \n\terror_message TEXT, \n\tretry_count INTEGER NOT NULL, \n\tmax_retries INTEGER NOT NULL, \n\tbase_priority FLOAT NOT NULL, \n\tpriority_score FLOAT NOT NULL, \n\tis_priority_boost BOOLEAN NOT NULL, \n\tpriority_boost_reason VARCHAR(255), \n\tupvotes INTEGER NOT NULL, \n\tdownvotes INTEGER NOT NULL, \n\trequested_at DATETIME NOT NULL, \n\tqueued_at DATETIME, \n\tgeneration_started_at DATETIME, \n\tgeneration_completed_at DATETIME, \n\tbroadcast_started_at DATETIME, \n\tcompleted_at DATETIME, \n\tis_moderated BOOLEAN NOT NULL, \n\tmoderation_passed BOOLEAN, \n\tmoderation_reason TEXT, \n\thas_dj_intro BOOLEAN NOT NULL, \n\tdj_intro_path VARCHAR(500), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_radio_queue PRIMARY KEY (id), \n\tCONSTRAINT fk_radio_queue_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), \n\tCONSTRAINT fk_radio_queue_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)\n)\n\n', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07534AC0>, '\nCREATE TABLE radio_queue (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER, \n\ttelegram_user_id BIGINT, \n\ttelegram_message_id BIGINT, \n\tsong_id INTEGER, \n\toriginal_prompt TEXT NOT NULL, \n\tenhanced_prompt TEXT, \n\tgenre_hint VARCHAR(100), \n\tis_instrumental BOOLEAN NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tsuno_job_id VARCHAR(255), \n\terror_message TEXT, \n\tretry_count INTEGER NOT NULL, \n\tmax_retries INTEGER NOT NULL, \n\tbase_priority FLOAT NOT NULL, \n\tpriority_score FLOAT NOT NULL, \n\tis_priority_boost BOOLEAN NOT NULL, \n\tpriority_boost_reason VARCHAR(255), \n\tupvotes INTEGER NOT NULL, \n\tdownvotes INTEGER NOT NULL, \n\trequested_at DATETIME NOT NULL, \n\tqueued_at DATETIME, \n\tgeneration_started_at DATETIME, \n\tgeneration_completed_at DATETIME, \n\tbroadcast_started_at DATETIME, \n\tcompleted_at DATETIME, \n\tis_moderated BOOLEAN NOT NULL, \n\tmoderation_passed BOOLEAN, \n\tmoderation_reason TEXT, \n\thas_dj_intro BOOLEAN NOT NULL, \n\tdj_intro_path VARCHAR(500), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_radio_queue PRIMARY KEY (id), \n\tCONSTRAINT fk_radio_queue_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), \n\tCONSTRAINT fk_radio_queue_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)\n)\n\n', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07534AC0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07534AC0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_queue_status ON radio_queue (status)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00011s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07713DC0>, 'CREATE INDEX ix_radio_queue_status ON radio_queue (status)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07713DC0>, 'CREATE INDEX ix_radio_queue_status ON radio_queue (status)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07713DC0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07713DC0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_queue_priority_score ON radio_queue (priority_score)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00015s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077138C0>, 'CREATE INDEX ix_radio_queue_priority_score ON radio_queue (priority_score)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077138C0>, 'CREATE INDEX ix_radio_queue_priority_score ON radio_queue (priority_score)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077138C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077138C0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_queue_user_id ON radio_queue (user_id)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00029s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076871C0>, 'CREATE INDEX ix_radio_queue_user_id ON radio_queue (user_id)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076871C0>, 'CREATE INDEX ix_radio_queue_user_id ON radio_queue (user_id)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076871C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076871C0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_queue_song_id ON radio_queue (song_id)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00016s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07712C40>, 'CREATE INDEX ix_radio_queue_song_id ON radio_queue (song_id)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07712C40>, 'CREATE INDEX ix_radio_queue_song_id ON radio_queue (song_id)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07712C40>)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_queue_telegram_user_id ON radio_queue (telegram_user_id)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07712C40>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00016s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076841C0>, 'CREATE INDEX ix_radio_queue_telegram_user_id ON radio_queue (telegram_user_id)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076841C0>, 'CREATE INDEX ix_radio_queue_telegram_user_id ON radio_queue (telegram_user_id)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076841C0>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076841C0>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE votes (
	id INTEGER NOT NULL, 
	user_id INTEGER NOT NULL, 
	telegram_user_id BIGINT, 
	queue_item_id INTEGER NOT NULL, 
	vote_type VARCHAR(20) NOT NULL, 
	voted_at DATETIME NOT NULL, 
	previous_vote_type VARCHAR(20), 
	changed_at DATETIME, 
	source VARCHAR(50) NOT NULL, 
	telegram_callback_id VARCHAR(255), 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_votes PRIMARY KEY (id), 
	CONSTRAINT uq_votes_user_queue UNIQUE (user_id, queue_item_id), 
	CONSTRAINT fk_votes_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), 
	CONSTRAINT fk_votes_queue_item_id_radio_queue FOREIGN KEY(queue_item_id) REFERENCES radio_queue (id)
)


2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00013s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07514240>, '\nCREATE TABLE votes (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER NOT NULL, \n\ttelegram_user_id BIGINT, \n\tqueue_item_id INTEGER NOT NULL, \n\tvote_type VARCHAR(20) NOT NULL, \n\tvoted_at DATETIME NOT NULL, \n\tprevious_vote_type VARCHAR(20), \n\tchanged_at DATETIME, \n\tsource VARCHAR(50) NOT NULL, \n\ttelegram_callback_id VARCHAR(255), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_votes PRIMARY KEY (id), \n\tCONSTRAINT uq_votes_user_queue UNIQUE (user_id, queue_item_id), \n\tCONSTRAINT fk_votes_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), \n\tCONSTRAINT fk_votes_queue_item_id_radio_queue FOREIGN KEY(queue_item_id) REFERENCES radio_queue (id)\n)\n\n', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07514240>, '\nCREATE TABLE votes (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER NOT NULL, \n\ttelegram_user_id BIGINT, \n\tqueue_item_id INTEGER NOT NULL, \n\tvote_type VARCHAR(20) NOT NULL, \n\tvoted_at DATETIME NOT NULL, \n\tprevious_vote_type VARCHAR(20), \n\tchanged_at DATETIME, \n\tsource VARCHAR(50) NOT NULL, \n\ttelegram_callback_id VARCHAR(255), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_votes PRIMARY KEY (id), \n\tCONSTRAINT uq_votes_user_queue UNIQUE (user_id, queue_item_id), \n\tCONSTRAINT fk_votes_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), \n\tCONSTRAINT fk_votes_queue_item_id_radio_queue FOREIGN KEY(queue_item_id) REFERENCES radio_queue (id)\n)\n\n', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07514240>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07514240>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_votes_telegram_user_id ON votes (telegram_user_id)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00016s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07712840>, 'CREATE INDEX ix_votes_telegram_user_id ON votes (telegram_user_id)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07712840>, 'CREATE INDEX ix_votes_telegram_user_id ON votes (telegram_user_id)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07712840>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07712840>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_votes_user_id ON votes (user_id)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00010s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07713340>, 'CREATE INDEX ix_votes_user_id ON votes (user_id)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07713340>, 'CREATE INDEX ix_votes_user_id ON votes (user_id)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07713340>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07713340>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_votes_queue_item_id ON votes (queue_item_id)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00017s] ()
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076268C0>, 'CREATE INDEX ix_votes_queue_item_id ON votes (queue_item_id)', ())
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076268C0>, 'CREATE INDEX ix_votes_queue_item_id ON votes (queue_item_id)', ()) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076268C0>)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | COMMIT
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076268C0>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E062DBC40>) completed
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
DEBUG    aiosqlite:core.py:62 executing <function connect.<locals>.connector at 0x0000014E079FB380>
DEBUG    aiosqlite:core.py:67 operation <function connect.<locals>.connector at 0x0000014E079FB380> completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014E062DBC40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000014E079F8900>, deterministic=True)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014E062DBC40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000014E079F8900>, deterministic=True) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014E062DBC40>, 'floor', 1, <built-in function floor>, deterministic=True)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014E062DBC40>, 'floor', 1, <built-in function floor>, deterministic=True) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075736C0>, 'PRAGMA read_uncommitted', [])
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075736C0>, 'PRAGMA read_uncommitted', []) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E075736C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E075736C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075736C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075736C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E062DBC40>) completed
INFO     sqlalchemy.engine.Engine:base.py:2710 BEGIN (implicit)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("chat_messages")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076EC040>, 'PRAGMA main.table_info("chat_messages")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076EC040>, 'PRAGMA main.table_info("chat_messages")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076EC040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076EC040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076EC040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076EC040>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("chat_messages")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E4D40>, 'PRAGMA temp.table_info("chat_messages")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E4D40>, 'PRAGMA temp.table_info("chat_messages")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E077E4D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E077E4D40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E4D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E4D40>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("radio_history")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076EDC40>, 'PRAGMA main.table_info("radio_history")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076EDC40>, 'PRAGMA main.table_info("radio_history")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076EDC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076EDC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076EDC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076EDC40>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("radio_history")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0754BCC0>, 'PRAGMA temp.table_info("radio_history")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0754BCC0>, 'PRAGMA temp.table_info("radio_history")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E0754BCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E0754BCC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0754BCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0754BCC0>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("banned_words")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07730DC0>, 'PRAGMA main.table_info("banned_words")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07730DC0>, 'PRAGMA main.table_info("banned_words")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07730DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07730DC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07730DC0>)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07730DC0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("banned_words")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E6F40>, 'PRAGMA temp.table_info("banned_words")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E6F40>, 'PRAGMA temp.table_info("banned_words")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E077E6F40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E077E6F40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E6F40>)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E6F40>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("radio_queue")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E061C2DC0>, 'PRAGMA main.table_info("radio_queue")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E061C2DC0>, 'PRAGMA main.table_info("radio_queue")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E061C2DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E061C2DC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E061C2DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E061C2DC0>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("radio_queue")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07858040>, 'PRAGMA temp.table_info("radio_queue")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07858040>, 'PRAGMA temp.table_info("radio_queue")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07858040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07858040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07858040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07858040>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("songs")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E079C3540>, 'PRAGMA main.table_info("songs")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E079C3540>, 'PRAGMA main.table_info("songs")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E079C3540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E079C3540>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E079C3540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E079C3540>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("songs")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E079C2F40>, 'PRAGMA temp.table_info("songs")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E079C2F40>, 'PRAGMA temp.table_info("songs")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E079C2F40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E079C2F40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E079C2F40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E079C2F40>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("users")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06379440>, 'PRAGMA main.table_info("users")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06379440>, 'PRAGMA main.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E06379440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E06379440>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06379440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06379440>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("users")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06436C40>, 'PRAGMA temp.table_info("users")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06436C40>, 'PRAGMA temp.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E06436C40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E06436C40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06436C40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06436C40>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("votes")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06378E40>, 'PRAGMA main.table_info("votes")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06378E40>, 'PRAGMA main.table_info("votes")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E06378E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E06378E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06378E40>)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06378E40>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("votes")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06379FC0>, 'PRAGMA temp.table_info("votes")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06379FC0>, 'PRAGMA temp.table_info("votes")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E06379FC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E06379FC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06379FC0>)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06379FC0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE banned_words (
	id INTEGER NOT NULL, 
	word VARCHAR(100) NOT NULL, 
	category VARCHAR(50) NOT NULL, 
	reason TEXT, 
	is_active BOOLEAN NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_banned_words PRIMARY KEY (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00017s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B3E40>, '\nCREATE TABLE banned_words (\n\tid INTEGER NOT NULL, \n\tword VARCHAR(100) NOT NULL, \n\tcategory VARCHAR(50) NOT NULL, \n\treason TEXT, \n\tis_active BOOLEAN NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_banned_words PRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B3E40>, '\nCREATE TABLE banned_words (\n\tid INTEGER NOT NULL, \n\tword VARCHAR(100) NOT NULL, \n\tcategory VARCHAR(50) NOT NULL, \n\treason TEXT, \n\tis_active BOOLEAN NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_banned_words PRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B3E40>)
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE UNIQUE INDEX ix_banned_words_word ON banned_words (word)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B3E40>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00017s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E079C35C0>, 'CREATE UNIQUE INDEX ix_banned_words_word ON banned_words (word)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E079C35C0>, 'CREATE UNIQUE INDEX ix_banned_words_word ON banned_words (word)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E079C35C0>)
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE songs (
	id INTEGER NOT NULL, 
	suno_job_id VARCHAR(255), 
	suno_status VARCHAR(50) NOT NULL, 
	title VARCHAR(500), 
	artist VARCHAR(255) NOT NULL, 
	original_prompt TEXT, 
	enhanced_prompt TEXT, 
	style_prompt TEXT, 
	lyrics TEXT, 
	genre VARCHAR(100), 
	subgenre VARCHAR(100), 
	mood VARCHAR(100), 
	energy VARCHAR(50), 
	duration_seconds FLOAT, 
	bpm INTEGER, 
	"key" VARCHAR(10), 
	is_instrumental BOOLEAN NOT NULL, 
	audio_url VARCHAR(1000), 
	local_file_path VARCHAR(500), 
	file_size_bytes INTEGER, 
	audio_format VARCHAR(10) NOT NULL, 
	lufs_level FLOAT, 
	peak_db FLOAT, 
	is_normalized BOOLEAN NOT NULL, 
	generation_started_at DATETIME, 
	generation_completed_at DATETIME, 
	downloaded_at DATETIME, 
	play_count INTEGER NOT NULL, 
	total_upvotes INTEGER NOT NULL, 
	total_downvotes INTEGER NOT NULL, 
	is_approved BOOLEAN NOT NULL, 
	moderation_notes TEXT, 
	flagged_at DATETIME, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_songs PRIMARY KEY (id)
)


DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E079C35C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00024s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07773240>, '\nCREATE TABLE songs (\n\tid INTEGER NOT NULL, \n\tsuno_job_id VARCHAR(255), \n\tsuno_status VARCHAR(50) NOT NULL, \n\ttitle VARCHAR(500), \n\tartist VARCHAR(255) NOT NULL, \n\toriginal_prompt TEXT, \n\tenhanced_prompt TEXT, \n\tstyle_prompt TEXT, \n\tlyrics TEXT, \n\tgenre VARCHAR(100), \n\tsubgenre VARCHAR(100), \n\tmood VARCHAR(100), \n\tenergy VARCHAR(50), \n\tduration_seconds FLOAT, \n\tbpm INTEGER, \n\t"key" VARCHAR(10), \n\tis_instrumental BOOLEAN NOT NULL, \n\taudio_url VARCHAR(1000), \n\tlocal_file_path VARCHAR(500), \n\tfile_size_bytes INTEGER, \n\taudio_format VARCHAR(10) NOT NULL, \n\tlufs_level FLOAT, \n\tpeak_db FLOAT, \n\tis_normalized BOOLEAN NOT NULL, \n\tgeneration_started_at DATETIME, \n\tgeneration_completed_at DATETIME, \n\tdownloaded_at DATETIME, \n\tplay_count INTEGER NOT NULL, \n\ttotal_upvotes INTEGER NOT NULL, \n\ttotal_downvotes INTEGER NOT NULL, \n\tis_approved BOOLEAN NOT NULL, \n\tmoderation_notes TEXT, \n\tflagged_at DATETIME, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_songs PRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07773240>, '\nCREATE TABLE songs (\n\tid INTEGER NOT NULL, \n\tsuno_job_id VARCHAR(255), \n\tsuno_status VARCHAR(50) NOT NULL, \n\ttitle VARCHAR(500), \n\tartist VARCHAR(255) NOT NULL, \n\toriginal_prompt TEXT, \n\tenhanced_prompt TEXT, \n\tstyle_prompt TEXT, \n\tlyrics TEXT, \n\tgenre VARCHAR(100), \n\tsubgenre VARCHAR(100), \n\tmood VARCHAR(100), \n\tenergy VARCHAR(50), \n\tduration_seconds FLOAT, \n\tbpm INTEGER, \n\t"key" VARCHAR(10), \n\tis_instrumental BOOLEAN NOT NULL, \n\taudio_url VARCHAR(1000), \n\tlocal_file_path VARCHAR(500), \n\tfile_size_bytes INTEGER, \n\taudio_format VARCHAR(10) NOT NULL, \n\tlufs_level FLOAT, \n\tpeak_db FLOAT, \n\tis_normalized BOOLEAN NOT NULL, \n\tgeneration_started_at DATETIME, \n\tgeneration_completed_at DATETIME, \n\tdownloaded_at DATETIME, \n\tplay_count INTEGER NOT NULL, \n\ttotal_upvotes INTEGER NOT NULL, \n\ttotal_downvotes INTEGER NOT NULL, \n\tis_approved BOOLEAN NOT NULL, \n\tmoderation_notes TEXT, \n\tflagged_at DATETIME, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_songs PRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07773240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07773240>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE UNIQUE INDEX ix_songs_suno_job_id ON songs (suno_job_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00017s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07BAEE40>, 'CREATE UNIQUE INDEX ix_songs_suno_job_id ON songs (suno_job_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07BAEE40>, 'CREATE UNIQUE INDEX ix_songs_suno_job_id ON songs (suno_job_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07BAEE40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07BAEE40>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	email VARCHAR(255), 
	password_hash VARCHAR(255), 
	google_id VARCHAR(255), 
	telegram_id BIGINT, 
	telegram_username VARCHAR(255), 
	telegram_first_name VARCHAR(255), 
	telegram_last_name VARCHAR(255), 
	reputation_score FLOAT NOT NULL, 
	total_requests INTEGER NOT NULL, 
	successful_requests INTEGER NOT NULL, 
	failed_requests INTEGER NOT NULL, 
	total_upvotes_received INTEGER NOT NULL, 
	total_downvotes_received INTEGER NOT NULL, 
	total_upvotes_given INTEGER NOT NULL, 
	total_downvotes_given INTEGER NOT NULL, 
	is_banned BOOLEAN NOT NULL, 
	is_premium BOOLEAN NOT NULL, 
	ban_reason TEXT, 
	banned_at DATETIME, 
	banned_until DATETIME, 
	last_request_at DATETIME, 
	last_vote_at DATETIME, 
	last_active_at DATETIME, 
	avatar_url VARCHAR(500), 
	username_last_changed_at DATETIME, 
	password_reset_token VARCHAR(255), 
	password_reset_expires_at DATETIME, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_users PRIMARY KEY (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00022s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076EFD40>, '\nCREATE TABLE users (\n\tid INTEGER NOT NULL, \n\temail VARCHAR(255), \n\tpassword_hash VARCHAR(255), \n\tgoogle_id VARCHAR(255), \n\ttelegram_id BIGINT, \n\ttelegram_username VARCHAR(255), \n\ttelegram_first_name VARCHAR(255), \n\ttelegram_last_name VARCHAR(255), \n\treputation_score FLOAT NOT NULL, \n\ttotal_requests INTEGER NOT NULL, \n\tsuccessful_requests INTEGER NOT NULL, \n\tfailed_requests INTEGER NOT NULL, \n\ttotal_upvotes_received INTEGER NOT NULL, \n\ttotal_downvotes_received INTEGER NOT NULL, \n\ttotal_upvotes_given INTEGER NOT NULL, \n\ttotal_downvotes_given INTEGER NOT NULL, \n\tis_banned BOOLEAN NOT NULL, \n\tis_premium BOOLEAN NOT NULL, \n\tban_reason TEXT, \n\tbanned_at DATETIME, \n\tbanned_until DATETIME, \n\tlast_request_at DATETIME, \n\tlast_vote_at DATETIME, \n\tlast_active_at DATETIME, \n\tavatar_url VARCHAR(500), \n\tusername_last_changed_at DATETIME, \n\tpassword_reset_token VARCHAR(255), \n\tpassword_reset_expires_at DATETIME, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_users PRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076EFD40>, '\nCREATE TABLE users (\n\tid INTEGER NOT NULL, \n\temail VARCHAR(255), \n\tpassword_hash VARCHAR(255), \n\tgoogle_id VARCHAR(255), \n\ttelegram_id BIGINT, \n\ttelegram_username VARCHAR(255), \n\ttelegram_first_name VARCHAR(255), \n\ttelegram_last_name VARCHAR(255), \n\treputation_score FLOAT NOT NULL, \n\ttotal_requests INTEGER NOT NULL, \n\tsuccessful_requests INTEGER NOT NULL, \n\tfailed_requests INTEGER NOT NULL, \n\ttotal_upvotes_received INTEGER NOT NULL, \n\ttotal_downvotes_received INTEGER NOT NULL, \n\ttotal_upvotes_given INTEGER NOT NULL, \n\ttotal_downvotes_given INTEGER NOT NULL, \n\tis_banned BOOLEAN NOT NULL, \n\tis_premium BOOLEAN NOT NULL, \n\tban_reason TEXT, \n\tbanned_at DATETIME, \n\tbanned_until DATETIME, \n\tlast_request_at DATETIME, \n\tlast_vote_at DATETIME, \n\tlast_active_at DATETIME, \n\tavatar_url VARCHAR(500), \n\tusername_last_changed_at DATETIME, \n\tpassword_reset_token VARCHAR(255), \n\tpassword_reset_expires_at DATETIME, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_users PRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076EFD40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076EFD40>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE UNIQUE INDEX ix_users_google_id ON users (google_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00017s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07A52640>, 'CREATE UNIQUE INDEX ix_users_google_id ON users (google_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07A52640>, 'CREATE UNIQUE INDEX ix_users_google_id ON users (google_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07A52640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07A52640>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00015s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0637A6C0>, 'CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0637A6C0>, 'CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0637A6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0637A6C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE UNIQUE INDEX ix_users_email ON users (email)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00012s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0748BEC0>, 'CREATE UNIQUE INDEX ix_users_email ON users (email)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0748BEC0>, 'CREATE UNIQUE INDEX ix_users_email ON users (email)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0748BEC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0748BEC0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_users_password_reset_token ON users (password_reset_token)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00020s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076853C0>, 'CREATE INDEX ix_users_password_reset_token ON users (password_reset_token)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076853C0>, 'CREATE INDEX ix_users_password_reset_token ON users (password_reset_token)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076853C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076853C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE chat_messages (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	content TEXT NOT NULL, 
	message_type VARCHAR(20) NOT NULL, 
	is_deleted BOOLEAN NOT NULL, 
	deleted_by_id INTEGER, 
	deleted_at DATETIME, 
	delete_reason VARCHAR(255), 
	reply_to_id INTEGER, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_chat_messages PRIMARY KEY (id), 
	CONSTRAINT fk_chat_messages_user_id_users FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE SET NULL, 
	CONSTRAINT fk_chat_messages_reply_to_id_chat_messages FOREIGN KEY(reply_to_id) REFERENCES chat_messages (id) ON DELETE SET NULL
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00019s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07570640>, '\nCREATE TABLE chat_messages (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER, \n\tcontent TEXT NOT NULL, \n\tmessage_type VARCHAR(20) NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_by_id INTEGER, \n\tdeleted_at DATETIME, \n\tdelete_reason VARCHAR(255), \n\treply_to_id INTEGER, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_chat_messages PRIMARY KEY (id), \n\tCONSTRAINT fk_chat_messages_user_id_users FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE SET NULL, \n\tCONSTRAINT fk_chat_messages_reply_to_id_chat_messages FOREIGN KEY(reply_to_id) REFERENCES chat_messages (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07570640>, '\nCREATE TABLE chat_messages (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER, \n\tcontent TEXT NOT NULL, \n\tmessage_type VARCHAR(20) NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_by_id INTEGER, \n\tdeleted_at DATETIME, \n\tdelete_reason VARCHAR(255), \n\treply_to_id INTEGER, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_chat_messages PRIMARY KEY (id), \n\tCONSTRAINT fk_chat_messages_user_id_users FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE SET NULL, \n\tCONSTRAINT fk_chat_messages_reply_to_id_chat_messages FOREIGN KEY(reply_to_id) REFERENCES chat_messages (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07570640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07570640>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE radio_history (
	id INTEGER NOT NULL, 
	song_id INTEGER NOT NULL, 
	queue_id INTEGER, 
	played_at DATETIME NOT NULL, 
	ended_at DATETIME, 
	duration_played_seconds FLOAT, 
	broadcast_file_path VARCHAR(500), 
	stream_mount VARCHAR(100), 
	requester_telegram_id BIGINT, 
	requester_username VARCHAR(255), 
	song_title VARCHAR(500), 
	song_artist VARCHAR(255), 
	song_genre VARCHAR(100), 
	had_dj_intro BOOLEAN NOT NULL, 
	dj_intro_text TEXT, 
	listener_count INTEGER, 
	upvotes_during_play INTEGER NOT NULL, 
	downvotes_during_play INTEGER NOT NULL, 
	skips_requested INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_radio_history PRIMARY KEY (id), 
	CONSTRAINT fk_radio_history_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00011s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07770EC0>, '\nCREATE TABLE radio_history (\n\tid INTEGER NOT NULL, \n\tsong_id INTEGER NOT NULL, \n\tqueue_id INTEGER, \n\tplayed_at DATETIME NOT NULL, \n\tended_at DATETIME, \n\tduration_played_seconds FLOAT, \n\tbroadcast_file_path VARCHAR(500), \n\tstream_mount VARCHAR(100), \n\trequester_telegram_id BIGINT, \n\trequester_username VARCHAR(255), \n\tsong_title VARCHAR(500), \n\tsong_artist VARCHAR(255), \n\tsong_genre VARCHAR(100), \n\thad_dj_intro BOOLEAN NOT NULL, \n\tdj_intro_text TEXT, \n\tlistener_count INTEGER, \n\tupvotes_during_play INTEGER NOT NULL, \n\tdownvotes_during_play INTEGER NOT NULL, \n\tskips_requested INTEGER NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_radio_history PRIMARY KEY (id), \n\tCONSTRAINT fk_radio_history_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07770EC0>, '\nCREATE TABLE radio_history (\n\tid INTEGER NOT NULL, \n\tsong_id INTEGER NOT NULL, \n\tqueue_id INTEGER, \n\tplayed_at DATETIME NOT NULL, \n\tended_at DATETIME, \n\tduration_played_seconds FLOAT, \n\tbroadcast_file_path VARCHAR(500), \n\tstream_mount VARCHAR(100), \n\trequester_telegram_id BIGINT, \n\trequester_username VARCHAR(255), \n\tsong_title VARCHAR(500), \n\tsong_artist VARCHAR(255), \n\tsong_genre VARCHAR(100), \n\thad_dj_intro BOOLEAN NOT NULL, \n\tdj_intro_text TEXT, \n\tlistener_count INTEGER, \n\tupvotes_during_play INTEGER NOT NULL, \n\tdownvotes_during_play INTEGER NOT NULL, \n\tskips_requested INTEGER NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_radio_history PRIMARY KEY (id), \n\tCONSTRAINT fk_radio_history_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07770EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07770EC0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_history_played_at ON radio_history (played_at)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00020s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075366C0>, 'CREATE INDEX ix_radio_history_played_at ON radio_history (played_at)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075366C0>, 'CREATE INDEX ix_radio_history_played_at ON radio_history (played_at)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075366C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075366C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_history_song_id ON radio_history (song_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00011s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076873C0>, 'CREATE INDEX ix_radio_history_song_id ON radio_history (song_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076873C0>, 'CREATE INDEX ix_radio_history_song_id ON radio_history (song_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076873C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076873C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_history_queue_id ON radio_history (queue_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00010s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07534940>, 'CREATE INDEX ix_radio_history_queue_id ON radio_history (queue_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07534940>, 'CREATE INDEX ix_radio_history_queue_id ON radio_history (queue_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07534940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07534940>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE radio_queue (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	telegram_user_id BIGINT, 
	telegram_message_id BIGINT, 
	song_id INTEGER, 
	original_prompt TEXT NOT NULL, 
	enhanced_prompt TEXT, 
	genre_hint VARCHAR(100), 
	is_instrumental BOOLEAN NOT NULL, 
	status VARCHAR(50) NOT NULL, 
	suno_job_id VARCHAR(255), 
	error_message TEXT, 
	retry_count INTEGER NOT NULL, 
	max_retries INTEGER NOT NULL, 
	base_priority FLOAT NOT NULL, 
	priority_score FLOAT NOT NULL, 
	is_priority_boost BOOLEAN NOT NULL, 
	priority_boost_reason VARCHAR(255), 
	upvotes INTEGER NOT NULL, 
	downvotes INTEGER NOT NULL, 
	requested_at DATETIME NOT NULL, 
	queued_at DATETIME, 
	generation_started_at DATETIME, 
	generation_completed_at DATETIME, 
	broadcast_started_at DATETIME, 
	completed_at DATETIME, 
	is_moderated BOOLEAN NOT NULL, 
	moderation_passed BOOLEAN, 
	moderation_reason TEXT, 
	has_dj_intro BOOLEAN NOT NULL, 
	dj_intro_path VARCHAR(500), 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_radio_queue PRIMARY KEY (id), 
	CONSTRAINT fk_radio_queue_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), 
	CONSTRAINT fk_radio_queue_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00019s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07534AC0>, '\nCREATE TABLE radio_queue (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER, \n\ttelegram_user_id BIGINT, \n\ttelegram_message_id BIGINT, \n\tsong_id INTEGER, \n\toriginal_prompt TEXT NOT NULL, \n\tenhanced_prompt TEXT, \n\tgenre_hint VARCHAR(100), \n\tis_instrumental BOOLEAN NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tsuno_job_id VARCHAR(255), \n\terror_message TEXT, \n\tretry_count INTEGER NOT NULL, \n\tmax_retries INTEGER NOT NULL, \n\tbase_priority FLOAT NOT NULL, \n\tpriority_score FLOAT NOT NULL, \n\tis_priority_boost BOOLEAN NOT NULL, \n\tpriority_boost_reason VARCHAR(255), \n\tupvotes INTEGER NOT NULL, \n\tdownvotes INTEGER NOT NULL, \n\trequested_at DATETIME NOT NULL, \n\tqueued_at DATETIME, \n\tgeneration_started_at DATETIME, \n\tgeneration_completed_at DATETIME, \n\tbroadcast_started_at DATETIME, \n\tcompleted_at DATETIME, \n\tis_moderated BOOLEAN NOT NULL, \n\tmoderation_passed BOOLEAN, \n\tmoderation_reason TEXT, \n\thas_dj_intro BOOLEAN NOT NULL, \n\tdj_intro_path VARCHAR(500), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_radio_queue PRIMARY KEY (id), \n\tCONSTRAINT fk_radio_queue_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), \n\tCONSTRAINT fk_radio_queue_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07534AC0>, '\nCREATE TABLE radio_queue (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER, \n\ttelegram_user_id BIGINT, \n\ttelegram_message_id BIGINT, \n\tsong_id INTEGER, \n\toriginal_prompt TEXT NOT NULL, \n\tenhanced_prompt TEXT, \n\tgenre_hint VARCHAR(100), \n\tis_instrumental BOOLEAN NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tsuno_job_id VARCHAR(255), \n\terror_message TEXT, \n\tretry_count INTEGER NOT NULL, \n\tmax_retries INTEGER NOT NULL, \n\tbase_priority FLOAT NOT NULL, \n\tpriority_score FLOAT NOT NULL, \n\tis_priority_boost BOOLEAN NOT NULL, \n\tpriority_boost_reason VARCHAR(255), \n\tupvotes INTEGER NOT NULL, \n\tdownvotes INTEGER NOT NULL, \n\trequested_at DATETIME NOT NULL, \n\tqueued_at DATETIME, \n\tgeneration_started_at DATETIME, \n\tgeneration_completed_at DATETIME, \n\tbroadcast_started_at DATETIME, \n\tcompleted_at DATETIME, \n\tis_moderated BOOLEAN NOT NULL, \n\tmoderation_passed BOOLEAN, \n\tmoderation_reason TEXT, \n\thas_dj_intro BOOLEAN NOT NULL, \n\tdj_intro_path VARCHAR(500), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_radio_queue PRIMARY KEY (id), \n\tCONSTRAINT fk_radio_queue_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), \n\tCONSTRAINT fk_radio_queue_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07534AC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07534AC0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_queue_status ON radio_queue (status)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00011s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07713DC0>, 'CREATE INDEX ix_radio_queue_status ON radio_queue (status)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07713DC0>, 'CREATE INDEX ix_radio_queue_status ON radio_queue (status)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07713DC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07713DC0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_queue_priority_score ON radio_queue (priority_score)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00015s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077138C0>, 'CREATE INDEX ix_radio_queue_priority_score ON radio_queue (priority_score)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077138C0>, 'CREATE INDEX ix_radio_queue_priority_score ON radio_queue (priority_score)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077138C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077138C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_queue_user_id ON radio_queue (user_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00029s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076871C0>, 'CREATE INDEX ix_radio_queue_user_id ON radio_queue (user_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076871C0>, 'CREATE INDEX ix_radio_queue_user_id ON radio_queue (user_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076871C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076871C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_queue_song_id ON radio_queue (song_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00016s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07712C40>, 'CREATE INDEX ix_radio_queue_song_id ON radio_queue (song_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07712C40>, 'CREATE INDEX ix_radio_queue_song_id ON radio_queue (song_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07712C40>)
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_queue_telegram_user_id ON radio_queue (telegram_user_id)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07712C40>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00016s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076841C0>, 'CREATE INDEX ix_radio_queue_telegram_user_id ON radio_queue (telegram_user_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076841C0>, 'CREATE INDEX ix_radio_queue_telegram_user_id ON radio_queue (telegram_user_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076841C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076841C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE votes (
	id INTEGER NOT NULL, 
	user_id INTEGER NOT NULL, 
	telegram_user_id BIGINT, 
	queue_item_id INTEGER NOT NULL, 
	vote_type VARCHAR(20) NOT NULL, 
	voted_at DATETIME NOT NULL, 
	previous_vote_type VARCHAR(20), 
	changed_at DATETIME, 
	source VARCHAR(50) NOT NULL, 
	telegram_callback_id VARCHAR(255), 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_votes PRIMARY KEY (id), 
	CONSTRAINT uq_votes_user_queue UNIQUE (user_id, queue_item_id), 
	CONSTRAINT fk_votes_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), 
	CONSTRAINT fk_votes_queue_item_id_radio_queue FOREIGN KEY(queue_item_id) REFERENCES radio_queue (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00013s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07514240>, '\nCREATE TABLE votes (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER NOT NULL, \n\ttelegram_user_id BIGINT, \n\tqueue_item_id INTEGER NOT NULL, \n\tvote_type VARCHAR(20) NOT NULL, \n\tvoted_at DATETIME NOT NULL, \n\tprevious_vote_type VARCHAR(20), \n\tchanged_at DATETIME, \n\tsource VARCHAR(50) NOT NULL, \n\ttelegram_callback_id VARCHAR(255), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_votes PRIMARY KEY (id), \n\tCONSTRAINT uq_votes_user_queue UNIQUE (user_id, queue_item_id), \n\tCONSTRAINT fk_votes_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), \n\tCONSTRAINT fk_votes_queue_item_id_radio_queue FOREIGN KEY(queue_item_id) REFERENCES radio_queue (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07514240>, '\nCREATE TABLE votes (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER NOT NULL, \n\ttelegram_user_id BIGINT, \n\tqueue_item_id INTEGER NOT NULL, \n\tvote_type VARCHAR(20) NOT NULL, \n\tvoted_at DATETIME NOT NULL, \n\tprevious_vote_type VARCHAR(20), \n\tchanged_at DATETIME, \n\tsource VARCHAR(50) NOT NULL, \n\ttelegram_callback_id VARCHAR(255), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_votes PRIMARY KEY (id), \n\tCONSTRAINT uq_votes_user_queue UNIQUE (user_id, queue_item_id), \n\tCONSTRAINT fk_votes_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), \n\tCONSTRAINT fk_votes_queue_item_id_radio_queue FOREIGN KEY(queue_item_id) REFERENCES radio_queue (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07514240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07514240>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_votes_telegram_user_id ON votes (telegram_user_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00016s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07712840>, 'CREATE INDEX ix_votes_telegram_user_id ON votes (telegram_user_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07712840>, 'CREATE INDEX ix_votes_telegram_user_id ON votes (telegram_user_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07712840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07712840>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_votes_user_id ON votes (user_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00010s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07713340>, 'CREATE INDEX ix_votes_user_id ON votes (user_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07713340>, 'CREATE INDEX ix_votes_user_id ON votes (user_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07713340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07713340>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_votes_queue_item_id ON votes (queue_item_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00017s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076268C0>, 'CREATE INDEX ix_votes_queue_item_id ON votes (queue_item_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076268C0>, 'CREATE INDEX ix_votes_queue_item_id ON votes (queue_item_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076268C0>)
INFO     sqlalchemy.engine.Engine:base.py:2716 COMMIT
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076268C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E062DBC40>) completed
---------------------------- Captured stdout call -----------------------------
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | BEGIN (implicit)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | INSERT INTO songs (suno_job_id, suno_status, title, artist, original_prompt, enhanced_prompt, style_prompt, lyrics, genre, subgenre, mood, energy, duration_seconds, bpm, "key", is_instrumental, audio_url, local_file_path, file_size_bytes, audio_format, lufs_level, peak_db, is_normalized, generation_started_at, generation_completed_at, downloaded_at, play_count, total_upvotes, total_downvotes, is_approved, moderation_notes, flagged_at, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [generated in 0.00035s] (None, 'pending', 'Song A', 'AI Radio', None, None, None, None, None, None, None, None, 100.0, None, None, 0, None, None, None, 'mp3', None, None, 0, None, None, None, 0, 0, 0, 1, None, None, '2026-01-04 08:58:54.989554', '2026-01-04 08:58:54.989554')
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07A51C40>, 'INSERT INTO songs (suno_job_id, suno_status, title, artist, original_prompt, enhanced_prompt, style_prompt, lyrics, genre, subgenre, mood, energy, duration_seconds, bpm, "key", is_instrumental, audio_url, local_file_path, file_size_bytes, audio_format, lufs_level, peak_db, is_normalized, generation_started_at, generation_completed_at, downloaded_at, play_count, total_upvotes, total_downvotes, is_approved, moderation_notes, flagged_at, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, 'pending', 'Song A', 'AI Radio', None, None, None, None, None, None, None, None, 100.0, None, None, 0, None, None, None, 'mp3', None, None, 0, None, None, None, 0, 0, 0, 1, None, None, '2026-01-04 08:58:54.989554', '2026-01-04 08:58:54.989554'))
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07A51C40>, 'INSERT INTO songs (suno_job_id, suno_status, title, artist, original_prompt, enhanced_prompt, style_prompt, lyrics, genre, subgenre, mood, energy, duration_seconds, bpm, "key", is_instrumental, audio_url, local_file_path, file_size_bytes, audio_format, lufs_level, peak_db, is_normalized, generation_started_at, generation_completed_at, downloaded_at, play_count, total_upvotes, total_downvotes, is_approved, moderation_notes, flagged_at, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, 'pending', 'Song A', 'AI Radio', None, None, None, None, None, None, None, None, 100.0, None, None, 0, None, None, None, 'mp3', None, None, 0, None, None, None, 0, 0, 0, 1, None, None, '2026-01-04 08:58:54.989554', '2026-01-04 08:58:54.989554')) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07A51C40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07A51C40>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | INSERT INTO radio_queue (user_id, telegram_user_id, telegram_message_id, song_id, original_prompt, enhanced_prompt, genre_hint, is_instrumental, status, suno_job_id, error_message, retry_count, max_retries, base_priority, priority_score, is_priority_boost, priority_boost_reason, upvotes, downvotes, requested_at, queued_at, generation_started_at, generation_completed_at, broadcast_started_at, completed_at, is_moderated, moderation_passed, moderation_reason, has_dj_intro, dj_intro_path, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [generated in 0.00045s] (None, None, None, 1, 'prompt A', None, None, 0, 'broadcasting', None, None, 0, 3, 100.0, 100.0, 0, None, 0, 0, '2026-01-04 08:58:54.994573', None, None, None, '2026-01-04 08:56:54.992487', None, 0, None, None, 0, None, '2026-01-04 08:58:54.994573', '2026-01-04 08:58:54.994573')
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06436940>, 'INSERT INTO radio_queue (user_id, telegram_user_id, telegram_message_id, song_id, original_prompt, enhanced_prompt, genre_hint, is_instrumental, status, suno_job_id, error_message, retry_count, max_retries, base_priority, priority_score, is_priority_boost, priority_boost_reason, upvotes, downvotes, requested_at, queued_at, generation_started_at, generation_completed_at, broadcast_started_at, completed_at, is_moderated, moderation_passed, moderation_reason, has_dj_intro, dj_intro_path, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, 1, 'prompt A', None, None, 0, 'broadcasting', None, None, 0, 3, 100.0, 100.0, 0, None, 0, 0, '2026-01-04 08:58:54.994573', None, None, None, '2026-01-04 08:56:54.992487', None, 0, None, None, 0, None, '2026-01-04 08:58:54.994573', '2026-01-04 08:58:54.994573'))
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06436940>, 'INSERT INTO radio_queue (user_id, telegram_user_id, telegram_message_id, song_id, original_prompt, enhanced_prompt, genre_hint, is_instrumental, status, suno_job_id, error_message, retry_count, max_retries, base_priority, priority_score, is_priority_boost, priority_boost_reason, upvotes, downvotes, requested_at, queued_at, generation_started_at, generation_completed_at, broadcast_started_at, completed_at, is_moderated, moderation_passed, moderation_reason, has_dj_intro, dj_intro_path, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, 1, 'prompt A', None, None, 0, 'broadcasting', None, None, 0, 3, 100.0, 100.0, 0, None, 0, 0, '2026-01-04 08:58:54.994573', None, None, None, '2026-01-04 08:56:54.992487', None, 0, None, None, 0, None, '2026-01-04 08:58:54.994573', '2026-01-04 08:58:54.994573')) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06436940>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06436940>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | INSERT INTO songs (suno_job_id, suno_status, title, artist, original_prompt, enhanced_prompt, style_prompt, lyrics, genre, subgenre, mood, energy, duration_seconds, bpm, "key", is_instrumental, audio_url, local_file_path, file_size_bytes, audio_format, lufs_level, peak_db, is_normalized, generation_started_at, generation_completed_at, downloaded_at, play_count, total_upvotes, total_downvotes, is_approved, moderation_notes, flagged_at, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [cached since 0.007887s ago] (None, 'pending', 'Song B', 'AI Radio', None, None, None, None, None, None, None, None, None, None, None, 0, None, None, None, 'mp3', None, None, 0, None, None, None, 0, 0, 0, 1, None, None, '2026-01-04 08:58:54.997062', '2026-01-04 08:58:54.997062')
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B4D740>, 'INSERT INTO songs (suno_job_id, suno_status, title, artist, original_prompt, enhanced_prompt, style_prompt, lyrics, genre, subgenre, mood, energy, duration_seconds, bpm, "key", is_instrumental, audio_url, local_file_path, file_size_bytes, audio_format, lufs_level, peak_db, is_normalized, generation_started_at, generation_completed_at, downloaded_at, play_count, total_upvotes, total_downvotes, is_approved, moderation_notes, flagged_at, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, 'pending', 'Song B', 'AI Radio', None, None, None, None, None, None, None, None, None, None, None, 0, None, None, None, 'mp3', None, None, 0, None, None, None, 0, 0, 0, 1, None, None, '2026-01-04 08:58:54.997062', '2026-01-04 08:58:54.997062'))
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B4D740>, 'INSERT INTO songs (suno_job_id, suno_status, title, artist, original_prompt, enhanced_prompt, style_prompt, lyrics, genre, subgenre, mood, energy, duration_seconds, bpm, "key", is_instrumental, audio_url, local_file_path, file_size_bytes, audio_format, lufs_level, peak_db, is_normalized, generation_started_at, generation_completed_at, downloaded_at, play_count, total_upvotes, total_downvotes, is_approved, moderation_notes, flagged_at, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, 'pending', 'Song B', 'AI Radio', None, None, None, None, None, None, None, None, None, None, None, 0, None, None, None, 'mp3', None, None, 0, None, None, None, 0, 0, 0, 1, None, None, '2026-01-04 08:58:54.997062', '2026-01-04 08:58:54.997062')) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B4D740>)
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | INSERT INTO radio_history (song_id, queue_id, played_at, ended_at, duration_played_seconds, broadcast_file_path, stream_mount, requester_telegram_id, requester_username, song_title, song_artist, song_genre, had_dj_intro, dj_intro_text, listener_count, upvotes_during_play, downvotes_during_play, skips_requested, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B4D740>) completed
2026-01-04 08:58:54 | [32mINFO[0m | sqlalchemy.engine.Engine | [generated in 0.00025s] (1, 1, '2026-01-04 08:56:54.996659', None, None, None, None, None, None, None, None, None, 0, None, None, 0, 0, 0, '2026-01-04 08:58:54.999176', '2026-01-04 08:58:54.999176')
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:54 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07826440>, 'INSERT INTO radio_history (song_id, queue_id, played_at, ended_at, duration_played_seconds, broadcast_file_path, stream_mount, requester_telegram_id, requester_username, song_title, song_artist, song_genre, had_dj_intro, dj_intro_text, listener_count, upvotes_during_play, downvotes_during_play, skips_requested, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (1, 1, '2026-01-04 08:56:54.996659', None, None, None, None, None, None, None, None, None, 0, None, None, 0, 0, 0, '2026-01-04 08:58:54.999176', '2026-01-04 08:58:54.999176'))
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07826440>, 'INSERT INTO radio_history (song_id, queue_id, played_at, ended_at, duration_played_seconds, broadcast_file_path, stream_mount, requester_telegram_id, requester_username, song_title, song_artist, song_genre, had_dj_intro, dj_intro_text, listener_count, upvotes_during_play, downvotes_during_play, skips_requested, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (1, 1, '2026-01-04 08:56:54.996659', None, None, None, None, None, None, None, None, None, 0, None, None, 0, 0, 0, '2026-01-04 08:58:54.999176', '2026-01-04 08:58:54.999176')) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07826440>)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | INSERT INTO radio_queue (user_id, telegram_user_id, telegram_message_id, song_id, original_prompt, enhanced_prompt, genre_hint, is_instrumental, status, suno_job_id, error_message, retry_count, max_retries, base_priority, priority_score, is_priority_boost, priority_boost_reason, upvotes, downvotes, requested_at, queued_at, generation_started_at, generation_completed_at, broadcast_started_at, completed_at, is_moderated, moderation_passed, moderation_reason, has_dj_intro, dj_intro_path, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07826440>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [cached since 0.006793s ago] (None, None, None, 2, 'prompt B', None, None, 0, 'generated', None, None, 0, 3, 100.0, 100.0, 0, None, 0, 0, '2026-01-04 08:58:55.000731', None, None, None, None, None, 0, None, None, 0, None, '2026-01-04 08:58:55.000731', '2026-01-04 08:58:55.000731')
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B4CBC0>, 'INSERT INTO radio_queue (user_id, telegram_user_id, telegram_message_id, song_id, original_prompt, enhanced_prompt, genre_hint, is_instrumental, status, suno_job_id, error_message, retry_count, max_retries, base_priority, priority_score, is_priority_boost, priority_boost_reason, upvotes, downvotes, requested_at, queued_at, generation_started_at, generation_completed_at, broadcast_started_at, completed_at, is_moderated, moderation_passed, moderation_reason, has_dj_intro, dj_intro_path, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, 2, 'prompt B', None, None, 0, 'generated', None, None, 0, 3, 100.0, 100.0, 0, None, 0, 0, '2026-01-04 08:58:55.000731', None, None, None, None, None, 0, None, None, 0, None, '2026-01-04 08:58:55.000731', '2026-01-04 08:58:55.000731'))
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B4CBC0>, 'INSERT INTO radio_queue (user_id, telegram_user_id, telegram_message_id, song_id, original_prompt, enhanced_prompt, genre_hint, is_instrumental, status, suno_job_id, error_message, retry_count, max_retries, base_priority, priority_score, is_priority_boost, priority_boost_reason, upvotes, downvotes, requested_at, queued_at, generation_started_at, generation_completed_at, broadcast_started_at, completed_at, is_moderated, moderation_passed, moderation_reason, has_dj_intro, dj_intro_path, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, 2, 'prompt B', None, None, 0, 'generated', None, None, 0, 3, 100.0, 100.0, 0, None, 0, 0, '2026-01-04 08:58:55.000731', None, None, None, None, None, 0, None, None, 0, None, '2026-01-04 08:58:55.000731', '2026-01-04 08:58:55.000731')) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B4CBC0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B4CBC0>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | COMMIT
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E062DBC40>) completed
------------------------------ Captured log call ------------------------------
INFO     sqlalchemy.engine.Engine:base.py:2710 BEGIN (implicit)
INFO     sqlalchemy.engine.Engine:base.py:1846 INSERT INTO songs (suno_job_id, suno_status, title, artist, original_prompt, enhanced_prompt, style_prompt, lyrics, genre, subgenre, mood, energy, duration_seconds, bpm, "key", is_instrumental, audio_url, local_file_path, file_size_bytes, audio_format, lufs_level, peak_db, is_normalized, generation_started_at, generation_completed_at, downloaded_at, play_count, total_upvotes, total_downvotes, is_approved, moderation_notes, flagged_at, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
INFO     sqlalchemy.engine.Engine:base.py:1846 [generated in 0.00035s] (None, 'pending', 'Song A', 'AI Radio', None, None, None, None, None, None, None, None, 100.0, None, None, 0, None, None, None, 'mp3', None, None, 0, None, None, None, 0, 0, 0, 1, None, None, '2026-01-04 08:58:54.989554', '2026-01-04 08:58:54.989554')
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07A51C40>, 'INSERT INTO songs (suno_job_id, suno_status, title, artist, original_prompt, enhanced_prompt, style_prompt, lyrics, genre, subgenre, mood, energy, duration_seconds, bpm, "key", is_instrumental, audio_url, local_file_path, file_size_bytes, audio_format, lufs_level, peak_db, is_normalized, generation_started_at, generation_completed_at, downloaded_at, play_count, total_upvotes, total_downvotes, is_approved, moderation_notes, flagged_at, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, 'pending', 'Song A', 'AI Radio', None, None, None, None, None, None, None, None, 100.0, None, None, 0, None, None, None, 'mp3', None, None, 0, None, None, None, 0, 0, 0, 1, None, None, '2026-01-04 08:58:54.989554', '2026-01-04 08:58:54.989554'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07A51C40>, 'INSERT INTO songs (suno_job_id, suno_status, title, artist, original_prompt, enhanced_prompt, style_prompt, lyrics, genre, subgenre, mood, energy, duration_seconds, bpm, "key", is_instrumental, audio_url, local_file_path, file_size_bytes, audio_format, lufs_level, peak_db, is_normalized, generation_started_at, generation_completed_at, downloaded_at, play_count, total_upvotes, total_downvotes, is_approved, moderation_notes, flagged_at, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, 'pending', 'Song A', 'AI Radio', None, None, None, None, None, None, None, None, 100.0, None, None, 0, None, None, None, 'mp3', None, None, 0, None, None, None, 0, 0, 0, 1, None, None, '2026-01-04 08:58:54.989554', '2026-01-04 08:58:54.989554')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07A51C40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07A51C40>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 INSERT INTO radio_queue (user_id, telegram_user_id, telegram_message_id, song_id, original_prompt, enhanced_prompt, genre_hint, is_instrumental, status, suno_job_id, error_message, retry_count, max_retries, base_priority, priority_score, is_priority_boost, priority_boost_reason, upvotes, downvotes, requested_at, queued_at, generation_started_at, generation_completed_at, broadcast_started_at, completed_at, is_moderated, moderation_passed, moderation_reason, has_dj_intro, dj_intro_path, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
INFO     sqlalchemy.engine.Engine:base.py:1846 [generated in 0.00045s] (None, None, None, 1, 'prompt A', None, None, 0, 'broadcasting', None, None, 0, 3, 100.0, 100.0, 0, None, 0, 0, '2026-01-04 08:58:54.994573', None, None, None, '2026-01-04 08:56:54.992487', None, 0, None, None, 0, None, '2026-01-04 08:58:54.994573', '2026-01-04 08:58:54.994573')
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06436940>, 'INSERT INTO radio_queue (user_id, telegram_user_id, telegram_message_id, song_id, original_prompt, enhanced_prompt, genre_hint, is_instrumental, status, suno_job_id, error_message, retry_count, max_retries, base_priority, priority_score, is_priority_boost, priority_boost_reason, upvotes, downvotes, requested_at, queued_at, generation_started_at, generation_completed_at, broadcast_started_at, completed_at, is_moderated, moderation_passed, moderation_reason, has_dj_intro, dj_intro_path, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, 1, 'prompt A', None, None, 0, 'broadcasting', None, None, 0, 3, 100.0, 100.0, 0, None, 0, 0, '2026-01-04 08:58:54.994573', None, None, None, '2026-01-04 08:56:54.992487', None, 0, None, None, 0, None, '2026-01-04 08:58:54.994573', '2026-01-04 08:58:54.994573'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06436940>, 'INSERT INTO radio_queue (user_id, telegram_user_id, telegram_message_id, song_id, original_prompt, enhanced_prompt, genre_hint, is_instrumental, status, suno_job_id, error_message, retry_count, max_retries, base_priority, priority_score, is_priority_boost, priority_boost_reason, upvotes, downvotes, requested_at, queued_at, generation_started_at, generation_completed_at, broadcast_started_at, completed_at, is_moderated, moderation_passed, moderation_reason, has_dj_intro, dj_intro_path, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, 1, 'prompt A', None, None, 0, 'broadcasting', None, None, 0, 3, 100.0, 100.0, 0, None, 0, 0, '2026-01-04 08:58:54.994573', None, None, None, '2026-01-04 08:56:54.992487', None, 0, None, None, 0, None, '2026-01-04 08:58:54.994573', '2026-01-04 08:58:54.994573')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06436940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06436940>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 INSERT INTO songs (suno_job_id, suno_status, title, artist, original_prompt, enhanced_prompt, style_prompt, lyrics, genre, subgenre, mood, energy, duration_seconds, bpm, "key", is_instrumental, audio_url, local_file_path, file_size_bytes, audio_format, lufs_level, peak_db, is_normalized, generation_started_at, generation_completed_at, downloaded_at, play_count, total_upvotes, total_downvotes, is_approved, moderation_notes, flagged_at, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.007887s ago] (None, 'pending', 'Song B', 'AI Radio', None, None, None, None, None, None, None, None, None, None, None, 0, None, None, None, 'mp3', None, None, 0, None, None, None, 0, 0, 0, 1, None, None, '2026-01-04 08:58:54.997062', '2026-01-04 08:58:54.997062')
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B4D740>, 'INSERT INTO songs (suno_job_id, suno_status, title, artist, original_prompt, enhanced_prompt, style_prompt, lyrics, genre, subgenre, mood, energy, duration_seconds, bpm, "key", is_instrumental, audio_url, local_file_path, file_size_bytes, audio_format, lufs_level, peak_db, is_normalized, generation_started_at, generation_completed_at, downloaded_at, play_count, total_upvotes, total_downvotes, is_approved, moderation_notes, flagged_at, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, 'pending', 'Song B', 'AI Radio', None, None, None, None, None, None, None, None, None, None, None, 0, None, None, None, 'mp3', None, None, 0, None, None, None, 0, 0, 0, 1, None, None, '2026-01-04 08:58:54.997062', '2026-01-04 08:58:54.997062'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B4D740>, 'INSERT INTO songs (suno_job_id, suno_status, title, artist, original_prompt, enhanced_prompt, style_prompt, lyrics, genre, subgenre, mood, energy, duration_seconds, bpm, "key", is_instrumental, audio_url, local_file_path, file_size_bytes, audio_format, lufs_level, peak_db, is_normalized, generation_started_at, generation_completed_at, downloaded_at, play_count, total_upvotes, total_downvotes, is_approved, moderation_notes, flagged_at, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, 'pending', 'Song B', 'AI Radio', None, None, None, None, None, None, None, None, None, None, None, 0, None, None, None, 'mp3', None, None, 0, None, None, None, 0, 0, 0, 1, None, None, '2026-01-04 08:58:54.997062', '2026-01-04 08:58:54.997062')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B4D740>)
INFO     sqlalchemy.engine.Engine:base.py:1846 INSERT INTO radio_history (song_id, queue_id, played_at, ended_at, duration_played_seconds, broadcast_file_path, stream_mount, requester_telegram_id, requester_username, song_title, song_artist, song_genre, had_dj_intro, dj_intro_text, listener_count, upvotes_during_play, downvotes_during_play, skips_requested, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B4D740>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 [generated in 0.00025s] (1, 1, '2026-01-04 08:56:54.996659', None, None, None, None, None, None, None, None, None, 0, None, None, 0, 0, 0, '2026-01-04 08:58:54.999176', '2026-01-04 08:58:54.999176')
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07826440>, 'INSERT INTO radio_history (song_id, queue_id, played_at, ended_at, duration_played_seconds, broadcast_file_path, stream_mount, requester_telegram_id, requester_username, song_title, song_artist, song_genre, had_dj_intro, dj_intro_text, listener_count, upvotes_during_play, downvotes_during_play, skips_requested, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (1, 1, '2026-01-04 08:56:54.996659', None, None, None, None, None, None, None, None, None, 0, None, None, 0, 0, 0, '2026-01-04 08:58:54.999176', '2026-01-04 08:58:54.999176'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07826440>, 'INSERT INTO radio_history (song_id, queue_id, played_at, ended_at, duration_played_seconds, broadcast_file_path, stream_mount, requester_telegram_id, requester_username, song_title, song_artist, song_genre, had_dj_intro, dj_intro_text, listener_count, upvotes_during_play, downvotes_during_play, skips_requested, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (1, 1, '2026-01-04 08:56:54.996659', None, None, None, None, None, None, None, None, None, 0, None, None, 0, 0, 0, '2026-01-04 08:58:54.999176', '2026-01-04 08:58:54.999176')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07826440>)
INFO     sqlalchemy.engine.Engine:base.py:1846 INSERT INTO radio_queue (user_id, telegram_user_id, telegram_message_id, song_id, original_prompt, enhanced_prompt, genre_hint, is_instrumental, status, suno_job_id, error_message, retry_count, max_retries, base_priority, priority_score, is_priority_boost, priority_boost_reason, upvotes, downvotes, requested_at, queued_at, generation_started_at, generation_completed_at, broadcast_started_at, completed_at, is_moderated, moderation_passed, moderation_reason, has_dj_intro, dj_intro_path, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07826440>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 [cached since 0.006793s ago] (None, None, None, 2, 'prompt B', None, None, 0, 'generated', None, None, 0, 3, 100.0, 100.0, 0, None, 0, 0, '2026-01-04 08:58:55.000731', None, None, None, None, None, 0, None, None, 0, None, '2026-01-04 08:58:55.000731', '2026-01-04 08:58:55.000731')
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B4CBC0>, 'INSERT INTO radio_queue (user_id, telegram_user_id, telegram_message_id, song_id, original_prompt, enhanced_prompt, genre_hint, is_instrumental, status, suno_job_id, error_message, retry_count, max_retries, base_priority, priority_score, is_priority_boost, priority_boost_reason, upvotes, downvotes, requested_at, queued_at, generation_started_at, generation_completed_at, broadcast_started_at, completed_at, is_moderated, moderation_passed, moderation_reason, has_dj_intro, dj_intro_path, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, 2, 'prompt B', None, None, 0, 'generated', None, None, 0, 3, 100.0, 100.0, 0, None, 0, 0, '2026-01-04 08:58:55.000731', None, None, None, None, None, 0, None, None, 0, None, '2026-01-04 08:58:55.000731', '2026-01-04 08:58:55.000731'))
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B4CBC0>, 'INSERT INTO radio_queue (user_id, telegram_user_id, telegram_message_id, song_id, original_prompt, enhanced_prompt, genre_hint, is_instrumental, status, suno_job_id, error_message, retry_count, max_retries, base_priority, priority_score, is_priority_boost, priority_boost_reason, upvotes, downvotes, requested_at, queued_at, generation_started_at, generation_completed_at, broadcast_started_at, completed_at, is_moderated, moderation_passed, moderation_reason, has_dj_intro, dj_intro_path, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', (None, None, None, 2, 'prompt B', None, None, 0, 'generated', None, None, 0, 3, 100.0, 100.0, 0, None, 0, 0, '2026-01-04 08:58:55.000731', None, None, None, None, None, 0, None, None, 0, None, '2026-01-04 08:58:55.000731', '2026-01-04 08:58:55.000731')) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B4CBC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B4CBC0>) completed
INFO     sqlalchemy.engine.Engine:base.py:2716 COMMIT
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E062DBC40>) completed
-------------------------- Captured stdout teardown ---------------------------
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | BEGIN (implicit)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("chat_messages")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076EC840>, 'PRAGMA main.table_info("chat_messages")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076EC840>, 'PRAGMA main.table_info("chat_messages")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076EC840>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076EC840>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076EC840>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076EC840>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'user_id', 'INTEGER', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'content', 'TEXT', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'message_type', 'VARCHAR(20)', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'is_deleted', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'deleted_by_id', 'INTEGER', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'deleted_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (7, 'delete_reason', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (8, 'reply_to_id', 'INTEGER', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (9, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (10, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("radio_history")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B7D740>, 'PRAGMA main.table_info("radio_history")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B7D740>, 'PRAGMA main.table_info("radio_history")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07B7D740>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07B7D740>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B7D740>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B7D740>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'song_id', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'queue_id', 'INTEGER', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'played_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'ended_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'duration_played_seconds', 'FLOAT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'broadcast_file_path', 'VARCHAR(500)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (7, 'stream_mount', 'VARCHAR(100)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (8, 'requester_telegram_id', 'BIGINT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (9, 'requester_username', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (10, 'song_title', 'VARCHAR(500)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (11, 'song_artist', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (12, 'song_genre', 'VARCHAR(100)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (13, 'had_dj_intro', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (14, 'dj_intro_text', 'TEXT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (15, 'listener_count', 'INTEGER', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (16, 'upvotes_during_play', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (17, 'downvotes_during_play', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (18, 'skips_requested', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (19, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (20, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("banned_words")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B4FA40>, 'PRAGMA main.table_info("banned_words")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B4FA40>, 'PRAGMA main.table_info("banned_words")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07B4FA40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07B4FA40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B4FA40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B4FA40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'word', 'VARCHAR(100)', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'category', 'VARCHAR(50)', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'reason', 'TEXT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'is_active', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("radio_queue")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B7DF40>, 'PRAGMA main.table_info("radio_queue")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B7DF40>, 'PRAGMA main.table_info("radio_queue")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07B7DF40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07B7DF40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B7DF40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B7DF40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'user_id', 'INTEGER', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'telegram_user_id', 'BIGINT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'telegram_message_id', 'BIGINT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'song_id', 'INTEGER', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'original_prompt', 'TEXT', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'enhanced_prompt', 'TEXT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (7, 'genre_hint', 'VARCHAR(100)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (8, 'is_instrumental', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (9, 'status', 'VARCHAR(50)', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (10, 'suno_job_id', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (11, 'error_message', 'TEXT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (12, 'retry_count', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (13, 'max_retries', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (14, 'base_priority', 'FLOAT', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (15, 'priority_score', 'FLOAT', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (16, 'is_priority_boost', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (17, 'priority_boost_reason', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (18, 'upvotes', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (19, 'downvotes', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (20, 'requested_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (21, 'queued_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (22, 'generation_started_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (23, 'generation_completed_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (24, 'broadcast_started_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (25, 'completed_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (26, 'is_moderated', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (27, 'moderation_passed', 'BOOLEAN', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (28, 'moderation_reason', 'TEXT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (29, 'has_dj_intro', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (30, 'dj_intro_path', 'VARCHAR(500)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (31, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (32, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("songs")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07773CC0>, 'PRAGMA main.table_info("songs")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07773CC0>, 'PRAGMA main.table_info("songs")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07773CC0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07773CC0>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07773CC0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07773CC0>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'suno_job_id', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'suno_status', 'VARCHAR(50)', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'title', 'VARCHAR(500)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'artist', 'VARCHAR(255)', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'original_prompt', 'TEXT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'enhanced_prompt', 'TEXT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (7, 'style_prompt', 'TEXT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (8, 'lyrics', 'TEXT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (9, 'genre', 'VARCHAR(100)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (10, 'subgenre', 'VARCHAR(100)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (11, 'mood', 'VARCHAR(100)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (12, 'energy', 'VARCHAR(50)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (13, 'duration_seconds', 'FLOAT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (14, 'bpm', 'INTEGER', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (15, 'key', 'VARCHAR(10)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (16, 'is_instrumental', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (17, 'audio_url', 'VARCHAR(1000)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (18, 'local_file_path', 'VARCHAR(500)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (19, 'file_size_bytes', 'INTEGER', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (20, 'audio_format', 'VARCHAR(10)', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (21, 'lufs_level', 'FLOAT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (22, 'peak_db', 'FLOAT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (23, 'is_normalized', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (24, 'generation_started_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (25, 'generation_completed_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (26, 'downloaded_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (27, 'play_count', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (28, 'total_upvotes', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (29, 'total_downvotes', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (30, 'is_approved', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (31, 'moderation_notes', 'TEXT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (32, 'flagged_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (33, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (34, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("users")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B4D240>, 'PRAGMA main.table_info("users")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B4D240>, 'PRAGMA main.table_info("users")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07B4D240>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07B4D240>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B4D240>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B4D240>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'email', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'password_hash', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'google_id', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'telegram_id', 'BIGINT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'telegram_username', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'telegram_first_name', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (7, 'telegram_last_name', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (8, 'reputation_score', 'FLOAT', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (9, 'total_requests', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (10, 'successful_requests', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (11, 'failed_requests', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (12, 'total_upvotes_received', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (13, 'total_downvotes_received', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (14, 'total_upvotes_given', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (15, 'total_downvotes_given', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (16, 'is_banned', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (17, 'is_premium', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (18, 'ban_reason', 'TEXT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (19, 'banned_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (20, 'banned_until', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (21, 'last_request_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (22, 'last_vote_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (23, 'last_active_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (24, 'avatar_url', 'VARCHAR(500)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (25, 'username_last_changed_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (26, 'password_reset_token', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (27, 'password_reset_expires_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (28, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (29, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("votes")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07AE4B40>, 'PRAGMA main.table_info("votes")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07AE4B40>, 'PRAGMA main.table_info("votes")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07AE4B40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07AE4B40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07AE4B40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07AE4B40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'user_id', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'telegram_user_id', 'BIGINT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'queue_item_id', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'vote_type', 'VARCHAR(20)', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'voted_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'previous_vote_type', 'VARCHAR(20)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (7, 'changed_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (8, 'source', 'VARCHAR(50)', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (9, 'telegram_callback_id', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (10, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (11, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE votes
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00007s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07AB2AC0>, '\nDROP TABLE votes', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07AB2AC0>, '\nDROP TABLE votes', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07AB2AC0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07AB2AC0>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE radio_queue
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00012s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07827140>, '\nDROP TABLE radio_queue', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07827140>, '\nDROP TABLE radio_queue', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07827140>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07827140>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE radio_history
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00021s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0629C4C0>, '\nDROP TABLE radio_history', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0629C4C0>, '\nDROP TABLE radio_history', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0629C4C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0629C4C0>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE chat_messages
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00016s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B0CC0>, '\nDROP TABLE chat_messages', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B0CC0>, '\nDROP TABLE chat_messages', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B0CC0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B0CC0>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE users
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00020s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07827240>, '\nDROP TABLE users', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07827240>, '\nDROP TABLE users', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07827240>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07827240>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE songs
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00018s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C3C7C0>, '\nDROP TABLE songs', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C3C7C0>, '\nDROP TABLE songs', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C3C7C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C3C7C0>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE banned_words
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00020s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6EDC0>, '\nDROP TABLE banned_words', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6EDC0>, '\nDROP TABLE banned_words', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6EDC0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6EDC0>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | COMMIT
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000014E062DBC40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000014E062DBC40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing <function Connection.stop.<locals>.close_and_stop at 0x0000014E079FA980>
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation <function Connection.stop.<locals>.close_and_stop at 0x0000014E079FA980> completed
---------------------------- Captured log teardown ----------------------------
INFO     sqlalchemy.engine.Engine:base.py:2710 BEGIN (implicit)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("chat_messages")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076EC840>, 'PRAGMA main.table_info("chat_messages")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076EC840>, 'PRAGMA main.table_info("chat_messages")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076EC840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076EC840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076EC840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076EC840>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'user_id', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'content', 'TEXT', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'message_type', 'VARCHAR(20)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'is_deleted', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'deleted_by_id', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'deleted_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (7, 'delete_reason', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (8, 'reply_to_id', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (9, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (10, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("radio_history")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B7D740>, 'PRAGMA main.table_info("radio_history")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B7D740>, 'PRAGMA main.table_info("radio_history")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07B7D740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07B7D740>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B7D740>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B7D740>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'song_id', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'queue_id', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'played_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'ended_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'duration_played_seconds', 'FLOAT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'broadcast_file_path', 'VARCHAR(500)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (7, 'stream_mount', 'VARCHAR(100)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (8, 'requester_telegram_id', 'BIGINT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (9, 'requester_username', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (10, 'song_title', 'VARCHAR(500)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (11, 'song_artist', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (12, 'song_genre', 'VARCHAR(100)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (13, 'had_dj_intro', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (14, 'dj_intro_text', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (15, 'listener_count', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (16, 'upvotes_during_play', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (17, 'downvotes_during_play', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (18, 'skips_requested', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (19, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (20, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("banned_words")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B4FA40>, 'PRAGMA main.table_info("banned_words")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B4FA40>, 'PRAGMA main.table_info("banned_words")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07B4FA40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07B4FA40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B4FA40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B4FA40>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'word', 'VARCHAR(100)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'category', 'VARCHAR(50)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'reason', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'is_active', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("radio_queue")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B7DF40>, 'PRAGMA main.table_info("radio_queue")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B7DF40>, 'PRAGMA main.table_info("radio_queue")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07B7DF40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07B7DF40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B7DF40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B7DF40>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'user_id', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'telegram_user_id', 'BIGINT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'telegram_message_id', 'BIGINT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'song_id', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'original_prompt', 'TEXT', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'enhanced_prompt', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (7, 'genre_hint', 'VARCHAR(100)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (8, 'is_instrumental', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (9, 'status', 'VARCHAR(50)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (10, 'suno_job_id', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (11, 'error_message', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (12, 'retry_count', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (13, 'max_retries', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (14, 'base_priority', 'FLOAT', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (15, 'priority_score', 'FLOAT', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (16, 'is_priority_boost', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (17, 'priority_boost_reason', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (18, 'upvotes', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (19, 'downvotes', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (20, 'requested_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (21, 'queued_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (22, 'generation_started_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (23, 'generation_completed_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (24, 'broadcast_started_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (25, 'completed_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (26, 'is_moderated', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (27, 'moderation_passed', 'BOOLEAN', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (28, 'moderation_reason', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (29, 'has_dj_intro', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (30, 'dj_intro_path', 'VARCHAR(500)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (31, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (32, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("songs")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07773CC0>, 'PRAGMA main.table_info("songs")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07773CC0>, 'PRAGMA main.table_info("songs")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07773CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07773CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07773CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07773CC0>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'suno_job_id', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'suno_status', 'VARCHAR(50)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'title', 'VARCHAR(500)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'artist', 'VARCHAR(255)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'original_prompt', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'enhanced_prompt', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (7, 'style_prompt', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (8, 'lyrics', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (9, 'genre', 'VARCHAR(100)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (10, 'subgenre', 'VARCHAR(100)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (11, 'mood', 'VARCHAR(100)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (12, 'energy', 'VARCHAR(50)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (13, 'duration_seconds', 'FLOAT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (14, 'bpm', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (15, 'key', 'VARCHAR(10)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (16, 'is_instrumental', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (17, 'audio_url', 'VARCHAR(1000)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (18, 'local_file_path', 'VARCHAR(500)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (19, 'file_size_bytes', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (20, 'audio_format', 'VARCHAR(10)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (21, 'lufs_level', 'FLOAT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (22, 'peak_db', 'FLOAT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (23, 'is_normalized', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (24, 'generation_started_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (25, 'generation_completed_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (26, 'downloaded_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (27, 'play_count', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (28, 'total_upvotes', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (29, 'total_downvotes', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (30, 'is_approved', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (31, 'moderation_notes', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (32, 'flagged_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (33, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (34, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("users")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B4D240>, 'PRAGMA main.table_info("users")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B4D240>, 'PRAGMA main.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07B4D240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07B4D240>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B4D240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B4D240>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'email', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'password_hash', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'google_id', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'telegram_id', 'BIGINT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'telegram_username', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'telegram_first_name', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (7, 'telegram_last_name', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (8, 'reputation_score', 'FLOAT', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (9, 'total_requests', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (10, 'successful_requests', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (11, 'failed_requests', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (12, 'total_upvotes_received', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (13, 'total_downvotes_received', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (14, 'total_upvotes_given', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (15, 'total_downvotes_given', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (16, 'is_banned', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (17, 'is_premium', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (18, 'ban_reason', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (19, 'banned_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (20, 'banned_until', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (21, 'last_request_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (22, 'last_vote_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (23, 'last_active_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (24, 'avatar_url', 'VARCHAR(500)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (25, 'username_last_changed_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (26, 'password_reset_token', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (27, 'password_reset_expires_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (28, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (29, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("votes")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07AE4B40>, 'PRAGMA main.table_info("votes")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07AE4B40>, 'PRAGMA main.table_info("votes")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07AE4B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07AE4B40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07AE4B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07AE4B40>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'user_id', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'telegram_user_id', 'BIGINT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'queue_item_id', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'vote_type', 'VARCHAR(20)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'voted_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'previous_vote_type', 'VARCHAR(20)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (7, 'changed_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (8, 'source', 'VARCHAR(50)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (9, 'telegram_callback_id', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (10, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (11, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE votes
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00007s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07AB2AC0>, '\nDROP TABLE votes', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07AB2AC0>, '\nDROP TABLE votes', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07AB2AC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07AB2AC0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE radio_queue
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00012s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07827140>, '\nDROP TABLE radio_queue', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07827140>, '\nDROP TABLE radio_queue', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07827140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07827140>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE radio_history
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00021s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0629C4C0>, '\nDROP TABLE radio_history', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0629C4C0>, '\nDROP TABLE radio_history', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0629C4C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0629C4C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE chat_messages
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00016s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B0CC0>, '\nDROP TABLE chat_messages', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B0CC0>, '\nDROP TABLE chat_messages', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B0CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B0CC0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE users
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00020s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07827240>, '\nDROP TABLE users', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07827240>, '\nDROP TABLE users', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07827240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07827240>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE songs
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00018s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C3C7C0>, '\nDROP TABLE songs', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C3C7C0>, '\nDROP TABLE songs', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C3C7C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C3C7C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE banned_words
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00020s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6EDC0>, '\nDROP TABLE banned_words', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6EDC0>, '\nDROP TABLE banned_words', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6EDC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6EDC0>) completed
INFO     sqlalchemy.engine.Engine:base.py:2716 COMMIT
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000014E062DBC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000014E062DBC40>) completed
DEBUG    aiosqlite:core.py:62 executing <function Connection.stop.<locals>.close_and_stop at 0x0000014E079FA980>
DEBUG    aiosqlite:core.py:67 operation <function Connection.stop.<locals>.close_and_stop at 0x0000014E079FA980> completed
_________________________ test_broadcast_unknown_song _________________________
tests\test_webhooks_broadcast.py:146: in test_broadcast_unknown_song
    assert response.status_code == 200
E   assert 401 == 200
E    +  where 401 = <Response [401 Unauthorized]>.status_code
---------------------------- Captured stdout setup ----------------------------
2026-01-04 08:58:55 | [36mDEBUG[0m | asyncio | Using proactor: IocpProactor
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing <function connect.<locals>.connector at 0x0000014E07BDEC00>
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation <function connect.<locals>.connector at 0x0000014E07BDEC00> completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014E05CC1E40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000014E076A8C20>, deterministic=True)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014E05CC1E40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000014E076A8C20>, deterministic=True) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014E05CC1E40>, 'floor', 1, <built-in function floor>, deterministic=True)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014E05CC1E40>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07BAD040>, 'PRAGMA read_uncommitted', [])
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07BAD040>, 'PRAGMA read_uncommitted', []) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07BAD040>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07BAD040>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07BAD040>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07BAD040>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | BEGIN (implicit)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("chat_messages")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07684A40>, 'PRAGMA main.table_info("chat_messages")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07684A40>, 'PRAGMA main.table_info("chat_messages")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07684A40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07684A40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07684A40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07684A40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("chat_messages")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07AE4B40>, 'PRAGMA temp.table_info("chat_messages")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07AE4B40>, 'PRAGMA temp.table_info("chat_messages")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07AE4B40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07AE4B40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07AE4B40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07AE4B40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("radio_history")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075366C0>, 'PRAGMA main.table_info("radio_history")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075366C0>, 'PRAGMA main.table_info("radio_history")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E075366C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E075366C0>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075366C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075366C0>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("radio_history")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076841C0>, 'PRAGMA temp.table_info("radio_history")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076841C0>, 'PRAGMA temp.table_info("radio_history")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076841C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076841C0>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076841C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076841C0>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("banned_words")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076EFD40>, 'PRAGMA main.table_info("banned_words")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076EFD40>, 'PRAGMA main.table_info("banned_words")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076EFD40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076EFD40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076EFD40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076EFD40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("banned_words")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076852C0>, 'PRAGMA temp.table_info("banned_words")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076852C0>, 'PRAGMA temp.table_info("banned_words")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076852C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076852C0>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076852C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076852C0>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("radio_queue")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06379FC0>, 'PRAGMA main.table_info("radio_queue")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06379FC0>, 'PRAGMA main.table_info("radio_queue")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E06379FC0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E06379FC0>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06379FC0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06379FC0>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("radio_queue")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0629C4C0>, 'PRAGMA temp.table_info("radio_queue")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0629C4C0>, 'PRAGMA temp.table_info("radio_queue")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E0629C4C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E0629C4C0>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0629C4C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0629C4C0>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("songs")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076871C0>, 'PRAGMA main.table_info("songs")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076871C0>, 'PRAGMA main.table_info("songs")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076871C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076871C0>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076871C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076871C0>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("songs")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B4D840>, 'PRAGMA temp.table_info("songs")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B4D840>, 'PRAGMA temp.table_info("songs")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07B4D840>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07B4D840>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B4D840>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B4D840>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("users")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0637A6C0>, 'PRAGMA main.table_info("users")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0637A6C0>, 'PRAGMA main.table_info("users")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E0637A6C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E0637A6C0>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0637A6C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0637A6C0>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("users")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076EC840>, 'PRAGMA temp.table_info("users")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076EC840>, 'PRAGMA temp.table_info("users")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076EC840>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076EC840>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076EC840>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076EC840>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("votes")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076873C0>, 'PRAGMA main.table_info("votes")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076873C0>, 'PRAGMA main.table_info("votes")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076873C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076873C0>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076873C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076873C0>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA temp.table_info("votes")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076853C0>, 'PRAGMA temp.table_info("votes")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076853C0>, 'PRAGMA temp.table_info("votes")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076853C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076853C0>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076853C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076853C0>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE banned_words (
	id INTEGER NOT NULL, 
	word VARCHAR(100) NOT NULL, 
	category VARCHAR(50) NOT NULL, 
	reason TEXT, 
	is_active BOOLEAN NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_banned_words PRIMARY KEY (id)
)


2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00015s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060A7C40>, '\nCREATE TABLE banned_words (\n\tid INTEGER NOT NULL, \n\tword VARCHAR(100) NOT NULL, \n\tcategory VARCHAR(50) NOT NULL, \n\treason TEXT, \n\tis_active BOOLEAN NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_banned_words PRIMARY KEY (id)\n)\n\n', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060A7C40>, '\nCREATE TABLE banned_words (\n\tid INTEGER NOT NULL, \n\tword VARCHAR(100) NOT NULL, \n\tcategory VARCHAR(50) NOT NULL, \n\treason TEXT, \n\tis_active BOOLEAN NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_banned_words PRIMARY KEY (id)\n)\n\n', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060A7C40>)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE UNIQUE INDEX ix_banned_words_word ON banned_words (word)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060A7C40>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00016s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07AB2AC0>, 'CREATE UNIQUE INDEX ix_banned_words_word ON banned_words (word)', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07AB2AC0>, 'CREATE UNIQUE INDEX ix_banned_words_word ON banned_words (word)', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07AB2AC0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07AB2AC0>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE songs (
	id INTEGER NOT NULL, 
	suno_job_id VARCHAR(255), 
	suno_status VARCHAR(50) NOT NULL, 
	title VARCHAR(500), 
	artist VARCHAR(255) NOT NULL, 
	original_prompt TEXT, 
	enhanced_prompt TEXT, 
	style_prompt TEXT, 
	lyrics TEXT, 
	genre VARCHAR(100), 
	subgenre VARCHAR(100), 
	mood VARCHAR(100), 
	energy VARCHAR(50), 
	duration_seconds FLOAT, 
	bpm INTEGER, 
	"key" VARCHAR(10), 
	is_instrumental BOOLEAN NOT NULL, 
	audio_url VARCHAR(1000), 
	local_file_path VARCHAR(500), 
	file_size_bytes INTEGER, 
	audio_format VARCHAR(10) NOT NULL, 
	lufs_level FLOAT, 
	peak_db FLOAT, 
	is_normalized BOOLEAN NOT NULL, 
	generation_started_at DATETIME, 
	generation_completed_at DATETIME, 
	downloaded_at DATETIME, 
	play_count INTEGER NOT NULL, 
	total_upvotes INTEGER NOT NULL, 
	total_downvotes INTEGER NOT NULL, 
	is_approved BOOLEAN NOT NULL, 
	moderation_notes TEXT, 
	flagged_at DATETIME, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_songs PRIMARY KEY (id)
)


2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00018s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076258C0>, '\nCREATE TABLE songs (\n\tid INTEGER NOT NULL, \n\tsuno_job_id VARCHAR(255), \n\tsuno_status VARCHAR(50) NOT NULL, \n\ttitle VARCHAR(500), \n\tartist VARCHAR(255) NOT NULL, \n\toriginal_prompt TEXT, \n\tenhanced_prompt TEXT, \n\tstyle_prompt TEXT, \n\tlyrics TEXT, \n\tgenre VARCHAR(100), \n\tsubgenre VARCHAR(100), \n\tmood VARCHAR(100), \n\tenergy VARCHAR(50), \n\tduration_seconds FLOAT, \n\tbpm INTEGER, \n\t"key" VARCHAR(10), \n\tis_instrumental BOOLEAN NOT NULL, \n\taudio_url VARCHAR(1000), \n\tlocal_file_path VARCHAR(500), \n\tfile_size_bytes INTEGER, \n\taudio_format VARCHAR(10) NOT NULL, \n\tlufs_level FLOAT, \n\tpeak_db FLOAT, \n\tis_normalized BOOLEAN NOT NULL, \n\tgeneration_started_at DATETIME, \n\tgeneration_completed_at DATETIME, \n\tdownloaded_at DATETIME, \n\tplay_count INTEGER NOT NULL, \n\ttotal_upvotes INTEGER NOT NULL, \n\ttotal_downvotes INTEGER NOT NULL, \n\tis_approved BOOLEAN NOT NULL, \n\tmoderation_notes TEXT, \n\tflagged_at DATETIME, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_songs PRIMARY KEY (id)\n)\n\n', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076258C0>, '\nCREATE TABLE songs (\n\tid INTEGER NOT NULL, \n\tsuno_job_id VARCHAR(255), \n\tsuno_status VARCHAR(50) NOT NULL, \n\ttitle VARCHAR(500), \n\tartist VARCHAR(255) NOT NULL, \n\toriginal_prompt TEXT, \n\tenhanced_prompt TEXT, \n\tstyle_prompt TEXT, \n\tlyrics TEXT, \n\tgenre VARCHAR(100), \n\tsubgenre VARCHAR(100), \n\tmood VARCHAR(100), \n\tenergy VARCHAR(50), \n\tduration_seconds FLOAT, \n\tbpm INTEGER, \n\t"key" VARCHAR(10), \n\tis_instrumental BOOLEAN NOT NULL, \n\taudio_url VARCHAR(1000), \n\tlocal_file_path VARCHAR(500), \n\tfile_size_bytes INTEGER, \n\taudio_format VARCHAR(10) NOT NULL, \n\tlufs_level FLOAT, \n\tpeak_db FLOAT, \n\tis_normalized BOOLEAN NOT NULL, \n\tgeneration_started_at DATETIME, \n\tgeneration_completed_at DATETIME, \n\tdownloaded_at DATETIME, \n\tplay_count INTEGER NOT NULL, \n\ttotal_upvotes INTEGER NOT NULL, \n\ttotal_downvotes INTEGER NOT NULL, \n\tis_approved BOOLEAN NOT NULL, \n\tmoderation_notes TEXT, \n\tflagged_at DATETIME, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_songs PRIMARY KEY (id)\n)\n\n', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076258C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076258C0>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE UNIQUE INDEX ix_songs_suno_job_id ON songs (suno_job_id)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00020s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E6F40>, 'CREATE UNIQUE INDEX ix_songs_suno_job_id ON songs (suno_job_id)', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E6F40>, 'CREATE UNIQUE INDEX ix_songs_suno_job_id ON songs (suno_job_id)', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E6F40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E6F40>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	email VARCHAR(255), 
	password_hash VARCHAR(255), 
	google_id VARCHAR(255), 
	telegram_id BIGINT, 
	telegram_username VARCHAR(255), 
	telegram_first_name VARCHAR(255), 
	telegram_last_name VARCHAR(255), 
	reputation_score FLOAT NOT NULL, 
	total_requests INTEGER NOT NULL, 
	successful_requests INTEGER NOT NULL, 
	failed_requests INTEGER NOT NULL, 
	total_upvotes_received INTEGER NOT NULL, 
	total_downvotes_received INTEGER NOT NULL, 
	total_upvotes_given INTEGER NOT NULL, 
	total_downvotes_given INTEGER NOT NULL, 
	is_banned BOOLEAN NOT NULL, 
	is_premium BOOLEAN NOT NULL, 
	ban_reason TEXT, 
	banned_at DATETIME, 
	banned_until DATETIME, 
	last_request_at DATETIME, 
	last_vote_at DATETIME, 
	last_active_at DATETIME, 
	avatar_url VARCHAR(500), 
	username_last_changed_at DATETIME, 
	password_reset_token VARCHAR(255), 
	password_reset_expires_at DATETIME, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_users PRIMARY KEY (id)
)


2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00012s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07BB8F40>, '\nCREATE TABLE users (\n\tid INTEGER NOT NULL, \n\temail VARCHAR(255), \n\tpassword_hash VARCHAR(255), \n\tgoogle_id VARCHAR(255), \n\ttelegram_id BIGINT, \n\ttelegram_username VARCHAR(255), \n\ttelegram_first_name VARCHAR(255), \n\ttelegram_last_name VARCHAR(255), \n\treputation_score FLOAT NOT NULL, \n\ttotal_requests INTEGER NOT NULL, \n\tsuccessful_requests INTEGER NOT NULL, \n\tfailed_requests INTEGER NOT NULL, \n\ttotal_upvotes_received INTEGER NOT NULL, \n\ttotal_downvotes_received INTEGER NOT NULL, \n\ttotal_upvotes_given INTEGER NOT NULL, \n\ttotal_downvotes_given INTEGER NOT NULL, \n\tis_banned BOOLEAN NOT NULL, \n\tis_premium BOOLEAN NOT NULL, \n\tban_reason TEXT, \n\tbanned_at DATETIME, \n\tbanned_until DATETIME, \n\tlast_request_at DATETIME, \n\tlast_vote_at DATETIME, \n\tlast_active_at DATETIME, \n\tavatar_url VARCHAR(500), \n\tusername_last_changed_at DATETIME, \n\tpassword_reset_token VARCHAR(255), \n\tpassword_reset_expires_at DATETIME, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_users PRIMARY KEY (id)\n)\n\n', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07BB8F40>, '\nCREATE TABLE users (\n\tid INTEGER NOT NULL, \n\temail VARCHAR(255), \n\tpassword_hash VARCHAR(255), \n\tgoogle_id VARCHAR(255), \n\ttelegram_id BIGINT, \n\ttelegram_username VARCHAR(255), \n\ttelegram_first_name VARCHAR(255), \n\ttelegram_last_name VARCHAR(255), \n\treputation_score FLOAT NOT NULL, \n\ttotal_requests INTEGER NOT NULL, \n\tsuccessful_requests INTEGER NOT NULL, \n\tfailed_requests INTEGER NOT NULL, \n\ttotal_upvotes_received INTEGER NOT NULL, \n\ttotal_downvotes_received INTEGER NOT NULL, \n\ttotal_upvotes_given INTEGER NOT NULL, \n\ttotal_downvotes_given INTEGER NOT NULL, \n\tis_banned BOOLEAN NOT NULL, \n\tis_premium BOOLEAN NOT NULL, \n\tban_reason TEXT, \n\tbanned_at DATETIME, \n\tbanned_until DATETIME, \n\tlast_request_at DATETIME, \n\tlast_vote_at DATETIME, \n\tlast_active_at DATETIME, \n\tavatar_url VARCHAR(500), \n\tusername_last_changed_at DATETIME, \n\tpassword_reset_token VARCHAR(255), \n\tpassword_reset_expires_at DATETIME, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_users PRIMARY KEY (id)\n)\n\n', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07BB8F40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07BB8F40>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE UNIQUE INDEX ix_users_google_id ON users (google_id)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00022s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E4D40>, 'CREATE UNIQUE INDEX ix_users_google_id ON users (google_id)', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E4D40>, 'CREATE UNIQUE INDEX ix_users_google_id ON users (google_id)', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E4D40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E4D40>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00018s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075F3CC0>, 'CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075F3CC0>, 'CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075F3CC0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075F3CC0>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE UNIQUE INDEX ix_users_email ON users (email)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00017s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07638340>, 'CREATE UNIQUE INDEX ix_users_email ON users (email)', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07638340>, 'CREATE UNIQUE INDEX ix_users_email ON users (email)', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07638340>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07638340>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_users_password_reset_token ON users (password_reset_token)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00087s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075730C0>, 'CREATE INDEX ix_users_password_reset_token ON users (password_reset_token)', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075730C0>, 'CREATE INDEX ix_users_password_reset_token ON users (password_reset_token)', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075730C0>)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE chat_messages (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	content TEXT NOT NULL, 
	message_type VARCHAR(20) NOT NULL, 
	is_deleted BOOLEAN NOT NULL, 
	deleted_by_id INTEGER, 
	deleted_at DATETIME, 
	delete_reason VARCHAR(255), 
	reply_to_id INTEGER, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_chat_messages PRIMARY KEY (id), 
	CONSTRAINT fk_chat_messages_user_id_users FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE SET NULL, 
	CONSTRAINT fk_chat_messages_reply_to_id_chat_messages FOREIGN KEY(reply_to_id) REFERENCES chat_messages (id) ON DELETE SET NULL
)


2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075730C0>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00026s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B4DCC0>, '\nCREATE TABLE chat_messages (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER, \n\tcontent TEXT NOT NULL, \n\tmessage_type VARCHAR(20) NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_by_id INTEGER, \n\tdeleted_at DATETIME, \n\tdelete_reason VARCHAR(255), \n\treply_to_id INTEGER, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_chat_messages PRIMARY KEY (id), \n\tCONSTRAINT fk_chat_messages_user_id_users FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE SET NULL, \n\tCONSTRAINT fk_chat_messages_reply_to_id_chat_messages FOREIGN KEY(reply_to_id) REFERENCES chat_messages (id) ON DELETE SET NULL\n)\n\n', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B4DCC0>, '\nCREATE TABLE chat_messages (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER, \n\tcontent TEXT NOT NULL, \n\tmessage_type VARCHAR(20) NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_by_id INTEGER, \n\tdeleted_at DATETIME, \n\tdelete_reason VARCHAR(255), \n\treply_to_id INTEGER, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_chat_messages PRIMARY KEY (id), \n\tCONSTRAINT fk_chat_messages_user_id_users FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE SET NULL, \n\tCONSTRAINT fk_chat_messages_reply_to_id_chat_messages FOREIGN KEY(reply_to_id) REFERENCES chat_messages (id) ON DELETE SET NULL\n)\n\n', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B4DCC0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B4DCC0>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE radio_history (
	id INTEGER NOT NULL, 
	song_id INTEGER NOT NULL, 
	queue_id INTEGER, 
	played_at DATETIME NOT NULL, 
	ended_at DATETIME, 
	duration_played_seconds FLOAT, 
	broadcast_file_path VARCHAR(500), 
	stream_mount VARCHAR(100), 
	requester_telegram_id BIGINT, 
	requester_username VARCHAR(255), 
	song_title VARCHAR(500), 
	song_artist VARCHAR(255), 
	song_genre VARCHAR(100), 
	had_dj_intro BOOLEAN NOT NULL, 
	dj_intro_text TEXT, 
	listener_count INTEGER, 
	upvotes_during_play INTEGER NOT NULL, 
	downvotes_during_play INTEGER NOT NULL, 
	skips_requested INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_radio_history PRIMARY KEY (id), 
	CONSTRAINT fk_radio_history_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)
)


2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00018s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07BBAC40>, '\nCREATE TABLE radio_history (\n\tid INTEGER NOT NULL, \n\tsong_id INTEGER NOT NULL, \n\tqueue_id INTEGER, \n\tplayed_at DATETIME NOT NULL, \n\tended_at DATETIME, \n\tduration_played_seconds FLOAT, \n\tbroadcast_file_path VARCHAR(500), \n\tstream_mount VARCHAR(100), \n\trequester_telegram_id BIGINT, \n\trequester_username VARCHAR(255), \n\tsong_title VARCHAR(500), \n\tsong_artist VARCHAR(255), \n\tsong_genre VARCHAR(100), \n\thad_dj_intro BOOLEAN NOT NULL, \n\tdj_intro_text TEXT, \n\tlistener_count INTEGER, \n\tupvotes_during_play INTEGER NOT NULL, \n\tdownvotes_during_play INTEGER NOT NULL, \n\tskips_requested INTEGER NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_radio_history PRIMARY KEY (id), \n\tCONSTRAINT fk_radio_history_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)\n)\n\n', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07BBAC40>, '\nCREATE TABLE radio_history (\n\tid INTEGER NOT NULL, \n\tsong_id INTEGER NOT NULL, \n\tqueue_id INTEGER, \n\tplayed_at DATETIME NOT NULL, \n\tended_at DATETIME, \n\tduration_played_seconds FLOAT, \n\tbroadcast_file_path VARCHAR(500), \n\tstream_mount VARCHAR(100), \n\trequester_telegram_id BIGINT, \n\trequester_username VARCHAR(255), \n\tsong_title VARCHAR(500), \n\tsong_artist VARCHAR(255), \n\tsong_genre VARCHAR(100), \n\thad_dj_intro BOOLEAN NOT NULL, \n\tdj_intro_text TEXT, \n\tlistener_count INTEGER, \n\tupvotes_during_play INTEGER NOT NULL, \n\tdownvotes_during_play INTEGER NOT NULL, \n\tskips_requested INTEGER NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_radio_history PRIMARY KEY (id), \n\tCONSTRAINT fk_radio_history_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)\n)\n\n', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07BBAC40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07BBAC40>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_history_played_at ON radio_history (played_at)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00011s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B7DF40>, 'CREATE INDEX ix_radio_history_played_at ON radio_history (played_at)', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B7DF40>, 'CREATE INDEX ix_radio_history_played_at ON radio_history (played_at)', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B7DF40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B7DF40>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_history_song_id ON radio_history (song_id)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00024s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07770640>, 'CREATE INDEX ix_radio_history_song_id ON radio_history (song_id)', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07770640>, 'CREATE INDEX ix_radio_history_song_id ON radio_history (song_id)', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07770640>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07770640>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_history_queue_id ON radio_history (queue_id)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00027s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E5EC0>, 'CREATE INDEX ix_radio_history_queue_id ON radio_history (queue_id)', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E5EC0>, 'CREATE INDEX ix_radio_history_queue_id ON radio_history (queue_id)', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E5EC0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E5EC0>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE radio_queue (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	telegram_user_id BIGINT, 
	telegram_message_id BIGINT, 
	song_id INTEGER, 
	original_prompt TEXT NOT NULL, 
	enhanced_prompt TEXT, 
	genre_hint VARCHAR(100), 
	is_instrumental BOOLEAN NOT NULL, 
	status VARCHAR(50) NOT NULL, 
	suno_job_id VARCHAR(255), 
	error_message TEXT, 
	retry_count INTEGER NOT NULL, 
	max_retries INTEGER NOT NULL, 
	base_priority FLOAT NOT NULL, 
	priority_score FLOAT NOT NULL, 
	is_priority_boost BOOLEAN NOT NULL, 
	priority_boost_reason VARCHAR(255), 
	upvotes INTEGER NOT NULL, 
	downvotes INTEGER NOT NULL, 
	requested_at DATETIME NOT NULL, 
	queued_at DATETIME, 
	generation_started_at DATETIME, 
	generation_completed_at DATETIME, 
	broadcast_started_at DATETIME, 
	completed_at DATETIME, 
	is_moderated BOOLEAN NOT NULL, 
	moderation_passed BOOLEAN, 
	moderation_reason TEXT, 
	has_dj_intro BOOLEAN NOT NULL, 
	dj_intro_path VARCHAR(500), 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_radio_queue PRIMARY KEY (id), 
	CONSTRAINT fk_radio_queue_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), 
	CONSTRAINT fk_radio_queue_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)
)


2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00017s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060A5840>, '\nCREATE TABLE radio_queue (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER, \n\ttelegram_user_id BIGINT, \n\ttelegram_message_id BIGINT, \n\tsong_id INTEGER, \n\toriginal_prompt TEXT NOT NULL, \n\tenhanced_prompt TEXT, \n\tgenre_hint VARCHAR(100), \n\tis_instrumental BOOLEAN NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tsuno_job_id VARCHAR(255), \n\terror_message TEXT, \n\tretry_count INTEGER NOT NULL, \n\tmax_retries INTEGER NOT NULL, \n\tbase_priority FLOAT NOT NULL, \n\tpriority_score FLOAT NOT NULL, \n\tis_priority_boost BOOLEAN NOT NULL, \n\tpriority_boost_reason VARCHAR(255), \n\tupvotes INTEGER NOT NULL, \n\tdownvotes INTEGER NOT NULL, \n\trequested_at DATETIME NOT NULL, \n\tqueued_at DATETIME, \n\tgeneration_started_at DATETIME, \n\tgeneration_completed_at DATETIME, \n\tbroadcast_started_at DATETIME, \n\tcompleted_at DATETIME, \n\tis_moderated BOOLEAN NOT NULL, \n\tmoderation_passed BOOLEAN, \n\tmoderation_reason TEXT, \n\thas_dj_intro BOOLEAN NOT NULL, \n\tdj_intro_path VARCHAR(500), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_radio_queue PRIMARY KEY (id), \n\tCONSTRAINT fk_radio_queue_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), \n\tCONSTRAINT fk_radio_queue_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)\n)\n\n', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060A5840>, '\nCREATE TABLE radio_queue (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER, \n\ttelegram_user_id BIGINT, \n\ttelegram_message_id BIGINT, \n\tsong_id INTEGER, \n\toriginal_prompt TEXT NOT NULL, \n\tenhanced_prompt TEXT, \n\tgenre_hint VARCHAR(100), \n\tis_instrumental BOOLEAN NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tsuno_job_id VARCHAR(255), \n\terror_message TEXT, \n\tretry_count INTEGER NOT NULL, \n\tmax_retries INTEGER NOT NULL, \n\tbase_priority FLOAT NOT NULL, \n\tpriority_score FLOAT NOT NULL, \n\tis_priority_boost BOOLEAN NOT NULL, \n\tpriority_boost_reason VARCHAR(255), \n\tupvotes INTEGER NOT NULL, \n\tdownvotes INTEGER NOT NULL, \n\trequested_at DATETIME NOT NULL, \n\tqueued_at DATETIME, \n\tgeneration_started_at DATETIME, \n\tgeneration_completed_at DATETIME, \n\tbroadcast_started_at DATETIME, \n\tcompleted_at DATETIME, \n\tis_moderated BOOLEAN NOT NULL, \n\tmoderation_passed BOOLEAN, \n\tmoderation_reason TEXT, \n\thas_dj_intro BOOLEAN NOT NULL, \n\tdj_intro_path VARCHAR(500), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_radio_queue PRIMARY KEY (id), \n\tCONSTRAINT fk_radio_queue_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), \n\tCONSTRAINT fk_radio_queue_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)\n)\n\n', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060A5840>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060A5840>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_queue_status ON radio_queue (status)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00011s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C3C7C0>, 'CREATE INDEX ix_radio_queue_status ON radio_queue (status)', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C3C7C0>, 'CREATE INDEX ix_radio_queue_status ON radio_queue (status)', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C3C7C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C3C7C0>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_queue_priority_score ON radio_queue (priority_score)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00017s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B0CC0>, 'CREATE INDEX ix_radio_queue_priority_score ON radio_queue (priority_score)', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B0CC0>, 'CREATE INDEX ix_radio_queue_priority_score ON radio_queue (priority_score)', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B0CC0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B0CC0>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_queue_user_id ON radio_queue (user_id)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00012s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6E0C0>, 'CREATE INDEX ix_radio_queue_user_id ON radio_queue (user_id)', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6E0C0>, 'CREATE INDEX ix_radio_queue_user_id ON radio_queue (user_id)', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6E0C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6E0C0>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_queue_song_id ON radio_queue (song_id)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00024s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6F8C0>, 'CREATE INDEX ix_radio_queue_song_id ON radio_queue (song_id)', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6F8C0>, 'CREATE INDEX ix_radio_queue_song_id ON radio_queue (song_id)', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6F8C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6F8C0>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_radio_queue_telegram_user_id ON radio_queue (telegram_user_id)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00016s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6FA40>, 'CREATE INDEX ix_radio_queue_telegram_user_id ON radio_queue (telegram_user_id)', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6FA40>, 'CREATE INDEX ix_radio_queue_telegram_user_id ON radio_queue (telegram_user_id)', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6FA40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6FA40>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | 
CREATE TABLE votes (
	id INTEGER NOT NULL, 
	user_id INTEGER NOT NULL, 
	telegram_user_id BIGINT, 
	queue_item_id INTEGER NOT NULL, 
	vote_type VARCHAR(20) NOT NULL, 
	voted_at DATETIME NOT NULL, 
	previous_vote_type VARCHAR(20), 
	changed_at DATETIME, 
	source VARCHAR(50) NOT NULL, 
	telegram_callback_id VARCHAR(255), 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_votes PRIMARY KEY (id), 
	CONSTRAINT uq_votes_user_queue UNIQUE (user_id, queue_item_id), 
	CONSTRAINT fk_votes_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), 
	CONSTRAINT fk_votes_queue_item_id_radio_queue FOREIGN KEY(queue_item_id) REFERENCES radio_queue (id)
)


2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00019s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07534940>, '\nCREATE TABLE votes (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER NOT NULL, \n\ttelegram_user_id BIGINT, \n\tqueue_item_id INTEGER NOT NULL, \n\tvote_type VARCHAR(20) NOT NULL, \n\tvoted_at DATETIME NOT NULL, \n\tprevious_vote_type VARCHAR(20), \n\tchanged_at DATETIME, \n\tsource VARCHAR(50) NOT NULL, \n\ttelegram_callback_id VARCHAR(255), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_votes PRIMARY KEY (id), \n\tCONSTRAINT uq_votes_user_queue UNIQUE (user_id, queue_item_id), \n\tCONSTRAINT fk_votes_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), \n\tCONSTRAINT fk_votes_queue_item_id_radio_queue FOREIGN KEY(queue_item_id) REFERENCES radio_queue (id)\n)\n\n', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07534940>, '\nCREATE TABLE votes (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER NOT NULL, \n\ttelegram_user_id BIGINT, \n\tqueue_item_id INTEGER NOT NULL, \n\tvote_type VARCHAR(20) NOT NULL, \n\tvoted_at DATETIME NOT NULL, \n\tprevious_vote_type VARCHAR(20), \n\tchanged_at DATETIME, \n\tsource VARCHAR(50) NOT NULL, \n\ttelegram_callback_id VARCHAR(255), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_votes PRIMARY KEY (id), \n\tCONSTRAINT uq_votes_user_queue UNIQUE (user_id, queue_item_id), \n\tCONSTRAINT fk_votes_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), \n\tCONSTRAINT fk_votes_queue_item_id_radio_queue FOREIGN KEY(queue_item_id) REFERENCES radio_queue (id)\n)\n\n', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07534940>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07534940>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_votes_telegram_user_id ON votes (telegram_user_id)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00011s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6F940>, 'CREATE INDEX ix_votes_telegram_user_id ON votes (telegram_user_id)', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6F940>, 'CREATE INDEX ix_votes_telegram_user_id ON votes (telegram_user_id)', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6F940>)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_votes_user_id ON votes (user_id)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6F940>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00019s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6EFC0>, 'CREATE INDEX ix_votes_user_id ON votes (user_id)', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6EFC0>, 'CREATE INDEX ix_votes_user_id ON votes (user_id)', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6EFC0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6EFC0>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | CREATE INDEX ix_votes_queue_item_id ON votes (queue_item_id)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00010s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6F5C0>, 'CREATE INDEX ix_votes_queue_item_id ON votes (queue_item_id)', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6F5C0>, 'CREATE INDEX ix_votes_queue_item_id ON votes (queue_item_id)', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6F5C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6F5C0>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | COMMIT
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
----------------------------- Captured log setup ------------------------------
DEBUG    asyncio:proactor_events.py:633 Using proactor: IocpProactor
DEBUG    aiosqlite:core.py:62 executing <function connect.<locals>.connector at 0x0000014E07BDEC00>
DEBUG    aiosqlite:core.py:67 operation <function connect.<locals>.connector at 0x0000014E07BDEC00> completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014E05CC1E40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000014E076A8C20>, deterministic=True)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014E05CC1E40>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x0000014E076A8C20>, deterministic=True) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014E05CC1E40>, 'floor', 1, <built-in function floor>, deterministic=True)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x0000014E05CC1E40>, 'floor', 1, <built-in function floor>, deterministic=True) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07BAD040>, 'PRAGMA read_uncommitted', [])
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07BAD040>, 'PRAGMA read_uncommitted', []) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07BAD040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07BAD040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07BAD040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07BAD040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
INFO     sqlalchemy.engine.Engine:base.py:2710 BEGIN (implicit)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("chat_messages")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07684A40>, 'PRAGMA main.table_info("chat_messages")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07684A40>, 'PRAGMA main.table_info("chat_messages")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07684A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07684A40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07684A40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07684A40>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("chat_messages")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07AE4B40>, 'PRAGMA temp.table_info("chat_messages")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07AE4B40>, 'PRAGMA temp.table_info("chat_messages")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07AE4B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07AE4B40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07AE4B40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07AE4B40>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("radio_history")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075366C0>, 'PRAGMA main.table_info("radio_history")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075366C0>, 'PRAGMA main.table_info("radio_history")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E075366C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E075366C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075366C0>)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075366C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("radio_history")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076841C0>, 'PRAGMA temp.table_info("radio_history")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076841C0>, 'PRAGMA temp.table_info("radio_history")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076841C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076841C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076841C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076841C0>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("banned_words")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076EFD40>, 'PRAGMA main.table_info("banned_words")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076EFD40>, 'PRAGMA main.table_info("banned_words")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076EFD40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076EFD40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076EFD40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076EFD40>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("banned_words")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076852C0>, 'PRAGMA temp.table_info("banned_words")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076852C0>, 'PRAGMA temp.table_info("banned_words")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076852C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076852C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076852C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076852C0>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("radio_queue")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06379FC0>, 'PRAGMA main.table_info("radio_queue")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E06379FC0>, 'PRAGMA main.table_info("radio_queue")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E06379FC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E06379FC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06379FC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E06379FC0>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("radio_queue")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0629C4C0>, 'PRAGMA temp.table_info("radio_queue")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0629C4C0>, 'PRAGMA temp.table_info("radio_queue")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E0629C4C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E0629C4C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0629C4C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0629C4C0>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("songs")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076871C0>, 'PRAGMA main.table_info("songs")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076871C0>, 'PRAGMA main.table_info("songs")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076871C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076871C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076871C0>)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076871C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("songs")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B4D840>, 'PRAGMA temp.table_info("songs")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B4D840>, 'PRAGMA temp.table_info("songs")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07B4D840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07B4D840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B4D840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B4D840>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("users")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0637A6C0>, 'PRAGMA main.table_info("users")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E0637A6C0>, 'PRAGMA main.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E0637A6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E0637A6C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0637A6C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E0637A6C0>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("users")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076EC840>, 'PRAGMA temp.table_info("users")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076EC840>, 'PRAGMA temp.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076EC840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076EC840>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076EC840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076EC840>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("votes")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076873C0>, 'PRAGMA main.table_info("votes")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076873C0>, 'PRAGMA main.table_info("votes")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076873C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076873C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076873C0>)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076873C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA temp.table_info("votes")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076853C0>, 'PRAGMA temp.table_info("votes")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076853C0>, 'PRAGMA temp.table_info("votes")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076853C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E076853C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076853C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076853C0>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE banned_words (
	id INTEGER NOT NULL, 
	word VARCHAR(100) NOT NULL, 
	category VARCHAR(50) NOT NULL, 
	reason TEXT, 
	is_active BOOLEAN NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_banned_words PRIMARY KEY (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00015s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060A7C40>, '\nCREATE TABLE banned_words (\n\tid INTEGER NOT NULL, \n\tword VARCHAR(100) NOT NULL, \n\tcategory VARCHAR(50) NOT NULL, \n\treason TEXT, \n\tis_active BOOLEAN NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_banned_words PRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060A7C40>, '\nCREATE TABLE banned_words (\n\tid INTEGER NOT NULL, \n\tword VARCHAR(100) NOT NULL, \n\tcategory VARCHAR(50) NOT NULL, \n\treason TEXT, \n\tis_active BOOLEAN NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_banned_words PRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060A7C40>)
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE UNIQUE INDEX ix_banned_words_word ON banned_words (word)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060A7C40>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00016s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07AB2AC0>, 'CREATE UNIQUE INDEX ix_banned_words_word ON banned_words (word)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07AB2AC0>, 'CREATE UNIQUE INDEX ix_banned_words_word ON banned_words (word)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07AB2AC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07AB2AC0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE songs (
	id INTEGER NOT NULL, 
	suno_job_id VARCHAR(255), 
	suno_status VARCHAR(50) NOT NULL, 
	title VARCHAR(500), 
	artist VARCHAR(255) NOT NULL, 
	original_prompt TEXT, 
	enhanced_prompt TEXT, 
	style_prompt TEXT, 
	lyrics TEXT, 
	genre VARCHAR(100), 
	subgenre VARCHAR(100), 
	mood VARCHAR(100), 
	energy VARCHAR(50), 
	duration_seconds FLOAT, 
	bpm INTEGER, 
	"key" VARCHAR(10), 
	is_instrumental BOOLEAN NOT NULL, 
	audio_url VARCHAR(1000), 
	local_file_path VARCHAR(500), 
	file_size_bytes INTEGER, 
	audio_format VARCHAR(10) NOT NULL, 
	lufs_level FLOAT, 
	peak_db FLOAT, 
	is_normalized BOOLEAN NOT NULL, 
	generation_started_at DATETIME, 
	generation_completed_at DATETIME, 
	downloaded_at DATETIME, 
	play_count INTEGER NOT NULL, 
	total_upvotes INTEGER NOT NULL, 
	total_downvotes INTEGER NOT NULL, 
	is_approved BOOLEAN NOT NULL, 
	moderation_notes TEXT, 
	flagged_at DATETIME, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_songs PRIMARY KEY (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00018s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076258C0>, '\nCREATE TABLE songs (\n\tid INTEGER NOT NULL, \n\tsuno_job_id VARCHAR(255), \n\tsuno_status VARCHAR(50) NOT NULL, \n\ttitle VARCHAR(500), \n\tartist VARCHAR(255) NOT NULL, \n\toriginal_prompt TEXT, \n\tenhanced_prompt TEXT, \n\tstyle_prompt TEXT, \n\tlyrics TEXT, \n\tgenre VARCHAR(100), \n\tsubgenre VARCHAR(100), \n\tmood VARCHAR(100), \n\tenergy VARCHAR(50), \n\tduration_seconds FLOAT, \n\tbpm INTEGER, \n\t"key" VARCHAR(10), \n\tis_instrumental BOOLEAN NOT NULL, \n\taudio_url VARCHAR(1000), \n\tlocal_file_path VARCHAR(500), \n\tfile_size_bytes INTEGER, \n\taudio_format VARCHAR(10) NOT NULL, \n\tlufs_level FLOAT, \n\tpeak_db FLOAT, \n\tis_normalized BOOLEAN NOT NULL, \n\tgeneration_started_at DATETIME, \n\tgeneration_completed_at DATETIME, \n\tdownloaded_at DATETIME, \n\tplay_count INTEGER NOT NULL, \n\ttotal_upvotes INTEGER NOT NULL, \n\ttotal_downvotes INTEGER NOT NULL, \n\tis_approved BOOLEAN NOT NULL, \n\tmoderation_notes TEXT, \n\tflagged_at DATETIME, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_songs PRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E076258C0>, '\nCREATE TABLE songs (\n\tid INTEGER NOT NULL, \n\tsuno_job_id VARCHAR(255), \n\tsuno_status VARCHAR(50) NOT NULL, \n\ttitle VARCHAR(500), \n\tartist VARCHAR(255) NOT NULL, \n\toriginal_prompt TEXT, \n\tenhanced_prompt TEXT, \n\tstyle_prompt TEXT, \n\tlyrics TEXT, \n\tgenre VARCHAR(100), \n\tsubgenre VARCHAR(100), \n\tmood VARCHAR(100), \n\tenergy VARCHAR(50), \n\tduration_seconds FLOAT, \n\tbpm INTEGER, \n\t"key" VARCHAR(10), \n\tis_instrumental BOOLEAN NOT NULL, \n\taudio_url VARCHAR(1000), \n\tlocal_file_path VARCHAR(500), \n\tfile_size_bytes INTEGER, \n\taudio_format VARCHAR(10) NOT NULL, \n\tlufs_level FLOAT, \n\tpeak_db FLOAT, \n\tis_normalized BOOLEAN NOT NULL, \n\tgeneration_started_at DATETIME, \n\tgeneration_completed_at DATETIME, \n\tdownloaded_at DATETIME, \n\tplay_count INTEGER NOT NULL, \n\ttotal_upvotes INTEGER NOT NULL, \n\ttotal_downvotes INTEGER NOT NULL, \n\tis_approved BOOLEAN NOT NULL, \n\tmoderation_notes TEXT, \n\tflagged_at DATETIME, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_songs PRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076258C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E076258C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE UNIQUE INDEX ix_songs_suno_job_id ON songs (suno_job_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00020s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E6F40>, 'CREATE UNIQUE INDEX ix_songs_suno_job_id ON songs (suno_job_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E6F40>, 'CREATE UNIQUE INDEX ix_songs_suno_job_id ON songs (suno_job_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E6F40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E6F40>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE users (
	id INTEGER NOT NULL, 
	email VARCHAR(255), 
	password_hash VARCHAR(255), 
	google_id VARCHAR(255), 
	telegram_id BIGINT, 
	telegram_username VARCHAR(255), 
	telegram_first_name VARCHAR(255), 
	telegram_last_name VARCHAR(255), 
	reputation_score FLOAT NOT NULL, 
	total_requests INTEGER NOT NULL, 
	successful_requests INTEGER NOT NULL, 
	failed_requests INTEGER NOT NULL, 
	total_upvotes_received INTEGER NOT NULL, 
	total_downvotes_received INTEGER NOT NULL, 
	total_upvotes_given INTEGER NOT NULL, 
	total_downvotes_given INTEGER NOT NULL, 
	is_banned BOOLEAN NOT NULL, 
	is_premium BOOLEAN NOT NULL, 
	ban_reason TEXT, 
	banned_at DATETIME, 
	banned_until DATETIME, 
	last_request_at DATETIME, 
	last_vote_at DATETIME, 
	last_active_at DATETIME, 
	avatar_url VARCHAR(500), 
	username_last_changed_at DATETIME, 
	password_reset_token VARCHAR(255), 
	password_reset_expires_at DATETIME, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_users PRIMARY KEY (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00012s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07BB8F40>, '\nCREATE TABLE users (\n\tid INTEGER NOT NULL, \n\temail VARCHAR(255), \n\tpassword_hash VARCHAR(255), \n\tgoogle_id VARCHAR(255), \n\ttelegram_id BIGINT, \n\ttelegram_username VARCHAR(255), \n\ttelegram_first_name VARCHAR(255), \n\ttelegram_last_name VARCHAR(255), \n\treputation_score FLOAT NOT NULL, \n\ttotal_requests INTEGER NOT NULL, \n\tsuccessful_requests INTEGER NOT NULL, \n\tfailed_requests INTEGER NOT NULL, \n\ttotal_upvotes_received INTEGER NOT NULL, \n\ttotal_downvotes_received INTEGER NOT NULL, \n\ttotal_upvotes_given INTEGER NOT NULL, \n\ttotal_downvotes_given INTEGER NOT NULL, \n\tis_banned BOOLEAN NOT NULL, \n\tis_premium BOOLEAN NOT NULL, \n\tban_reason TEXT, \n\tbanned_at DATETIME, \n\tbanned_until DATETIME, \n\tlast_request_at DATETIME, \n\tlast_vote_at DATETIME, \n\tlast_active_at DATETIME, \n\tavatar_url VARCHAR(500), \n\tusername_last_changed_at DATETIME, \n\tpassword_reset_token VARCHAR(255), \n\tpassword_reset_expires_at DATETIME, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_users PRIMARY KEY (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07BB8F40>, '\nCREATE TABLE users (\n\tid INTEGER NOT NULL, \n\temail VARCHAR(255), \n\tpassword_hash VARCHAR(255), \n\tgoogle_id VARCHAR(255), \n\ttelegram_id BIGINT, \n\ttelegram_username VARCHAR(255), \n\ttelegram_first_name VARCHAR(255), \n\ttelegram_last_name VARCHAR(255), \n\treputation_score FLOAT NOT NULL, \n\ttotal_requests INTEGER NOT NULL, \n\tsuccessful_requests INTEGER NOT NULL, \n\tfailed_requests INTEGER NOT NULL, \n\ttotal_upvotes_received INTEGER NOT NULL, \n\ttotal_downvotes_received INTEGER NOT NULL, \n\ttotal_upvotes_given INTEGER NOT NULL, \n\ttotal_downvotes_given INTEGER NOT NULL, \n\tis_banned BOOLEAN NOT NULL, \n\tis_premium BOOLEAN NOT NULL, \n\tban_reason TEXT, \n\tbanned_at DATETIME, \n\tbanned_until DATETIME, \n\tlast_request_at DATETIME, \n\tlast_vote_at DATETIME, \n\tlast_active_at DATETIME, \n\tavatar_url VARCHAR(500), \n\tusername_last_changed_at DATETIME, \n\tpassword_reset_token VARCHAR(255), \n\tpassword_reset_expires_at DATETIME, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_users PRIMARY KEY (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07BB8F40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07BB8F40>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE UNIQUE INDEX ix_users_google_id ON users (google_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00022s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E4D40>, 'CREATE UNIQUE INDEX ix_users_google_id ON users (google_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E4D40>, 'CREATE UNIQUE INDEX ix_users_google_id ON users (google_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E4D40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E4D40>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00018s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075F3CC0>, 'CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075F3CC0>, 'CREATE UNIQUE INDEX ix_users_telegram_id ON users (telegram_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075F3CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075F3CC0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE UNIQUE INDEX ix_users_email ON users (email)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00017s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07638340>, 'CREATE UNIQUE INDEX ix_users_email ON users (email)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07638340>, 'CREATE UNIQUE INDEX ix_users_email ON users (email)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07638340>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07638340>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_users_password_reset_token ON users (password_reset_token)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00087s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075730C0>, 'CREATE INDEX ix_users_password_reset_token ON users (password_reset_token)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E075730C0>, 'CREATE INDEX ix_users_password_reset_token ON users (password_reset_token)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075730C0>)
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE chat_messages (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	content TEXT NOT NULL, 
	message_type VARCHAR(20) NOT NULL, 
	is_deleted BOOLEAN NOT NULL, 
	deleted_by_id INTEGER, 
	deleted_at DATETIME, 
	delete_reason VARCHAR(255), 
	reply_to_id INTEGER, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_chat_messages PRIMARY KEY (id), 
	CONSTRAINT fk_chat_messages_user_id_users FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE SET NULL, 
	CONSTRAINT fk_chat_messages_reply_to_id_chat_messages FOREIGN KEY(reply_to_id) REFERENCES chat_messages (id) ON DELETE SET NULL
)


DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E075730C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00026s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B4DCC0>, '\nCREATE TABLE chat_messages (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER, \n\tcontent TEXT NOT NULL, \n\tmessage_type VARCHAR(20) NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_by_id INTEGER, \n\tdeleted_at DATETIME, \n\tdelete_reason VARCHAR(255), \n\treply_to_id INTEGER, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_chat_messages PRIMARY KEY (id), \n\tCONSTRAINT fk_chat_messages_user_id_users FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE SET NULL, \n\tCONSTRAINT fk_chat_messages_reply_to_id_chat_messages FOREIGN KEY(reply_to_id) REFERENCES chat_messages (id) ON DELETE SET NULL\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B4DCC0>, '\nCREATE TABLE chat_messages (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER, \n\tcontent TEXT NOT NULL, \n\tmessage_type VARCHAR(20) NOT NULL, \n\tis_deleted BOOLEAN NOT NULL, \n\tdeleted_by_id INTEGER, \n\tdeleted_at DATETIME, \n\tdelete_reason VARCHAR(255), \n\treply_to_id INTEGER, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_chat_messages PRIMARY KEY (id), \n\tCONSTRAINT fk_chat_messages_user_id_users FOREIGN KEY(user_id) REFERENCES users (id) ON DELETE SET NULL, \n\tCONSTRAINT fk_chat_messages_reply_to_id_chat_messages FOREIGN KEY(reply_to_id) REFERENCES chat_messages (id) ON DELETE SET NULL\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B4DCC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B4DCC0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE radio_history (
	id INTEGER NOT NULL, 
	song_id INTEGER NOT NULL, 
	queue_id INTEGER, 
	played_at DATETIME NOT NULL, 
	ended_at DATETIME, 
	duration_played_seconds FLOAT, 
	broadcast_file_path VARCHAR(500), 
	stream_mount VARCHAR(100), 
	requester_telegram_id BIGINT, 
	requester_username VARCHAR(255), 
	song_title VARCHAR(500), 
	song_artist VARCHAR(255), 
	song_genre VARCHAR(100), 
	had_dj_intro BOOLEAN NOT NULL, 
	dj_intro_text TEXT, 
	listener_count INTEGER, 
	upvotes_during_play INTEGER NOT NULL, 
	downvotes_during_play INTEGER NOT NULL, 
	skips_requested INTEGER NOT NULL, 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_radio_history PRIMARY KEY (id), 
	CONSTRAINT fk_radio_history_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00018s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07BBAC40>, '\nCREATE TABLE radio_history (\n\tid INTEGER NOT NULL, \n\tsong_id INTEGER NOT NULL, \n\tqueue_id INTEGER, \n\tplayed_at DATETIME NOT NULL, \n\tended_at DATETIME, \n\tduration_played_seconds FLOAT, \n\tbroadcast_file_path VARCHAR(500), \n\tstream_mount VARCHAR(100), \n\trequester_telegram_id BIGINT, \n\trequester_username VARCHAR(255), \n\tsong_title VARCHAR(500), \n\tsong_artist VARCHAR(255), \n\tsong_genre VARCHAR(100), \n\thad_dj_intro BOOLEAN NOT NULL, \n\tdj_intro_text TEXT, \n\tlistener_count INTEGER, \n\tupvotes_during_play INTEGER NOT NULL, \n\tdownvotes_during_play INTEGER NOT NULL, \n\tskips_requested INTEGER NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_radio_history PRIMARY KEY (id), \n\tCONSTRAINT fk_radio_history_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07BBAC40>, '\nCREATE TABLE radio_history (\n\tid INTEGER NOT NULL, \n\tsong_id INTEGER NOT NULL, \n\tqueue_id INTEGER, \n\tplayed_at DATETIME NOT NULL, \n\tended_at DATETIME, \n\tduration_played_seconds FLOAT, \n\tbroadcast_file_path VARCHAR(500), \n\tstream_mount VARCHAR(100), \n\trequester_telegram_id BIGINT, \n\trequester_username VARCHAR(255), \n\tsong_title VARCHAR(500), \n\tsong_artist VARCHAR(255), \n\tsong_genre VARCHAR(100), \n\thad_dj_intro BOOLEAN NOT NULL, \n\tdj_intro_text TEXT, \n\tlistener_count INTEGER, \n\tupvotes_during_play INTEGER NOT NULL, \n\tdownvotes_during_play INTEGER NOT NULL, \n\tskips_requested INTEGER NOT NULL, \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_radio_history PRIMARY KEY (id), \n\tCONSTRAINT fk_radio_history_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07BBAC40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07BBAC40>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_history_played_at ON radio_history (played_at)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00011s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B7DF40>, 'CREATE INDEX ix_radio_history_played_at ON radio_history (played_at)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07B7DF40>, 'CREATE INDEX ix_radio_history_played_at ON radio_history (played_at)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B7DF40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07B7DF40>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_history_song_id ON radio_history (song_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00024s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07770640>, 'CREATE INDEX ix_radio_history_song_id ON radio_history (song_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07770640>, 'CREATE INDEX ix_radio_history_song_id ON radio_history (song_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07770640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07770640>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_history_queue_id ON radio_history (queue_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00027s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E5EC0>, 'CREATE INDEX ix_radio_history_queue_id ON radio_history (queue_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077E5EC0>, 'CREATE INDEX ix_radio_history_queue_id ON radio_history (queue_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E5EC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077E5EC0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE radio_queue (
	id INTEGER NOT NULL, 
	user_id INTEGER, 
	telegram_user_id BIGINT, 
	telegram_message_id BIGINT, 
	song_id INTEGER, 
	original_prompt TEXT NOT NULL, 
	enhanced_prompt TEXT, 
	genre_hint VARCHAR(100), 
	is_instrumental BOOLEAN NOT NULL, 
	status VARCHAR(50) NOT NULL, 
	suno_job_id VARCHAR(255), 
	error_message TEXT, 
	retry_count INTEGER NOT NULL, 
	max_retries INTEGER NOT NULL, 
	base_priority FLOAT NOT NULL, 
	priority_score FLOAT NOT NULL, 
	is_priority_boost BOOLEAN NOT NULL, 
	priority_boost_reason VARCHAR(255), 
	upvotes INTEGER NOT NULL, 
	downvotes INTEGER NOT NULL, 
	requested_at DATETIME NOT NULL, 
	queued_at DATETIME, 
	generation_started_at DATETIME, 
	generation_completed_at DATETIME, 
	broadcast_started_at DATETIME, 
	completed_at DATETIME, 
	is_moderated BOOLEAN NOT NULL, 
	moderation_passed BOOLEAN, 
	moderation_reason TEXT, 
	has_dj_intro BOOLEAN NOT NULL, 
	dj_intro_path VARCHAR(500), 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_radio_queue PRIMARY KEY (id), 
	CONSTRAINT fk_radio_queue_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), 
	CONSTRAINT fk_radio_queue_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00017s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060A5840>, '\nCREATE TABLE radio_queue (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER, \n\ttelegram_user_id BIGINT, \n\ttelegram_message_id BIGINT, \n\tsong_id INTEGER, \n\toriginal_prompt TEXT NOT NULL, \n\tenhanced_prompt TEXT, \n\tgenre_hint VARCHAR(100), \n\tis_instrumental BOOLEAN NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tsuno_job_id VARCHAR(255), \n\terror_message TEXT, \n\tretry_count INTEGER NOT NULL, \n\tmax_retries INTEGER NOT NULL, \n\tbase_priority FLOAT NOT NULL, \n\tpriority_score FLOAT NOT NULL, \n\tis_priority_boost BOOLEAN NOT NULL, \n\tpriority_boost_reason VARCHAR(255), \n\tupvotes INTEGER NOT NULL, \n\tdownvotes INTEGER NOT NULL, \n\trequested_at DATETIME NOT NULL, \n\tqueued_at DATETIME, \n\tgeneration_started_at DATETIME, \n\tgeneration_completed_at DATETIME, \n\tbroadcast_started_at DATETIME, \n\tcompleted_at DATETIME, \n\tis_moderated BOOLEAN NOT NULL, \n\tmoderation_passed BOOLEAN, \n\tmoderation_reason TEXT, \n\thas_dj_intro BOOLEAN NOT NULL, \n\tdj_intro_path VARCHAR(500), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_radio_queue PRIMARY KEY (id), \n\tCONSTRAINT fk_radio_queue_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), \n\tCONSTRAINT fk_radio_queue_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060A5840>, '\nCREATE TABLE radio_queue (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER, \n\ttelegram_user_id BIGINT, \n\ttelegram_message_id BIGINT, \n\tsong_id INTEGER, \n\toriginal_prompt TEXT NOT NULL, \n\tenhanced_prompt TEXT, \n\tgenre_hint VARCHAR(100), \n\tis_instrumental BOOLEAN NOT NULL, \n\tstatus VARCHAR(50) NOT NULL, \n\tsuno_job_id VARCHAR(255), \n\terror_message TEXT, \n\tretry_count INTEGER NOT NULL, \n\tmax_retries INTEGER NOT NULL, \n\tbase_priority FLOAT NOT NULL, \n\tpriority_score FLOAT NOT NULL, \n\tis_priority_boost BOOLEAN NOT NULL, \n\tpriority_boost_reason VARCHAR(255), \n\tupvotes INTEGER NOT NULL, \n\tdownvotes INTEGER NOT NULL, \n\trequested_at DATETIME NOT NULL, \n\tqueued_at DATETIME, \n\tgeneration_started_at DATETIME, \n\tgeneration_completed_at DATETIME, \n\tbroadcast_started_at DATETIME, \n\tcompleted_at DATETIME, \n\tis_moderated BOOLEAN NOT NULL, \n\tmoderation_passed BOOLEAN, \n\tmoderation_reason TEXT, \n\thas_dj_intro BOOLEAN NOT NULL, \n\tdj_intro_path VARCHAR(500), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_radio_queue PRIMARY KEY (id), \n\tCONSTRAINT fk_radio_queue_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), \n\tCONSTRAINT fk_radio_queue_song_id_songs FOREIGN KEY(song_id) REFERENCES songs (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060A5840>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060A5840>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_queue_status ON radio_queue (status)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00011s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C3C7C0>, 'CREATE INDEX ix_radio_queue_status ON radio_queue (status)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C3C7C0>, 'CREATE INDEX ix_radio_queue_status ON radio_queue (status)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C3C7C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C3C7C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_queue_priority_score ON radio_queue (priority_score)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00017s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B0CC0>, 'CREATE INDEX ix_radio_queue_priority_score ON radio_queue (priority_score)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B0CC0>, 'CREATE INDEX ix_radio_queue_priority_score ON radio_queue (priority_score)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B0CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B0CC0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_queue_user_id ON radio_queue (user_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00012s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6E0C0>, 'CREATE INDEX ix_radio_queue_user_id ON radio_queue (user_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6E0C0>, 'CREATE INDEX ix_radio_queue_user_id ON radio_queue (user_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6E0C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6E0C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_queue_song_id ON radio_queue (song_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00024s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6F8C0>, 'CREATE INDEX ix_radio_queue_song_id ON radio_queue (song_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6F8C0>, 'CREATE INDEX ix_radio_queue_song_id ON radio_queue (song_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6F8C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6F8C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_radio_queue_telegram_user_id ON radio_queue (telegram_user_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00016s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6FA40>, 'CREATE INDEX ix_radio_queue_telegram_user_id ON radio_queue (telegram_user_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6FA40>, 'CREATE INDEX ix_radio_queue_telegram_user_id ON radio_queue (telegram_user_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6FA40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6FA40>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
CREATE TABLE votes (
	id INTEGER NOT NULL, 
	user_id INTEGER NOT NULL, 
	telegram_user_id BIGINT, 
	queue_item_id INTEGER NOT NULL, 
	vote_type VARCHAR(20) NOT NULL, 
	voted_at DATETIME NOT NULL, 
	previous_vote_type VARCHAR(20), 
	changed_at DATETIME, 
	source VARCHAR(50) NOT NULL, 
	telegram_callback_id VARCHAR(255), 
	created_at DATETIME NOT NULL, 
	updated_at DATETIME NOT NULL, 
	CONSTRAINT pk_votes PRIMARY KEY (id), 
	CONSTRAINT uq_votes_user_queue UNIQUE (user_id, queue_item_id), 
	CONSTRAINT fk_votes_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), 
	CONSTRAINT fk_votes_queue_item_id_radio_queue FOREIGN KEY(queue_item_id) REFERENCES radio_queue (id)
)


INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00019s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07534940>, '\nCREATE TABLE votes (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER NOT NULL, \n\ttelegram_user_id BIGINT, \n\tqueue_item_id INTEGER NOT NULL, \n\tvote_type VARCHAR(20) NOT NULL, \n\tvoted_at DATETIME NOT NULL, \n\tprevious_vote_type VARCHAR(20), \n\tchanged_at DATETIME, \n\tsource VARCHAR(50) NOT NULL, \n\ttelegram_callback_id VARCHAR(255), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_votes PRIMARY KEY (id), \n\tCONSTRAINT uq_votes_user_queue UNIQUE (user_id, queue_item_id), \n\tCONSTRAINT fk_votes_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), \n\tCONSTRAINT fk_votes_queue_item_id_radio_queue FOREIGN KEY(queue_item_id) REFERENCES radio_queue (id)\n)\n\n', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07534940>, '\nCREATE TABLE votes (\n\tid INTEGER NOT NULL, \n\tuser_id INTEGER NOT NULL, \n\ttelegram_user_id BIGINT, \n\tqueue_item_id INTEGER NOT NULL, \n\tvote_type VARCHAR(20) NOT NULL, \n\tvoted_at DATETIME NOT NULL, \n\tprevious_vote_type VARCHAR(20), \n\tchanged_at DATETIME, \n\tsource VARCHAR(50) NOT NULL, \n\ttelegram_callback_id VARCHAR(255), \n\tcreated_at DATETIME NOT NULL, \n\tupdated_at DATETIME NOT NULL, \n\tCONSTRAINT pk_votes PRIMARY KEY (id), \n\tCONSTRAINT uq_votes_user_queue UNIQUE (user_id, queue_item_id), \n\tCONSTRAINT fk_votes_user_id_users FOREIGN KEY(user_id) REFERENCES users (id), \n\tCONSTRAINT fk_votes_queue_item_id_radio_queue FOREIGN KEY(queue_item_id) REFERENCES radio_queue (id)\n)\n\n', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07534940>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07534940>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_votes_telegram_user_id ON votes (telegram_user_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00011s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6F940>, 'CREATE INDEX ix_votes_telegram_user_id ON votes (telegram_user_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6F940>, 'CREATE INDEX ix_votes_telegram_user_id ON votes (telegram_user_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6F940>)
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_votes_user_id ON votes (user_id)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6F940>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00019s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6EFC0>, 'CREATE INDEX ix_votes_user_id ON votes (user_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6EFC0>, 'CREATE INDEX ix_votes_user_id ON votes (user_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6EFC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6EFC0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 CREATE INDEX ix_votes_queue_item_id ON votes (queue_item_id)
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00010s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6F5C0>, 'CREATE INDEX ix_votes_queue_item_id ON votes (queue_item_id)', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6F5C0>, 'CREATE INDEX ix_votes_queue_item_id ON votes (queue_item_id)', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6F5C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6F5C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:2716 COMMIT
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
-------------------------- Captured stdout teardown ---------------------------
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | BEGIN (implicit)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("chat_messages")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B1CC0>, 'PRAGMA main.table_info("chat_messages")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B1CC0>, 'PRAGMA main.table_info("chat_messages")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E060B1CC0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E060B1CC0>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B1CC0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'user_id', 'INTEGER', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'content', 'TEXT', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'message_type', 'VARCHAR(20)', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B1CC0>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'is_deleted', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'deleted_by_id', 'INTEGER', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'deleted_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (7, 'delete_reason', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (8, 'reply_to_id', 'INTEGER', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (9, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (10, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("radio_history")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07516140>, 'PRAGMA main.table_info("radio_history")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07516140>, 'PRAGMA main.table_info("radio_history")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07516140>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07516140>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07516140>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07516140>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'song_id', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'queue_id', 'INTEGER', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'played_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'ended_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'duration_played_seconds', 'FLOAT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'broadcast_file_path', 'VARCHAR(500)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (7, 'stream_mount', 'VARCHAR(100)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (8, 'requester_telegram_id', 'BIGINT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (9, 'requester_username', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (10, 'song_title', 'VARCHAR(500)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (11, 'song_artist', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (12, 'song_genre', 'VARCHAR(100)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (13, 'had_dj_intro', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (14, 'dj_intro_text', 'TEXT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (15, 'listener_count', 'INTEGER', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (16, 'upvotes_during_play', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (17, 'downvotes_during_play', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (18, 'skips_requested', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (19, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (20, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("banned_words")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07BBA7C0>, 'PRAGMA main.table_info("banned_words")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07BBA7C0>, 'PRAGMA main.table_info("banned_words")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07BBA7C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07BBA7C0>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07BBA7C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07BBA7C0>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'word', 'VARCHAR(100)', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'category', 'VARCHAR(50)', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'reason', 'TEXT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'is_active', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("radio_queue")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07573040>, 'PRAGMA main.table_info("radio_queue")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07573040>, 'PRAGMA main.table_info("radio_queue")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07573040>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07573040>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07573040>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07573040>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'user_id', 'INTEGER', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'telegram_user_id', 'BIGINT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'telegram_message_id', 'BIGINT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'song_id', 'INTEGER', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'original_prompt', 'TEXT', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'enhanced_prompt', 'TEXT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (7, 'genre_hint', 'VARCHAR(100)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (8, 'is_instrumental', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (9, 'status', 'VARCHAR(50)', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (10, 'suno_job_id', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (11, 'error_message', 'TEXT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (12, 'retry_count', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (13, 'max_retries', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (14, 'base_priority', 'FLOAT', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (15, 'priority_score', 'FLOAT', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (16, 'is_priority_boost', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (17, 'priority_boost_reason', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (18, 'upvotes', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (19, 'downvotes', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (20, 'requested_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (21, 'queued_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (22, 'generation_started_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (23, 'generation_completed_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (24, 'broadcast_started_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (25, 'completed_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (26, 'is_moderated', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (27, 'moderation_passed', 'BOOLEAN', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (28, 'moderation_reason', 'TEXT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (29, 'has_dj_intro', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (30, 'dj_intro_path', 'VARCHAR(500)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (31, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (32, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("songs")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07570640>, 'PRAGMA main.table_info("songs")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07570640>, 'PRAGMA main.table_info("songs")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07570640>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07570640>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07570640>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07570640>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'suno_job_id', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'suno_status', 'VARCHAR(50)', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'title', 'VARCHAR(500)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'artist', 'VARCHAR(255)', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'original_prompt', 'TEXT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'enhanced_prompt', 'TEXT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (7, 'style_prompt', 'TEXT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (8, 'lyrics', 'TEXT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (9, 'genre', 'VARCHAR(100)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (10, 'subgenre', 'VARCHAR(100)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (11, 'mood', 'VARCHAR(100)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (12, 'energy', 'VARCHAR(50)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (13, 'duration_seconds', 'FLOAT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (14, 'bpm', 'INTEGER', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (15, 'key', 'VARCHAR(10)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (16, 'is_instrumental', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (17, 'audio_url', 'VARCHAR(1000)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (18, 'local_file_path', 'VARCHAR(500)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (19, 'file_size_bytes', 'INTEGER', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (20, 'audio_format', 'VARCHAR(10)', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (21, 'lufs_level', 'FLOAT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (22, 'peak_db', 'FLOAT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (23, 'is_normalized', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (24, 'generation_started_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (25, 'generation_completed_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (26, 'downloaded_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (27, 'play_count', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (28, 'total_upvotes', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (29, 'total_downvotes', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (30, 'is_approved', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (31, 'moderation_notes', 'TEXT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (32, 'flagged_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (33, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (34, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("users")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B11C0>, 'PRAGMA main.table_info("users")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B11C0>, 'PRAGMA main.table_info("users")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E060B11C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E060B11C0>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B11C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B11C0>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'email', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'password_hash', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'google_id', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'telegram_id', 'BIGINT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'telegram_username', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'telegram_first_name', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (7, 'telegram_last_name', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (8, 'reputation_score', 'FLOAT', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (9, 'total_requests', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (10, 'successful_requests', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (11, 'failed_requests', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (12, 'total_upvotes_received', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (13, 'total_downvotes_received', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (14, 'total_upvotes_given', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (15, 'total_downvotes_given', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (16, 'is_banned', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (17, 'is_premium', 'BOOLEAN', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (18, 'ban_reason', 'TEXT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (19, 'banned_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (20, 'banned_until', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (21, 'last_request_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (22, 'last_vote_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (23, 'last_active_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (24, 'avatar_url', 'VARCHAR(500)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (25, 'username_last_changed_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (26, 'password_reset_token', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (27, 'password_reset_expires_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (28, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (29, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | PRAGMA main.table_info("votes")
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [raw sql] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B0FC0>, 'PRAGMA main.table_info("votes")', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B0FC0>, 'PRAGMA main.table_info("votes")', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E060B0FC0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E060B0FC0>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B0FC0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B0FC0>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (0, 'id', 'INTEGER', 1, None, 1)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (1, 'user_id', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (2, 'telegram_user_id', 'BIGINT', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (3, 'queue_item_id', 'INTEGER', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (4, 'vote_type', 'VARCHAR(20)', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (5, 'voted_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (6, 'previous_vote_type', 'VARCHAR(20)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (7, 'changed_at', 'DATETIME', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (8, 'source', 'VARCHAR(50)', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (9, 'telegram_callback_id', 'VARCHAR(255)', 0, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (10, 'created_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [36mDEBUG[0m | sqlalchemy.engine.Engine | Row (11, 'updated_at', 'DATETIME', 1, None, 0)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE votes
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00015s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B1A40>, '\nDROP TABLE votes', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B1A40>, '\nDROP TABLE votes', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B1A40>)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE radio_queue
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B1A40>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00017s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07BB86C0>, '\nDROP TABLE radio_queue', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07BB86C0>, '\nDROP TABLE radio_queue', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07BB86C0>)
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE radio_history
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07BB86C0>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00016s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077138C0>, '\nDROP TABLE radio_history', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077138C0>, '\nDROP TABLE radio_history', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077138C0>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077138C0>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE chat_messages
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00018s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07711F40>, '\nDROP TABLE chat_messages', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07711F40>, '\nDROP TABLE chat_messages', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07711F40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07711F40>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE users
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00017s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07710440>, '\nDROP TABLE users', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07710440>, '\nDROP TABLE users', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07710440>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07710440>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE songs
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00011s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07773240>, '\nDROP TABLE songs', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07773240>, '\nDROP TABLE songs', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07773240>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07773240>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | 
DROP TABLE banned_words
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | [no key 0.00016s] ()
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6F540>, '\nDROP TABLE banned_words', ())
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6F540>, '\nDROP TABLE banned_words', ()) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6F540>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6F540>) completed
2026-01-04 08:58:55 | [32mINFO[0m | sqlalchemy.engine.Engine | COMMIT
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000014E05CC1E40>)
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing <function Connection.stop.<locals>.close_and_stop at 0x0000014E07BDF2E0>
2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | operation <function Connection.stop.<locals>.close_and_stop at 0x0000014E07BDF2E0> completed
---------------------------- Captured log teardown ----------------------------
INFO     sqlalchemy.engine.Engine:base.py:2710 BEGIN (implicit)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("chat_messages")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B1CC0>, 'PRAGMA main.table_info("chat_messages")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B1CC0>, 'PRAGMA main.table_info("chat_messages")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E060B1CC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E060B1CC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B1CC0>)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'user_id', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'content', 'TEXT', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'message_type', 'VARCHAR(20)', 1, None, 0)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B1CC0>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'is_deleted', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'deleted_by_id', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'deleted_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (7, 'delete_reason', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (8, 'reply_to_id', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (9, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (10, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("radio_history")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07516140>, 'PRAGMA main.table_info("radio_history")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07516140>, 'PRAGMA main.table_info("radio_history")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07516140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07516140>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07516140>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07516140>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'song_id', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'queue_id', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'played_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'ended_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'duration_played_seconds', 'FLOAT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'broadcast_file_path', 'VARCHAR(500)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (7, 'stream_mount', 'VARCHAR(100)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (8, 'requester_telegram_id', 'BIGINT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (9, 'requester_username', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (10, 'song_title', 'VARCHAR(500)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (11, 'song_artist', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (12, 'song_genre', 'VARCHAR(100)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (13, 'had_dj_intro', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (14, 'dj_intro_text', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (15, 'listener_count', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (16, 'upvotes_during_play', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (17, 'downvotes_during_play', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (18, 'skips_requested', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (19, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (20, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("banned_words")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07BBA7C0>, 'PRAGMA main.table_info("banned_words")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07BBA7C0>, 'PRAGMA main.table_info("banned_words")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07BBA7C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07BBA7C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07BBA7C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07BBA7C0>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'word', 'VARCHAR(100)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'category', 'VARCHAR(50)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'reason', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'is_active', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("radio_queue")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07573040>, 'PRAGMA main.table_info("radio_queue")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07573040>, 'PRAGMA main.table_info("radio_queue")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07573040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07573040>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07573040>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07573040>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'user_id', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'telegram_user_id', 'BIGINT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'telegram_message_id', 'BIGINT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'song_id', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'original_prompt', 'TEXT', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'enhanced_prompt', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (7, 'genre_hint', 'VARCHAR(100)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (8, 'is_instrumental', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (9, 'status', 'VARCHAR(50)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (10, 'suno_job_id', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (11, 'error_message', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (12, 'retry_count', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (13, 'max_retries', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (14, 'base_priority', 'FLOAT', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (15, 'priority_score', 'FLOAT', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (16, 'is_priority_boost', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (17, 'priority_boost_reason', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (18, 'upvotes', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (19, 'downvotes', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (20, 'requested_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (21, 'queued_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (22, 'generation_started_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (23, 'generation_completed_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (24, 'broadcast_started_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (25, 'completed_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (26, 'is_moderated', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (27, 'moderation_passed', 'BOOLEAN', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (28, 'moderation_reason', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (29, 'has_dj_intro', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (30, 'dj_intro_path', 'VARCHAR(500)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (31, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (32, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("songs")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07570640>, 'PRAGMA main.table_info("songs")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07570640>, 'PRAGMA main.table_info("songs")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07570640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E07570640>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07570640>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07570640>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'suno_job_id', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'suno_status', 'VARCHAR(50)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'title', 'VARCHAR(500)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'artist', 'VARCHAR(255)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'original_prompt', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'enhanced_prompt', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (7, 'style_prompt', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (8, 'lyrics', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (9, 'genre', 'VARCHAR(100)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (10, 'subgenre', 'VARCHAR(100)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (11, 'mood', 'VARCHAR(100)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (12, 'energy', 'VARCHAR(50)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (13, 'duration_seconds', 'FLOAT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (14, 'bpm', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (15, 'key', 'VARCHAR(10)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (16, 'is_instrumental', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (17, 'audio_url', 'VARCHAR(1000)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (18, 'local_file_path', 'VARCHAR(500)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (19, 'file_size_bytes', 'INTEGER', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (20, 'audio_format', 'VARCHAR(10)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (21, 'lufs_level', 'FLOAT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (22, 'peak_db', 'FLOAT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (23, 'is_normalized', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (24, 'generation_started_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (25, 'generation_completed_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (26, 'downloaded_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (27, 'play_count', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (28, 'total_upvotes', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (29, 'total_downvotes', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (30, 'is_approved', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (31, 'moderation_notes', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (32, 'flagged_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (33, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (34, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("users")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B11C0>, 'PRAGMA main.table_info("users")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B11C0>, 'PRAGMA main.table_info("users")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E060B11C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E060B11C0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B11C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B11C0>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'email', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'password_hash', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'google_id', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'telegram_id', 'BIGINT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'telegram_username', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'telegram_first_name', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (7, 'telegram_last_name', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (8, 'reputation_score', 'FLOAT', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (9, 'total_requests', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (10, 'successful_requests', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (11, 'failed_requests', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (12, 'total_upvotes_received', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (13, 'total_downvotes_received', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (14, 'total_upvotes_given', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (15, 'total_downvotes_given', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (16, 'is_banned', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (17, 'is_premium', 'BOOLEAN', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (18, 'ban_reason', 'TEXT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (19, 'banned_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (20, 'banned_until', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (21, 'last_request_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (22, 'last_vote_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (23, 'last_active_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (24, 'avatar_url', 'VARCHAR(500)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (25, 'username_last_changed_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (26, 'password_reset_token', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (27, 'password_reset_expires_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (28, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (29, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 PRAGMA main.table_info("votes")
INFO     sqlalchemy.engine.Engine:base.py:1846 [raw sql] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B0FC0>, 'PRAGMA main.table_info("votes")', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B0FC0>, 'PRAGMA main.table_info("votes")', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E060B0FC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x0000014E060B0FC0>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B0FC0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B0FC0>) completed
DEBUG    sqlalchemy.engine.Engine:cursor.py:1549 Col ('cid', 'name', 'type', 'notnull', 'dflt_value', 'pk')
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (0, 'id', 'INTEGER', 1, None, 1)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (1, 'user_id', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (2, 'telegram_user_id', 'BIGINT', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (3, 'queue_item_id', 'INTEGER', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (4, 'vote_type', 'VARCHAR(20)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (5, 'voted_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (6, 'previous_vote_type', 'VARCHAR(20)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (7, 'changed_at', 'DATETIME', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (8, 'source', 'VARCHAR(50)', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (9, 'telegram_callback_id', 'VARCHAR(255)', 0, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (10, 'created_at', 'DATETIME', 1, None, 0)
DEBUG    sqlalchemy.engine.Engine:cursor.py:1581 Row (11, 'updated_at', 'DATETIME', 1, None, 0)
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE votes
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00015s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B1A40>, '\nDROP TABLE votes', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E060B1A40>, '\nDROP TABLE votes', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B1A40>)
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE radio_queue
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E060B1A40>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00017s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07BB86C0>, '\nDROP TABLE radio_queue', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07BB86C0>, '\nDROP TABLE radio_queue', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07BB86C0>)
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE radio_history
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07BB86C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00016s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077138C0>, '\nDROP TABLE radio_history', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E077138C0>, '\nDROP TABLE radio_history', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077138C0>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E077138C0>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE chat_messages
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00018s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07711F40>, '\nDROP TABLE chat_messages', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07711F40>, '\nDROP TABLE chat_messages', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07711F40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07711F40>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE users
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00017s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07710440>, '\nDROP TABLE users', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07710440>, '\nDROP TABLE users', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07710440>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07710440>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE songs
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00011s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07773240>, '\nDROP TABLE songs', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07773240>, '\nDROP TABLE songs', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07773240>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07773240>) completed
INFO     sqlalchemy.engine.Engine:base.py:1846 
DROP TABLE banned_words
INFO     sqlalchemy.engine.Engine:base.py:1846 [no key 0.00016s] ()
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6F540>, '\nDROP TABLE banned_words', ())
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x0000014E07C6F540>, '\nDROP TABLE banned_words', ()) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6F540>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x0000014E07C6F540>) completed
INFO     sqlalchemy.engine.Engine:base.py:2716 COMMIT
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing functools.partial(<built-in method close of sqlite3.Connection object at 0x0000014E05CC1E40>)
DEBUG    aiosqlite:core.py:67 operation functools.partial(<built-in method close of sqlite3.Connection object at 0x0000014E05CC1E40>) completed
DEBUG    aiosqlite:core.py:62 executing <function Connection.stop.<locals>.close_and_stop at 0x0000014E07BDF2E0>
DEBUG    aiosqlite:core.py:67 operation <function Connection.stop.<locals>.close_and_stop at 0x0000014E07BDF2E0> completed2026-01-04 08:58:55 | [36mDEBUG[0m | aiosqlite | executing <function Connection.stop.<locals>.close_and_stop at 0x0000014E07AD5E40>
--- Logging error ---

============================== warnings summary ===============================
tests/services/test_udio_provider.py::TestUdioProvider::test_download_audio_success
  C:\Users\Jesse\.gemini\antigravity\playground\radiant-ride\PYrte-Radio-Shack\src\services\music_provider.py:597: RuntimeWarning: coroutine 'AsyncMockMixin._execute_mock_call' was never awaited
    async with client.stream("GET", audio_url) as response:
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
FAILED tests/test_models.py::TestUserModel::test_user_max_daily_requests - assert 5 == 3
 +  where 5 = <User 1: @testuser (rep=0.0)>.max_daily_requests
FAILED tests/test_webhooks_broadcast.py::test_broadcast_status_start_song - assert 401 == 200
 +  where 401 = <Response [401 Unauthorized]>.status_code
FAILED tests/test_webhooks_broadcast.py::test_broadcast_status_end_song - assert 401 == 200
 +  where 401 = <Response [401 Unauthorized]>.status_code
FAILED tests/test_webhooks_broadcast.py::test_broadcast_unknown_song - assert 401 == 200
 +  where 401 = <Response [401 Unauthorized]>.status_code
================== 4 failed, 143 passed, 1 warning in 29.42s ==================
Traceback (most recent call last):
  File "C:\Users\Jesse\AppData\Local\Programs\Python\Python311\Lib\logging\__init__.py", line 1114, in emit
    self.flush()
  File "C:\Users\Jesse\AppData\Local\Programs\Python\Python311\Lib\logging\__init__.py", line 1094, in flush
    self.stream.flush()
ValueError: I/O operation on closed file.
Call stack:
  File "C:\Users\Jesse\AppData\Local\Programs\Python\Python311\Lib\threading.py", line 1002, in _bootstrap
    self._bootstrap_inner()
  File "C:\Users\Jesse\AppData\Local\Programs\Python\Python311\Lib\threading.py", line 1045, in _bootstrap_inner
    self.run()
  File "C:\Users\Jesse\AppData\Local\Programs\Python\Python311\Lib\threading.py", line 982, in run
    self._target(*self._args, **self._kwargs)
  File "C:\Users\Jesse\AppData\Local\Programs\Python\Python311\Lib\site-packages\aiosqlite\core.py", line 67, in _connection_worker_thread
    LOG.debug("operation %s completed", function)
Message: 'operation %s completed'
Arguments: (<function Connection.stop.<locals>.close_and_stop at 0x0000014E07AD5E40>,)
